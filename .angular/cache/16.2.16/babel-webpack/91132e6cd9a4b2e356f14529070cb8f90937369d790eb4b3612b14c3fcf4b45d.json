{"ast":null,"code":"import { computed } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HabitService } from '../../core/services/habit.service';\nimport { CardComponent } from '../../shared/ui/card.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/habit.service\";\nimport * as i2 from \"@angular/common\";\nfunction IdentityDashboardComponent_app_card_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-card\")(1, \"div\", 5)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 6)(5, \"div\", 7)(6, \"span\", 8);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 9);\n    i0.ɵɵtext(9, \"habits\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 7)(11, \"span\", 8);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 9);\n    i0.ɵɵtext(14, \"this month\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 7)(16, \"span\", 8);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 9);\n    i0.ɵɵtext(19, \"this year\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"p\", 10);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 11)(23, \"small\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const identity_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(identity_r2.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(identity_r2.habitCount);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(identity_r2.actionsThisMonth);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(identity_r2.actionsThisYear);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Every action reinforces: \\\"I am \", identity_r2.name, \"\\\" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\uD83D\\uDDF3\\uFE0F \", identity_r2.actionsThisYear, \" votes for this identity\");\n  }\n}\nfunction IdentityDashboardComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"p\");\n    i0.ɵɵtext(2, \"No identities yet.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 13);\n    i0.ɵɵtext(4, \"Create habits to start building your identity.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let IdentityDashboardComponent = /*#__PURE__*/(() => {\n  class IdentityDashboardComponent {\n    constructor(habitService) {\n      this.habitService = habitService;\n      this.identities = computed(() => {\n        const habits = this.habitService.allHabits();\n        const logs = this.habitService.allLogs();\n        const identityMap = new Map();\n        habits.forEach(habit => {\n          const identity = habit.identity.toLowerCase();\n          if (!identityMap.has(identity)) {\n            identityMap.set(identity, {\n              name: identity,\n              habitCount: 0,\n              actionsThisMonth: 0,\n              actionsThisYear: 0\n            });\n          }\n          const identityData = identityMap.get(identity);\n          identityData.habitCount++;\n          const habitLogs = logs.filter(l => l.habitId === habit.id && l.completed);\n          identityData.actionsThisMonth += habitLogs.length;\n          identityData.actionsThisYear += habitLogs.length;\n        });\n        return Array.from(identityMap.values());\n      });\n    }\n    static {\n      this.ɵfac = function IdentityDashboardComponent_Factory(t) {\n        return new (t || IdentityDashboardComponent)(i0.ɵɵdirectiveInject(i1.HabitService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: IdentityDashboardComponent,\n        selectors: [[\"app-identity-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 9,\n        vars: 2,\n        consts: [[1, \"identity-view\"], [1, \"subtitle\"], [1, \"identities-list\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [1, \"identity-card\"], [1, \"stat-row\"], [1, \"stat\"], [1, \"stat-value\"], [1, \"stat-label\"], [1, \"identity-message\"], [1, \"identity-votes\"], [1, \"empty-state\"], [1, \"hint\"]],\n        template: function IdentityDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\")(2, \"h1\");\n            i0.ɵɵtext(3, \"Your Identities\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"p\", 1);\n            i0.ɵɵtext(5, \"You are what you repeatedly do\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 2);\n            i0.ɵɵtemplate(7, IdentityDashboardComponent_app_card_7_Template, 25, 6, \"app-card\", 3);\n            i0.ɵɵtemplate(8, IdentityDashboardComponent_div_8_Template, 5, 0, \"div\", 4);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.identities());\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.identities().length === 0);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, CardComponent],\n        styles: [\".identity-view[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:32px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.identities-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.identity-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#111827;margin:0 0 20px;text-transform:capitalize}.stat-row[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:20px}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#6366f1}.stat-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.identity-message[_ngcontent-%COMP%]{padding-top:16px;border-top:1px solid #f3f4f6;font-size:14px;color:#6b7280;font-style:italic;margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 20px;color:#6b7280}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.hint[_ngcontent-%COMP%]{font-size:14px}.identity-votes[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid #f3f4f6;text-align:center}.identity-votes[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:13px;color:#6b7280}\"]\n      });\n    }\n  }\n  return IdentityDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}