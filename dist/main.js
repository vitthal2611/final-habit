"use strict";(self.webpackChunkatomic_habits_tracker=self.webpackChunkatomic_habits_tracker||[]).push([[792],{437:()=>{function ge(e){return"function"==typeof e}function Ws(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const yl=Ws(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function qs(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class zt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ge(r))try{r()}catch(o){t=o instanceof yl?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{yb(o)}catch(s){t=t??[],s instanceof yl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new yl(t)}}add(t){var n;if(t&&t!==this)if(this.closed)yb(t);else{if(t instanceof zt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&qs(n,t)}remove(t){const{_finalizers:n}=this;n&&qs(n,t),t instanceof zt&&t._removeParent(this)}}zt.EMPTY=(()=>{const e=new zt;return e.closed=!0,e})();const mb=zt.EMPTY;function _b(e){return e instanceof zt||e&&"closed"in e&&ge(e.remove)&&ge(e.add)&&ge(e.unsubscribe)}function yb(e){ge(e)?e():e.unsubscribe()}const wi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vl={setTimeout(e,t,...n){const{delegate:r}=vl;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=vl;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function vb(e){vl.setTimeout(()=>{const{onUnhandledError:t}=wi;if(!t)throw e;t(e)})}function Qh(){}const yN=Zh("C",void 0,void 0);function Zh(e,t,n){return{kind:e,value:t,error:n}}let Ei=null;function Cl(e){if(wi.useDeprecatedSynchronousErrorHandling){const t=!Ei;if(t&&(Ei={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Ei;if(Ei=null,n)throw r}}else e()}class Jh extends zt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,_b(t)&&t.add(this)):this.destination=DN}static create(t,n,r){return new Ys(t,n,r)}next(t){this.isStopped?ef(function CN(e){return Zh("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ef(function vN(e){return Zh("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ef(yN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const wN=Function.prototype.bind;function Xh(e,t){return wN.call(e,t)}class EN{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){bl(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){bl(r)}else bl(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){bl(n)}}}class Ys extends Jh{constructor(t,n,r){let i;if(super(),ge(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&wi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Xh(t.next,o),error:t.error&&Xh(t.error,o),complete:t.complete&&Xh(t.complete,o)}):i=t}this.destination=new EN(i)}}function bl(e){wi.useDeprecatedSynchronousErrorHandling?function bN(e){wi.useDeprecatedSynchronousErrorHandling&&Ei&&(Ei.errorThrown=!0,Ei.error=e)}(e):vb(e)}function ef(e,t){const{onStoppedNotification:n}=wi;n&&vl.setTimeout(()=>n(e,t))}const DN={closed:!0,next:Qh,error:function IN(e){throw e},complete:Qh},tf="function"==typeof Symbol&&Symbol.observable||"@@observable";function Br(e){return e}function Cb(e){return 0===e.length?Br:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let We=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function MN(e){return e&&e instanceof Jh||function TN(e){return e&&ge(e.next)&&ge(e.error)&&ge(e.complete)}(e)&&_b(e)}(n)?n:new Ys(n,r,i);return Cl(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=bb(r))((i,o)=>{const s=new Ys({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[tf](){return this}pipe(...n){return Cb(n)(this)}toPromise(n){return new(n=bb(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function bb(e){var t;return null!==(t=e??wi.Promise)&&void 0!==t?t:Promise}const AN=Ws(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let gn=(()=>{class e extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new wb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new AN}next(n){Cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?mb:(this.currentObservers=null,o.push(n),new zt(()=>{this.currentObservers=null,qs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new We;return n.source=this,n}}return e.create=(t,n)=>new wb(t,n),e})();class wb extends gn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:mb}}function Eb(e){return ge(e?.lift)}function Qe(e){return t=>{if(Eb(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(e,t,n,r,i){return new xN(e,t,n,r,i)}class xN extends Jh{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function _e(e,t){return Qe((n,r)=>{let i=0;n.subscribe(qe(r,o=>{r.next(e.call(t,o,i++))}))})}function jr(e){return this instanceof jr?(this.v=e,this):new jr(e)}function Tb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function af(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Mb=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ab(e){return ge(e?.then)}function xb(e){return ge(e[tf])}function Rb(e){return Symbol.asyncIterator&&ge(e?.[Symbol.asyncIterator])}function Pb(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nb=function rO(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ob(e){return ge(e?.[Nb])}function kb(e){return function Sb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(y){return new Promise(function(w,D){o.push([f,y,w,D])>1||c(f,y)})},p&&(i[f]=p(i[f])))}function c(f,p){try{!function l(f){f.value instanceof jr?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}(r[f](p))}catch(y){h(o[0][3],y)}}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield jr(n.read());if(i)return yield jr(void 0);yield yield jr(r)}}finally{n.releaseLock()}})}function Fb(e){return ge(e?.getReader)}function Wt(e){if(e instanceof We)return e;if(null!=e){if(xb(e))return function iO(e){return new We(t=>{const n=e[tf]();if(ge(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Mb(e))return function oO(e){return new We(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Ab(e))return function sO(e){return new We(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,vb)})}(e);if(Rb(e))return Lb(e);if(Ob(e))return function aO(e){return new We(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Fb(e))return function cO(e){return Lb(kb(e))}(e)}throw Pb(e)}function Lb(e){return new We(t=>{(function lO(e,t){var n,r,i,o;return function Ib(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Tb(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ar(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ht(e,t,n=1/0){return ge(t)?ht((r,i)=>_e((o,s)=>t(r,o,i,s))(Wt(e(r,i))),n):("number"==typeof t&&(n=t),Qe((r,i)=>function uO(e,t,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&t.complete()},f=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let w=!1;Wt(n(y,u++)).subscribe(qe(t,D=>{i?.(D),o?f(D):t.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){const D=c.shift();s?ar(t,s,()=>p(D)):p(D)}h()}catch(D){t.error(D)}}))};return e.subscribe(qe(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,e,n)))}function wl(e=1/0){return ht(Br,e)}const kn=new We(e=>e.complete());function lf(e){return e[e.length-1]}function Vb(e){return ge(lf(e))?e.pop():void 0}function Ks(e){return function hO(e){return e&&ge(e.schedule)}(lf(e))?e.pop():void 0}function Ub(e,t=0){return Qe((n,r)=>{n.subscribe(qe(r,i=>ar(r,e,()=>r.next(i),t),()=>ar(r,e,()=>r.complete(),t),i=>ar(r,e,()=>r.error(i),t)))})}function Hb(e,t=0){return Qe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Bb(e,t){if(!e)throw new Error("Iterable cannot be null");return new We(n=>{ar(n,t,()=>{const r=e[Symbol.asyncIterator]();ar(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ft(e,t){return t?function vO(e,t){if(null!=e){if(xb(e))return function pO(e,t){return Wt(e).pipe(Hb(t),Ub(t))}(e,t);if(Mb(e))return function mO(e,t){return new We(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Ab(e))return function gO(e,t){return Wt(e).pipe(Hb(t),Ub(t))}(e,t);if(Rb(e))return Bb(e,t);if(Ob(e))return function _O(e,t){return new We(n=>{let r;return ar(n,t,()=>{r=e[Nb](),ar(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}(e,t);if(Fb(e))return function yO(e,t){return Bb(kb(e),t)}(e,t)}throw Pb(e)}(e,t):Wt(e)}class rn extends gn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Y(...e){return ft(e,Ks(e))}function jb(e={}){const{connector:t=(()=>new gn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,u=d=!1},p=()=>{const y=s;f(),y?.unsubscribe()};return Qe((y,w)=>{l++,!d&&!u&&h();const D=c=c??t();w.add(()=>{l--,0===l&&!d&&!u&&(a=uf(p,i))}),D.subscribe(w),!s&&l>0&&(s=new Ys({next:C=>D.next(C),error:C=>{d=!0,h(),a=uf(f,n,C),D.error(C)},complete:()=>{u=!0,h(),a=uf(f,r),D.complete()}}),Wt(y).subscribe(s))})(o)}}function uf(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Ys({next:()=>{r.unsubscribe(),e()}});return Wt(t(...n)).subscribe(r)}function cr(e,t){return Qe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(qe(r,c=>{i?.unsubscribe();let l=0;const u=o++;Wt(e(c,u)).subscribe(i=qe(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wO(e,t){return e===t}function he(e){for(let t in e)if(e[t]===he)return t;throw Error("Could not find renamed property on target object.")}function El(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ze(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ze).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function df(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const EO=he({__forward_ref__:he});function Ce(e){return e.__forward_ref__=Ce,e.toString=function(){return Ze(this())},e}function U(e){return hf(e)?e():e}function hf(e){return"function"==typeof e&&e.hasOwnProperty(EO)&&e.__forward_ref__===Ce}function ff(e){return e&&!!e.\u0275providers}const $b="https://g.co/ng/security#xss";class S extends Error{constructor(t,n){super(function Il(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function $(e){return"string"==typeof e?e:null==e?"":String(e)}function pf(e,t){throw new S(-201,!1)}function on(e,t){null==e&&function F(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function H(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Di(e){return{providers:e.providers||[],imports:e.imports||[]}}function Dl(e){return Gb(e,Tl)||Gb(e,zb)}function Gb(e,t){return e.hasOwnProperty(t)?e[t]:null}function Sl(e){return e&&(e.hasOwnProperty(gf)||e.hasOwnProperty(RO))?e[gf]:null}const Tl=he({\u0275prov:he}),gf=he({\u0275inj:he}),zb=he({ngInjectableDef:he}),RO=he({ngInjectorDef:he});var te=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(te||{});let mf;function Nt(e){const t=mf;return mf=e,t}function qb(e,t,n){const r=Dl(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&te.Optional?null:void 0!==t?t:void pf(Ze(e))}const be=globalThis;class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qs={},bf="__NG_DI_FLAG__",Ml="ngTempTokenPath",OO=/\n/gm,Kb="__source";let lo;function $r(e){const t=lo;return lo=e,t}function LO(e,t=te.Default){if(void 0===lo)throw new S(-203,!1);return null===lo?qb(e,void 0,t):lo.get(e,t&te.Optional?null:void 0,t)}function Z(e,t=te.Default){return(function Wb(){return mf}()||LO)(U(e),t)}function N(e,t=te.Default){return Z(e,Al(t))}function Al(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function wf(e){const t=[];for(let n=0;n<e.length;n++){const r=U(e[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,o=te.Default;for(let s=0;s<r.length;s++){const a=r[s],c=VO(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(Z(i,o))}else t.push(Z(r))}return t}function Zs(e,t){return e[bf]=t,e.prototype[bf]=t,e}function VO(e){return e[bf]}function lr(e){return{toString:e}.toString()}var xl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xl||{}),mn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(mn||{});const Fn={},se=[],Rl=he({\u0275cmp:he}),Ef=he({\u0275dir:he}),If=he({\u0275pipe:he}),Zb=he({\u0275mod:he}),ur=he({\u0275fac:he}),Js=he({__NG_ELEMENT_ID__:he}),Jb=he({__NG_ENV_ID__:he});function Xb(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Df(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];tw(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function ew(e){return 3===e||4===e||6===e}function tw(e){return 64===e.charCodeAt(0)}function Xs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||nw(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function nw(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const rw="ng-template";function BO(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==Xb(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function iw(e){return 4===e.type&&e.value!==rw}function jO(e,t,n){return t===(4!==e.type||n?e.value:rw)}function $O(e,t,n){let r=4;const i=e.attrs||[],o=function WO(e){for(let t=0;t<e.length;t++)if(ew(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!jO(e,c,n)||""===c&&1===t.length){if(_n(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!BO(e.attrs,l,n)){if(_n(r))return!1;s=!0}continue}const d=GO(8&r?"class":c,i,iw(e),n);if(-1===d){if(_n(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Xb(f,l,0)||2&r&&l!==h){if(_n(r))return!1;s=!0}}}}else{if(!s&&!_n(r)&&!_n(c))return!1;if(s&&_n(c))continue;s=!1,r=c|1&r}}return _n(r)||s}function _n(e){return 0==(1&e)}function GO(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function qO(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ow(e,t,n=!1){for(let r=0;r<t.length;r++)if($O(e,t[r],n))return!0;return!1}function YO(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function sw(e,t){return e?":not("+t.trim()+")":t}function KO(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!_n(s)&&(t+=sw(o,i),i=""),r=s,o=o||!_n(r);n++}return""!==i&&(t+=sw(o,i)),t}function it(e){return lr(()=>{const t=cw(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||mn.Emulated,styles:e.styles||se,_:null,schemas:e.schemas||null,tView:null,id:""};lw(n);const r=e.dependencies;return n.directiveDefs=Pl(r,!1),n.pipeDefs=Pl(r,!0),n.id=function rk(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function XO(e){return ie(e)||ot(e)}function ek(e){return null!==e}function uo(e){return lr(()=>({type:e.type,bootstrap:e.bootstrap||se,declarations:e.declarations||se,imports:e.imports||se,exports:e.exports||se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function aw(e,t){if(null==e)return Fn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function B(e){return lr(()=>{const t=cw(e);return lw(t),t})}function Ot(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ie(e){return e[Rl]||null}function ot(e){return e[Ef]||null}function bt(e){return e[If]||null}function Yt(e,t){const n=e[Zb]||null;if(!n&&!0===t)throw new Error(`Type ${Ze(e)} does not have '\u0275mod' property.`);return n}function cw(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Fn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||se,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aw(e.inputs,t),outputs:aw(e.outputs)}}function lw(e){e.features?.forEach(t=>t(e))}function Pl(e,t){if(!e)return null;const n=t?bt:XO;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ek)}const Le=0,x=1,W=2,Re=3,yn=4,ea=5,pt=6,fo=7,Ue=8,Gr=9,po=10,G=11,ta=12,uw=13,go=14,He=15,na=16,mo=17,Ln=18,ra=19,dw=20,zr=21,dr=22,ia=23,oa=24,ne=25,Sf=1,hw=2,Vn=7,_o=9,st=11;function kt(e){return Array.isArray(e)&&"object"==typeof e[Sf]}function wt(e){return Array.isArray(e)&&!0===e[Sf]}function Tf(e){return 0!=(4&e.flags)}function Si(e){return e.componentOffset>-1}function Ol(e){return 1==(1&e.flags)}function vn(e){return!!e.template}function Mf(e){return 0!=(512&e[W])}function Ti(e,t){return e.hasOwnProperty(ur)?e[ur]:null}const Wr=Symbol("SIGNAL");function gw(e,t){return(null===e||"object"!=typeof e)&&Object.is(e,t)}let at=null,kl=!1;function sn(e){const t=at;return at=e,t}const Fl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function mw(e){if(kl)throw new Error("");if(null===at)return;const t=at.nextProducerIndex++;yo(at),t<at.producerNode.length&&at.producerNode[t]!==e&&aa(at)&&Ul(at.producerNode[t],at.producerIndexOfThis[t]),at.producerNode[t]!==e&&(at.producerNode[t]=e,at.producerIndexOfThis[t]=aa(at)?ww(e,at,t):0),at.producerLastReadVersion[t]=e.version}function _w(e){if(!aa(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Cw(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function yw(e){if(void 0===e.liveConsumerNode)return;const t=kl;kl=!0;try{for(const n of e.liveConsumerNode)n.dirty||vw(n)}finally{kl=t}}function Af(){return!1!==at?.consumerAllowSignalWrites}function vw(e){e.dirty=!0,yw(e),e.consumerMarkedDirty?.(e)}function Ll(e){return e&&(e.nextProducerIndex=0),sn(e)}function Vl(e,t){if(sn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(aa(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ul(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Cw(e){yo(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(_w(n),r!==n.version))return!0}return!1}function bw(e){if(yo(e),aa(e))for(let t=0;t<e.producerNode.length;t++)Ul(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ww(e,t,n){if(Ew(e),yo(e),0===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=ww(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ul(e,t){if(Ew(e),yo(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Ul(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];yo(i),i.producerIndexOfThis[r]=t}}function aa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function yo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Ew(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function hr(e,t){const n=Object.create(ck);n.computation=e,t?.equal&&(n.equal=t.equal);const r=()=>{if(_w(n),mw(n),n.value===Hl)throw n.error;return n.value};return r[Wr]=n,r}const xf=Symbol("UNSET"),Rf=Symbol("COMPUTING"),Hl=Symbol("ERRORED"),ck=(()=>({...Fl,value:xf,dirty:!0,error:null,equal:gw,producerMustRecompute:e=>e.value===xf||e.value===Rf,producerRecomputeValue(e){if(e.value===Rf)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Rf;const n=Ll(e);let r;try{r=e.computation()}catch(i){r=Hl,e.error=i}finally{Vl(e,n)}t!==xf&&t!==Hl&&r!==Hl&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}}))();let Iw=function lk(){throw new Error};function Pf(){Iw()}let Nf=null;function Un(e,t){const n=Object.create(dk);function r(){return mw(n),n.value}return n.value=e,t?.equal&&(n.equal=t.equal),r.set=Sw,r.update=hk,r.mutate=fk,r.asReadonly=pk,r[Wr]=n,r}const dk=(()=>({...Fl,equal:gw,readonlyFn:void 0}))();function Dw(e){e.version++,yw(e),Nf?.()}function Sw(e){const t=this[Wr];Af()||Pf(),t.equal(t.value,e)||(t.value=e,Dw(t))}function hk(e){Af()||Pf(),Sw.call(this,e(this[Wr].value))}function fk(e){const t=this[Wr];Af()||Pf(),e(t.value),Dw(t)}function pk(){const e=this[Wr];if(void 0===e.readonlyFn){const t=()=>this();t[Wr]=e,e.readonlyFn=t}return e.readonlyFn}const Mw=()=>{},mk=(()=>({...Fl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Mw}))();class _k{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function an(){return Aw}function Aw(e){return e.type.prototype.ngOnChanges&&(e.setInput=vk),yk}function yk(){const e=Rw(this),t=e?.current;if(t){const n=e.previous;if(n===Fn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function vk(e,t,n,r){const i=this.declaredInputs[n],o=Rw(e)||function Ck(e,t){return e[xw]=t}(e,{previous:Fn,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new _k(c&&c.currentValue,t,a===Fn),e[r]=t}an.ngInherit=!0;const xw="__ngSimpleChanges__";function Rw(e){return e[xw]||null}const Hn=function(e,t,n){},Pw="svg";function we(e){for(;Array.isArray(e);)e=e[Le];return e}function Bl(e,t){return we(t[e])}function Ft(e,t){return we(t[e.index])}function Ow(e,t){return e.data[t]}function vo(e,t){return e[t]}function Kt(e,t){const n=t[e];return kt(n)?n:n[Le]}function qr(e,t){return null==t?null:e[t]}function kw(e){e[mo]=0}function Sk(e){1024&e[W]||(e[W]|=1024,Lw(e,1))}function Fw(e){1024&e[W]&&(e[W]&=-1025,Lw(e,-1))}function Lw(e,t){let n=e[Re];if(null===n)return;n[ea]+=t;let r=n;for(n=n[Re];null!==n&&(1===t&&1===r[ea]||-1===t&&0===r[ea]);)n[ea]+=t,r=n,n=n[Re]}const L={lFrame:Yw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hw(){return L.bindingsEnabled}function Co(){return null!==L.skipHydrationRootTNode}function I(){return L.lFrame.lView}function oe(){return L.lFrame.tView}function Be(e){return L.lFrame.contextLView=e,e[Ue]}function je(e){return L.lFrame.contextLView=null,e}function ct(){let e=Bw();for(;null!==e&&64===e.type;)e=e.parent;return e}function Bw(){return L.lFrame.currentTNode}function Bn(e,t){const n=L.lFrame;n.currentTNode=e,n.isParent=t}function Ff(){return L.lFrame.isParent}function Lf(){L.lFrame.isParent=!1}function Et(){const e=L.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function bo(){return L.lFrame.bindingIndex++}function pr(e){const t=L.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Vk(e,t){const n=L.lFrame;n.bindingIndex=n.bindingRootIndex=e,Vf(t)}function Vf(e){L.lFrame.currentDirectiveIndex=e}function zw(){return L.lFrame.currentQueryIndex}function Hf(e){L.lFrame.currentQueryIndex=e}function Hk(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[pt]:null}function Ww(e,t,n){if(n&te.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&te.Host||(i=Hk(o),null===i||(o=o[go],10&i.type))););if(null===i)return!1;t=i,e=o}const r=L.lFrame=qw();return r.currentTNode=t,r.lView=e,!0}function Bf(e){const t=qw(),n=e[x];L.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function qw(){const e=L.lFrame,t=null===e?null:e.child;return null===t?Yw(e):t}function Yw(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Kw(){const e=L.lFrame;return L.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Qw=Kw;function jf(){const e=Kw();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function It(){return L.lFrame.selectedIndex}function Mi(e){L.lFrame.selectedIndex=e}function Oe(){const e=L.lFrame;return Ow(e.tView,e.selectedIndex)}function $f(){L.lFrame.currentNamespace=Pw}let Jw=!0;function jl(){return Jw}function Yr(e){Jw=e}function $l(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Gl(e,t,n){Xw(e,t,3,n)}function zl(e,t,n,r){(3&e[W])===n&&Xw(e,t,n,r)}function Gf(e,t){let n=e[W];(3&n)===t&&(n&=8191,n+=1,e[W]=n)}function Xw(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[mo]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[mo]+=65536),(a<o||-1==o)&&(qk(e,n,t,c),e[mo]=(4294901760&e[mo])+c+2),c++}function eE(e,t){Hn(4,e,t);const n=sn(null);try{t.call(e)}finally{sn(n),Hn(5,e,t)}}function qk(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[W]>>13<e[mo]>>16&&(3&e[W])===t&&(e[W]+=8192,eE(a,o)):eE(a,o)}const wo=-1;class la{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Wf(e){return e!==wo}function ua(e){return 32767&e}function da(e,t){let n=function Zk(e){return e>>16}(e),r=t;for(;n>0;)r=r[go],n--;return r}let qf=!0;function Wl(e){const t=qf;return qf=e,t}const tE=255,nE=5;let Jk=0;const jn={};function ql(e,t){const n=rE(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,Yf(r.data,e),Yf(t,null),Yf(r.blueprint,null));const i=Yl(e,t),o=e.injectorIndex;if(Wf(i)){const s=ua(i),a=da(i,t),c=a[x].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Yf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function rE(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Yl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=uE(i),null===r)return wo;if(n++,i=i[go],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return wo}function Kf(e,t,n){!function Xk(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Js)&&(r=n[Js]),null==r&&(r=n[Js]=Jk++);const i=r&tE;t.data[e+(i>>nE)]|=1<<i}(e,t,n)}function iE(e,t,n){if(n&te.Optional||void 0!==e)return e;pf()}function oE(e,t,n,r){if(n&te.Optional&&void 0===r&&(r=null),!(n&(te.Self|te.Host))){const i=e[Gr],o=Nt(void 0);try{return i?i.get(t,r,n&te.Optional):qb(t,r,n&te.Optional)}finally{Nt(o)}}return iE(r,0,n)}function sE(e,t,n,r=te.Default,i){if(null!==e){if(2048&t[W]&&!(r&te.Self)){const s=function oF(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[W]&&!(512&s[W]);){const a=aE(o,s,n,r|te.Self,jn);if(a!==jn)return a;let c=o.parent;if(!c){const l=s[dw];if(l){const u=l.get(n,jn,r);if(u!==jn)return u}c=uE(s),s=s[go]}o=c}return i}(e,t,n,r,jn);if(s!==jn)return s}const o=aE(e,t,n,r,jn);if(o!==jn)return o}return oE(t,n,r,i)}function aE(e,t,n,r,i){const o=function nF(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Js)?e[Js]:void 0;return"number"==typeof t?t>=0?t&tE:iF:t}(n);if("function"==typeof o){if(!Ww(t,e,r))return r&te.Host?iE(i,0,r):oE(t,n,r,i);try{let s;if(s=o(r),null!=s||r&te.Optional)return s;pf()}finally{Qw()}}else if("number"==typeof o){let s=null,a=rE(e,t),c=wo,l=r&te.Host?t[He][pt]:null;for((-1===a||r&te.SkipSelf)&&(c=-1===a?Yl(e,t):t[a+8],c!==wo&&lE(r,!1)?(s=t[x],a=ua(c),t=da(c,t)):a=-1);-1!==a;){const u=t[x];if(cE(o,a,u.data)){const d=tF(a,t,n,s,r,l);if(d!==jn)return d}c=t[a+8],c!==wo&&lE(r,t[x].data[a+8]===l)&&cE(o,a,t)?(s=u,a=ua(c),t=da(c,t)):a=-1}}return i}function tF(e,t,n,r,i,o){const s=t[x],a=s.data[e+8],u=Kl(a,s,n,null==r?Si(a)&&qf:r!=s&&0!=(3&a.type),i&te.Host&&o===a);return null!==u?Ai(t,s,u,a):jn}function Kl(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,u=o>>20,h=i?a+u:e.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=s[c];if(f&&vn(f)&&f.type===n)return c}return null}function Ai(e,t,n,r){let i=e[n];const o=t.data;if(function Yk(e){return e instanceof la}(i)){const s=i;s.resolving&&function IO(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new S(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ue(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$(e)}(o[n]));const a=Wl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Nt(s.injectImpl):null;Ww(e,r,te.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Wk(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Aw(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==l&&Nt(l),Wl(a),s.resolving=!1,Qw()}}return i}function cE(e,t,n){return!!(n[t+(e>>nE)]&1<<e)}function lE(e,t){return!(e&te.Self||e&te.Host&&t)}class Dt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return sE(this._tNode,this._lView,t,Al(r),n)}}function iF(){return new Dt(ct(),I())}function lt(e){return lr(()=>{const t=e.prototype.constructor,n=t[ur]||Qf(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[ur]||Qf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qf(e){return hf(e)?()=>{const t=Qf(U(e));return t&&t()}:Ti(e)}function uE(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[pt]:null}const Io="__parameters__";function So(e,t,n){return lr(()=>{const r=function Zf(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Io)?c[Io]:Object.defineProperty(c,Io,{value:[]})[Io];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Mo(e,t){e.forEach(n=>Array.isArray(n)?Mo(n,t):t(n))}function hE(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Zl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function pa(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Qt(e,t,n){let r=Ao(e,t);return r>=0?e[1|r]=n:(r=~r,function hF(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Jf(e,t){const n=Ao(e,t);if(n>=0)return e[1|n]}function Ao(e,t){return function fE(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const ep=Zs(So("Optional"),8),tp=Zs(So("SkipSelf"),4);function ru(e){return 128==(128&e.flags)}var Kr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Kr||{});const op=new Map;let FF=0;const ap="__ngContext__";function gt(e,t){kt(t)?(e[ap]=t[ra],function VF(e){op.set(e[ra],e)}(t)):e[ap]=t}let cp;function lp(e,t){return cp(e,t)}function _a(e){const t=e[Re];return wt(t)?t[Re]:t}function NE(e){return kE(e[ta])}function OE(e){return kE(e[yn])}function kE(e){for(;null!==e&&!wt(e);)e=e[yn];return e}function Po(e,t,n,r,i){if(null!=r){let o,s=!1;wt(r)?o=r:kt(r)&&(s=!0,r=r[Le]);const a=we(r);0===e&&null!==n?null==i?UE(t,n,a):xi(t,n,a,i||null,!0):1===e&&null!==n?xi(t,n,a,i||null,!0):2===e?function uu(e,t,n){const r=cu(e,t);r&&function rL(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function sL(e,t,n,r,i){const o=n[Vn];o!==we(n)&&Po(t,e,r,o,i);for(let a=st;a<n.length;a++){const c=n[a];va(c[x],c,e,t,r,o)}}(t,e,o,n,i)}}function su(e,t,n){return e.createElement(t,n)}function LE(e,t){const n=e[_o],r=n.indexOf(t);Fw(t),n.splice(r,1)}function au(e,t){if(e.length<=st)return;const n=st+t,r=e[n];if(r){const i=r[na];null!==i&&i!==e&&LE(i,r),t>0&&(e[n-1][yn]=r[yn]);const o=Zl(e,st+t);!function KF(e,t){va(e,t,t[G],2,null,null),t[Le]=null,t[pt]=null}(r[x],r);const s=o[Ln];null!==s&&s.detachView(o[x]),r[Re]=null,r[yn]=null,r[W]&=-129}return r}function dp(e,t){if(!(256&t[W])){const n=t[G];t[ia]&&bw(t[ia]),t[oa]&&bw(t[oa]),n.destroyNode&&va(e,t,n,3,null,null),function JF(e){let t=e[ta];if(!t)return hp(e[x],e);for(;t;){let n=null;if(kt(t))n=t[ta];else{const r=t[st];r&&(n=r)}if(!n){for(;t&&!t[yn]&&t!==e;)kt(t)&&hp(t[x],t),t=t[Re];null===t&&(t=e),kt(t)&&hp(t[x],t),n=t&&t[yn]}t=n}}(t)}}function hp(e,t){if(!(256&t[W])){t[W]&=-129,t[W]|=256,function nL(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof la)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Hn(4,a,c);try{c.call(a)}finally{Hn(5,a,c)}}else{Hn(4,i,o);try{o.call(i)}finally{Hn(5,i,o)}}}}}(e,t),function tL(e,t){const n=e.cleanup,r=t[fo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[fo]=null);const i=t[zr];if(null!==i){t[zr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[x].type&&t[G].destroy();const n=t[na];if(null!==n&&wt(t[Re])){n!==t[Re]&&LE(n,t);const r=t[Ln];null!==r&&r.detachView(e)}!function UF(e){op.delete(e[ra])}(t)}}function fp(e,t,n){return function VE(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Le];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===mn.None||o===mn.Emulated)return null}return Ft(r,n)}}(e,t.parent,n)}function xi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function UE(e,t,n){e.appendChild(t,n)}function HE(e,t,n,r,i){null!==r?xi(e,t,n,r,i):UE(e,t,n)}function cu(e,t){return e.parentNode(t)}function BE(e,t,n){return $E(e,t,n)}let pp,yp,hu,$E=function jE(e,t,n){return 40&e.type?Ft(e,n):null};function lu(e,t,n,r){const i=fp(e,r,t),o=t[G],a=BE(r.parent||t[pt],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)HE(o,i,n[c],a,!1);else HE(o,i,n,a,!1);void 0!==pp&&pp(o,r,t,n,i)}function ya(e,t){if(null!==t){const n=t.type;if(3&n)return Ft(t,e);if(4&n)return gp(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ya(e,r);{const i=e[t.index];return wt(i)?gp(-1,i):we(i)}}if(32&n)return lp(t,e)()||we(e[t.index]);{const r=zE(e,t);return null!==r?Array.isArray(r)?r[0]:ya(_a(e[He]),r):ya(e,t.next)}}return null}function zE(e,t){return null!==t?e[He][pt].projection[t.projection]:null}function gp(e,t){const n=st+e+1;if(n<t.length){const r=t[n],i=r[x].firstChild;if(null!==i)return ya(r,i)}return t[Vn]}function mp(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&gt(we(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)mp(e,t,n.child,r,i,o,!1),Po(t,e,i,a,o);else if(32&c){const l=lp(n,r);let u;for(;u=l();)Po(t,e,i,u,o);Po(t,e,i,a,o)}else 16&c?qE(e,t,r,n,i,o):Po(t,e,i,a,o);n=s?n.projectionNext:n.next}}function va(e,t,n,r,i,o){mp(n,r,e.firstChild,t,i,o,!1)}function qE(e,t,n,r,i,o){const s=n[He],c=s[pt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Po(t,e,i,c[l],o);else{let l=c;const u=s[Re];ru(r)&&(l.flags|=128),mp(e,t,l,u,i,o,!0)}}function YE(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function KE(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Df(e,t,r),null!==i&&YE(e,t,i),null!==o&&function cL(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function JE(e){return function vp(){if(void 0===hu&&(hu=null,be.trustedTypes))try{hu=be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return hu}()?.createScriptURL(e)||e}class XE{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$b})`}}function Qr(e){return e instanceof XE?e.changingThisBreaksApplicationSecurity:e}function Ca(e,t){const n=function yL(e){return e instanceof XE&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${$b})`)}return n===t}const wL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ko=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ko||{});function sI(e){const t=wa();return t?t.sanitize(ko.URL,e)||"":Ca(e,"URL")?Qr(e):function Cp(e){return(e=String(e)).match(wL)?e:"unsafe:"+e}($(e))}function aI(e){const t=wa();if(t)return JE(t.sanitize(ko.RESOURCE_URL,e)||"");if(Ca(e,"ResourceURL"))return JE(Qr(e));throw new S(904,!1)}function wa(){const e=I();return e&&e[po].sanitizer}const Ea=new P("ENVIRONMENT_INITIALIZER"),lI=new P("INJECTOR",-1),uI=new P("INJECTOR_DEF_TYPES");class Ip{get(t,n=Qs){if(n===Qs){const r=new Error(`NullInjectorError: No provider for ${Ze(t)}!`);throw r.name="NullInjectorError",r}return n}}function Dp(e){return{\u0275providers:e}}function kL(...e){return{\u0275providers:dI(0,e),\u0275fromNgModule:!0}}function dI(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Mo(t,s=>{const a=s;pu(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&hI(i,o),n}function hI(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Sp(i,o=>{t(o,r)})}}function pu(e,t,n,r){if(!(e=U(e)))return!1;let i=null,o=Sl(e);const s=!o&&ie(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=Sl(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)pu(l,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Mo(o.imports,u=>{pu(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&hI(l,t)}if(!a){const l=Ti(i)||(()=>new i);t({provide:i,useFactory:l,deps:se},i),t({provide:uI,useValue:i,multi:!0},i),t({provide:Ea,useValue:()=>Z(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=e;Sp(c,u=>{t(u,l)})}}}return i!==e&&void 0!==e.providers}function Sp(e,t){for(let n of e)ff(n)&&(n=n.\u0275providers),Array.isArray(n)?Sp(n,t):t(n)}const FL=he({provide:String,useValue:he});function Tp(e){return null!==e&&"object"==typeof e&&FL in e}function Ri(e){return"function"==typeof e}const Mp=new P("Set Injector scope."),gu={},VL={};let Ap;function mu(){return void 0===Ap&&(Ap=new Ip),Ap}class Cn{}class Fo extends Cn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rp(t,s=>this.processProvider(s)),this.records.set(lI,Lo(void 0,this)),i.has("environment")&&this.records.set(Cn,Lo(void 0,this));const o=this.records.get(Mp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(uI.multi,se,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=$r(this),r=Nt(void 0);try{return t()}finally{$r(n),Nt(r)}}get(t,n=Qs,r=te.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Jb))return t[Jb](this);r=Al(r);const o=$r(this),s=Nt(void 0);try{if(!(r&te.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function $L(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&Dl(t);c=l&&this.injectableDefInScope(l)?Lo(xp(t),gu):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&te.Self?mu():this.parent).get(t,n=r&te.Optional&&n===Qs?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ml]=a[Ml]||[]).unshift(Ze(t)),o)throw a;return function UO(e,t,n,r){const i=e[Ml];throw t[Kb]&&i.unshift(t[Kb]),e.message=function HO(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ze(t);if(Array.isArray(t))i=t.map(Ze).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(OO,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Ml]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Nt(s),$r(o)}}resolveInjectorInitializers(){const t=$r(this),n=Nt(void 0);try{const i=this.get(Ea.multi,se,te.Self);for(const o of i)o()}finally{$r(t),Nt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ze(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(t){let n=Ri(t=U(t))?t:U(t&&t.provide);const r=function HL(e){return Tp(e)?Lo(void 0,e.useValue):Lo(gI(e),gu)}(t);if(Ri(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Lo(void 0,gu,!0),i.factory=()=>wf(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===gu&&(n.value=VL,n.value=n.factory()),"object"==typeof n.value&&n.value&&function jL(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=U(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function xp(e){const t=Dl(e),n=null!==t?t.factory:Ti(e);if(null!==n)return n;if(e instanceof P)throw new S(204,!1);if(e instanceof Function)return function UL(e){const t=e.length;if(t>0)throw pa(t,"?"),new S(204,!1);const n=function xO(e){return e&&(e[Tl]||e[zb])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new S(204,!1)}function gI(e,t,n){let r;if(Ri(e)){const i=U(e);return Ti(i)||xp(i)}if(Tp(e))r=()=>U(e.useValue);else if(function pI(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...wf(e.deps||[]));else if(function fI(e){return!(!e||!e.useExisting)}(e))r=()=>Z(U(e.useExisting));else{const i=U(e&&(e.useClass||e.provide));if(!function BL(e){return!!e.deps}(e))return Ti(i)||xp(i);r=()=>new i(...wf(e.deps))}return r}function Lo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Rp(e,t){for(const n of e)Array.isArray(n)?Rp(n,t):n&&ff(n)?Rp(n.\u0275providers,t):t(n)}const Pp=new P("AppId",{providedIn:"root",factory:()=>GL}),GL="ng",mI=new P("Platform Initializer"),Vo=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_I=new P("CSP nonce",{providedIn:"root",factory:()=>function Oo(){if(void 0!==yp)return yp;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yI=(e,t,n)=>null;function Hp(e,t,n=!1){return yI(e,t,n)}class e2{}class bI{}class n2{resolveComponentFactory(t){throw function t2(e){const t=Error(`No component factory found for ${Ze(e)}.`);return t.ngComponent=e,t}(t)}}let wu=(()=>{class e{static{this.NULL=new n2}}return e})();function r2(){return Bo(ct(),I())}function Bo(e,t){return new Zt(Ft(e,t))}let Zt=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=r2}}return e})();function i2(e){return e instanceof Zt?e.nativeElement:e}class EI{}let mr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function o2(){const e=I(),n=Kt(ct().index,e);return(kt(n)?n:e)[G]}()}}return e})(),s2=(()=>{class e{static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>null})}}return e})();class Sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const a2=new Sa("16.2.12"),$p={};function TI(e,t=null,n=null,r){const i=MI(e,t,n,r);return i.resolveInjectorInitializers(),i}function MI(e,t=null,n=null,r,i=new Set){const o=[n||se,kL(e)];return r=r||("object"==typeof e?void 0:Ze(e)),new Fo(o,t||mu(),r||null,i)}let ln=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Qs}static{this.NULL=new Ip}static create(n,r){if(Array.isArray(n))return TI({name:""},r,n,"");{const i=n.name??"";return TI({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=H({token:e,providedIn:"any",factory:()=>Z(lI)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function zp(e){return e.ngOriginalError}class _r{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&zp(t);for(;n&&zp(n);)n=zp(n);return n||null}}function Wp(e){return t=>{setTimeout(e,void 0,t)}}const ke=class g2 extends gn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Wp(o),i&&(i=Wp(i)),s&&(s=Wp(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof zt&&t.add(a),a}};function xI(...e){}class Me{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function m2(){const e="function"==typeof be.requestAnimationFrame;let t=be[e?"requestAnimationFrame":"setTimeout"],n=be[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function v2(e){const t=()=>{!function y2(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(be,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Yp(e),e.isCheckStableRunning=!0,qp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Yp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function b2(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return RI(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),PI(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return RI(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),PI(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Yp(e),qp(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new S(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,_2,xI,xI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const _2={};function qp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function RI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function PI(e){e._nesting--,qp(e)}const NI=new P("",{providedIn:"root",factory:OI});function OI(){const e=N(Me);let t=!0;return function CO(...e){const t=Ks(e),n=function fO(e,t){return"number"==typeof lf(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Wt(r[0]):wl(n)(ft(r,t)):kn}(new We(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new We(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Me.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(jb()))}function yr(e){return e instanceof Function?e():e}let Kp=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ta(e){for(;e;){e[W]|=64;const t=_a(e);if(Mf(e)&&!t)return e;e=t}return null}const UI=new P("",{providedIn:"root",factory:()=>!1});let Du=null;function $I(e,t){return e[t]??WI()}function GI(e,t){const n=WI();n.producerNode?.length&&(e[t]=Du,n.lView=e,Du=zI())}const R2={...Fl,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ta(e.lView)},lView:null};function zI(){return Object.create(R2)}function WI(){return Du??=zI(),Du}const z={};function b(e){qI(oe(),I(),It()+e,!1)}function qI(e,t,n,r){if(!r)if(3==(3&t[W])){const o=e.preOrderCheckHooks;null!==o&&Gl(t,o,n)}else{const o=e.preOrderHooks;null!==o&&zl(t,o,0,n)}Mi(n)}function E(e,t=te.Default){const n=I();return null===n?Z(e,t):sE(ct(),n,U(e),t)}function Su(e,t,n,r,i,o,s,a,c,l,u){const d=t.blueprint.slice();return d[Le]=i,d[W]=140|r,(null!==l||e&&2048&e[W])&&(d[W]|=2048),kw(d),d[Re]=d[go]=e,d[Ue]=n,d[po]=s||e&&e[po],d[G]=a||e&&e[G],d[Gr]=c||e&&e[Gr]||null,d[pt]=o,d[ra]=function LF(){return FF++}(),d[dr]=u,d[dw]=l,d[He]=2==t.type?e[He]:d,d}function Go(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Qp(e,t,n,r,i){const o=Bw(),s=Ff(),c=e.data[t]=function H2(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Co()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function Lk(){return L.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function ca(){const e=L.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Bn(o,!0),o}function Ma(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function YI(e,t,n,r,i){const o=$I(t,ia),s=It(),a=2&r;try{Mi(-1),a&&t.length>ne&&qI(e,t,ne,!1),Hn(a?2:0,i);const l=a?o:null,u=Ll(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Vl(l,u)}}finally{a&&null===t[ia]&&GI(t,ia),Mi(s),Hn(a?3:1,i)}}function Zp(e,t,n){if(Tf(t)){const r=sn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{sn(r)}}}function Jp(e,t,n){Hw()&&(function q2(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Si(n)&&function eV(e,t,n){const r=Ft(t,e),i=KI(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Tu(e,Su(e,i,null,s,r,t,null,e[po].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ql(n,t),gt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],l=Ai(t,e,a,n);gt(l,t),null!==s&&tV(0,a-i,l,c,0,s),vn(c)&&(Kt(n.index,t)[Ue]=Ai(t,e,a,n))}}(e,t,n,Ft(n,t)),64==(64&n.flags)&&eD(e,t,n))}function Xp(e,t,n=Ft){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function KI(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=eg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function eg(e,t,n,r,i,o,s,a,c,l,u){const d=ne+r,h=d+i,f=function O2(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:z);return n}(d,h),p="function"==typeof l?l():l;return f[x]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let QI=e=>null;function ZI(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?JI(n,t,i,o):r.hasOwnProperty(i)&&JI(n,t,r[i],o)}return n}function JI(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function tg(e,t,n,r){if(Hw()){const i=null===r?null:{"":-1},o=function K2(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(ow(t,s.selectors,!1))if(r||(r=[]),vn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),ng(e,t,a.length)}else r.unshift(s),ng(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&XI(e,t,n,s,i,a),i&&function Q2(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new S(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Xs(n.mergedAttrs,n.attrs)}function XI(e,t,n,r,i,o){for(let l=0;l<r.length;l++)Kf(ql(n,t),e,r[l].type);!function J2(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Ma(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Xs(n.mergedAttrs,u.hostAttrs),X2(e,n,t,c,u),Z2(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function B2(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],h=n?n.get(d):null,p=h?h.outputs:null;c=ZI(d.inputs,u,c,h?h.inputs:null),l=ZI(d.outputs,u,l,p);const y=null===c||null===s||iw(t)?null:nV(c,u,s);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,o)}function eD(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Uk(){return L.lFrame.currentDirectiveIndex}();try{Mi(o);for(let a=r;a<i;a++){const c=e.data[a],l=t[a];Vf(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Y2(c,l)}}finally{Mi(-1),Vf(s)}}function Y2(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ng(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Z2(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;vn(t)&&(n[""]=e)}}function X2(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Ti(i.type)),s=new la(o,vn(i),E);e.blueprint[r]=s,n[r]=s,function z2(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function W2(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Ma(e,n,i.hostVars,z),i)}function $n(e,t,n,r,i,o){const s=Ft(e,t);!function rg(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?$(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[G],s,o,e.value,n,r,i)}function tV(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)tD(r,n,s[a++],s[a++],s[a++])}function tD(e,t,n,r,i){const o=sn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{sn(o)}}function nV(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nD(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function rD(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];Hf(n[r]),s.contentQueries(2,t[o],o)}}}function Tu(e,t){return e[ta]?e[uw][yn]=t:e[ta]=t,e[uw]=t,t}function ig(e,t,n){Hf(0);const r=sn(null);try{t(e,n)}finally{sn(r)}}function iD(e){return e[fo]||(e[fo]=[])}function oD(e){return e.cleanup||(e.cleanup=[])}function aD(e,t){const n=e[Gr],r=n?n.get(_r,null):null;r&&r.handleError(t)}function og(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];tD(e.data[s],t[s],r,a,i)}}function vr(e,t,n){const r=Bl(t,e);!function FE(e,t,n){e.setValue(t,n)}(e[G],r,n)}function rV(e,t){const n=Kt(t,e),r=n[x];!function iV(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Le];null!==i&&null===n[dr]&&(n[dr]=Hp(i,n[Gr])),sg(r,n,n[Ue])}function sg(e,t,n){Bf(t);try{const r=e.viewQuery;null!==r&&ig(1,r,n);const i=e.template;null!==i&&YI(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&rD(e,t),e.staticViewQueries&&ig(2,e.viewQuery,n);const o=e.components;null!==o&&function oV(e,t){for(let n=0;n<t.length;n++)rV(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[W]&=-5,jf()}}let cD=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function gk(e,t,n){const r=Object.create(mk);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>vw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Cw(r))return;r.hasRun=!0;const s=Ll(r);try{r.cleanupFn(),r.cleanupFn=Mw,r.fn(i)}finally{Vl(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Mu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=df(i,a):2==o&&(r=df(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Aa(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(we(o)),wt(o)&&lD(o,r);const s=n.type;if(8&s)Aa(e,t,n.child,r);else if(32&s){const a=lp(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=zE(t,n);if(Array.isArray(a))r.push(...a);else{const c=_a(t[He]);Aa(c[x],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lD(e,t){for(let n=st;n<e.length;n++){const r=e[n],i=r[x].firstChild;null!==i&&Aa(r[x],r,i,t)}e[Vn]!==e[Le]&&t.push(e[Vn])}function Au(e,t,n,r=!0){const i=t[po],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{uD(e,t,e.template,n)}catch(c){throw r&&aD(t,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function uD(e,t,n,r){const i=t[W];if(256!=(256&i)){t[po].effectManager?.flush(),Bf(t);try{kw(t),function $w(e){return L.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&YI(e,t,n,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&Gl(t,l,null)}else{const l=e.preOrderHooks;null!==l&&zl(t,l,0,null),Gf(t,0)}if(function cV(e){for(let t=NE(e);null!==t;t=OE(t)){if(!t[hw])continue;const n=t[_o];for(let r=0;r<n.length;r++){Sk(n[r])}}}(t),dD(t,2),null!==e.contentQueries&&rD(e,t),s){const l=e.contentCheckHooks;null!==l&&Gl(t,l)}else{const l=e.contentHooks;null!==l&&zl(t,l,1),Gf(t,1)}!function N2(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=$I(t,oa);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Mi(~o);else{const s=o,a=n[++i],c=n[++i];Vk(a,s),r.dirty=!1;const l=Ll(r);try{c(2,t[s])}finally{Vl(r,l)}}}}finally{null===t[oa]&&GI(t,oa),Mi(-1)}}(e,t);const a=e.components;null!==a&&fD(t,a,0);const c=e.viewQuery;if(null!==c&&ig(2,c,r),s){const l=e.viewCheckHooks;null!==l&&Gl(t,l)}else{const l=e.viewHooks;null!==l&&zl(t,l,2),Gf(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[W]&=-73,Fw(t)}finally{jf()}}}function dD(e,t){for(let n=NE(e);null!==n;n=OE(n))for(let r=st;r<n.length;r++)hD(n[r],t)}function lV(e,t,n){hD(Kt(t,e),n)}function hD(e,t){if(!function Ik(e){return 128==(128&e[W])}(e))return;const n=e[x],r=e[W];if(80&r&&0===t||1024&r||2===t)uD(n,e,n.template,e[Ue]);else if(e[ea]>0){dD(e,1);const i=n.components;null!==i&&fD(e,i,1)}}function fD(e,t,n){for(let r=0;r<t.length;r++)lV(e,t[r],n)}class xa{get rootNodes(){const t=this._lView,n=t[x];return Aa(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ue]}set context(t){this._lView[Ue]=t}get destroyed(){return 256==(256&this._lView[W])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Re];if(wt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(au(t,r),Zl(n,r))}this._attachedToViewContainer=!1}dp(this._lView[x],this._lView)}onDestroy(t){!function Vw(e,t){if(256==(256&e[W]))throw new S(911,!1);null===e[zr]&&(e[zr]=[]),e[zr].push(t)}(this._lView,t)}markForCheck(){Ta(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){this._lView[W]|=128}detectChanges(){Au(this._lView[x],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZF(e,t){va(e,t,t[G],2,null,null)}(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t}}class uV extends xa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Au(t[x],t,t[Ue],!1)}checkNoChanges(){}get context(){return null}}class pD extends wu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ie(t);return new Ra(n,this.ngModule)}}function gD(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class hV{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Al(r);const i=this.injector.get(t,$p,r);return i!==$p||n===$p?i:this.parentInjector.get(t,n,r)}}class Ra extends bI{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=gD(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gD(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function QO(e){return e.map(KO).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Cn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new hV(t,o):t,a=s.get(EI,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:s.get(s2,null),effectManager:s.get(cD,null),afterRenderEventManager:s.get(Kp,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function k2(e,t,n,r){const o=r.get(UI,!1)||n===mn.ShadowDom,s=e.selectRootElement(t,o);return function F2(e){QI(e)}(s),s}(h,r,this.componentDef.encapsulation,s):su(h,f,function dV(e){const t=e.toLowerCase();return"svg"===t?Pw:"math"===t?"math":null}(f)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let C=null;null!==p&&(C=Hp(p,s,!0));const R=eg(0,null,null,1,0,null,null,null,null,null,null),O=Su(null,R,null,D,null,null,d,h,s,null,C);let re,Gt;Bf(O);try{const Hr=this.componentDef;let zs,gb=null;Hr.findHostDirectiveDefs?(zs=[],gb=new Map,Hr.findHostDirectiveDefs(Hr,zs,gb),zs.push(Hr)):zs=[Hr];const lZ=function pV(e,t){const n=e[x],r=ne;return e[r]=t,Go(n,r,2,"#host",null)}(O,p),uZ=function gV(e,t,n,r,i,o,s){const a=i[x];!function mV(e,t,n,r){for(const i of e)t.mergedAttrs=Xs(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Mu(t,t.mergedAttrs,!0),null!==n&&KE(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=Hp(t,i[Gr]));const l=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Su(i,KI(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&ng(a,e,r.length-1),Tu(i,d),i[e.index]=d}(lZ,p,Hr,zs,O,d,h);Gt=Ow(R,ne),p&&function yV(e,t,n,r){if(r)Df(e,n,["ng-version",a2.full]);else{const{attrs:i,classes:o}=function ZO(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!_n(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Df(e,n,i),o&&o.length>0&&YE(e,n,o.join(" "))}}(h,Hr,p,r),void 0!==n&&function vV(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Gt,this.ngContentSelectors,n),re=function _V(e,t,n,r,i,o){const s=ct(),a=i[x],c=Ft(s,i);XI(a,i,s,n,null,r);for(let u=0;u<n.length;u++)gt(Ai(i,a,s.directiveStart+u,s),i);eD(a,i,s),c&&gt(c,i);const l=Ai(i,a,s.directiveStart+s.componentOffset,s);if(e[Ue]=i[Ue]=l,null!==o)for(const u of o)u(l,t);return Zp(a,s,e),l}(uZ,Hr,zs,gb,O,[CV]),sg(R,O,null)}finally{jf()}return new fV(this.componentType,re,Bo(Gt,O),O,Gt)}}class fV extends e2{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new uV(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;og(o[x],o,i,t,n),this.previousInputValues.set(t,n),Ta(Kt(this._tNode.index,o))}}get injector(){return new Dt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function CV(){const e=ct();$l(I()[x],e)}function fe(e){let t=function mD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(vn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=xu(e.inputs),s.inputTransforms=xu(e.inputTransforms),s.declaredInputs=xu(e.declaredInputs),s.outputs=xu(e.outputs);const a=i.hostBindings;a&&IV(e,a);const c=i.viewQuery,l=i.contentQueries;if(c&&wV(e,c),l&&EV(e,l),El(e.inputs,i.inputs),El(e.declaredInputs,i.declaredInputs),El(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),El(s.inputTransforms,i.inputTransforms)),vn(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===fe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function bV(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Xs(i.hostAttrs,n=Xs(n,i.hostAttrs))}}(r)}function xu(e){return e===Fn?{}:e===se?[]:e}function wV(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function EV(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function IV(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function CD(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function Ru(e){return!!function ag(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Gn(e,t,n){return e[t]=n}function mt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Pi(e,t,n,r){const i=mt(e,t,n);return mt(e,t+1,r)||i}function zn(e,t,n,r){const i=I();return mt(i,bo(),t)&&(oe(),$n(Oe(),i,e,t,n,r)),zn}function qo(e,t,n,r,i,o){const a=Pi(e,function fr(){return L.lFrame.bindingIndex}(),n,i);return pr(2),a?t+$(n)+r+$(i)+o:z}function j(e,t,n,r,i,o,s,a){const c=I(),l=oe(),u=e+ne,d=l.firstCreatePass?function KV(e,t,n,r,i,o,s,a,c){const l=t.consts,u=Go(t,e,4,s||null,qr(l,a));tg(t,n,u,qr(l,c)),$l(t,u);const d=u.tView=eg(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,o,s):l.data[u];Bn(d,!1);const h=ND(l,c,d,e);jl()&&lu(l,c,h,d),gt(h,c),Tu(c,c[u]=nD(h,c,h,d)),Ol(d)&&Jp(l,c,d),null!=s&&Xp(c,d,a)}let ND=function OD(e,t,n,r){return Yr(!0),t[G].createComment("")};function A(e,t,n){const r=I();return mt(r,bo(),t)&&function Jt(e,t,n,r,i,o,s,a){const c=Ft(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(og(e,n,u,r,i),Si(t)&&function $2(e,t){const n=Kt(t,e);16&n[W]||(n[W]|=64)}(n,t.index)):3&t.type&&(r=function j2(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(oe(),Oe(),r,e,t,r[G],n,!1),A}function fg(e,t,n,r,i){const s=i?"class":"style";og(e,n,t.inputs[s],s,r)}function g(e,t,n,r){const i=I(),o=oe(),s=ne+e,a=i[G],c=o.firstCreatePass?function eU(e,t,n,r,i,o){const s=t.consts,c=Go(t,e,2,r,qr(s,i));return tg(t,n,c,qr(s,o)),null!==c.attrs&&Mu(c,c.attrs,!1),null!==c.mergedAttrs&&Mu(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],l=kD(o,i,c,a,t,e);i[s]=l;const u=Ol(c);return Bn(c,!0),KE(a,l,c),32!=(32&c.flags)&&jl()&&lu(o,i,l,c),0===function Mk(){return L.lFrame.elementDepthCount}()&&gt(l,i),function Ak(){L.lFrame.elementDepthCount++}(),u&&(Jp(o,i,c),Zp(o,c,i)),null!==r&&Xp(i,c),g}function m(){let e=ct();Ff()?Lf():(e=e.parent,Bn(e,!1));const t=e;(function Rk(e){return L.skipHydrationRootTNode===e})(t)&&function kk(){L.skipHydrationRootTNode=null}(),function xk(){L.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&($l(n,e),Tf(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Kk(e){return 0!=(8&e.flags)}(t)&&fg(n,t,I(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Qk(e){return 0!=(16&e.flags)}(t)&&fg(n,t,I(),t.stylesWithoutHost,!1),m}function $e(e,t,n,r){return g(e,t,n,r),m(),$e}let kD=(e,t,n,r,i,o)=>(Yr(!0),su(r,i,function Zw(){return L.lFrame.currentNamespace}()));function _t(){return I()}function Fa(e){return!!e&&"function"==typeof e.then}function VD(e){return!!e&&"function"==typeof e.subscribe}function V(e,t,n,r){const i=I(),o=oe(),s=ct();return function HD(e,t,n,r,i,o,s){const a=Ol(r),l=e.firstCreatePass&&oD(e),u=t[Ue],d=iD(t);let h=!0;if(3&r.type||s){const y=Ft(r,t),w=s?s(y):y,D=d.length,C=s?O=>s(we(O[r.index])):r.index;let R=null;if(!s&&a&&(R=function sU(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[fo],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,h=!1;else{o=jD(r,t,u,o,!1);const O=n.listen(w,i,o);d.push(o,O),l&&l.push(i,C,D,D+1)}}else o=jD(r,t,u,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const y=p.length;if(y)for(let w=0;w<y;w+=2){const re=t[p[w]][p[w+1]].subscribe(o),Gt=d.length;d.push(o,re),l&&l.push(i,r.index,Gt,-(Gt+1))}}}(o,i,i[G],s,e,t,r),V}function BD(e,t,n,r){try{return Hn(6,t,n),!1!==n(r)}catch(i){return aD(e,i),!1}finally{Hn(7,t,n)}}function jD(e,t,n,r,i){return function o(s){if(s===Function)return r;Ta(e.componentOffset>-1?Kt(e.index,t):t);let c=BD(t,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=BD(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function k(e=1){return function Bk(e){return(L.lFrame.contextLView=function jk(e,t){for(;e>0;)t=t[go],e--;return t}(e,L.lFrame.contextLView))[Ue]}(e)}function aU(e,t){let n=null;const r=function zO(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?ow(e,o,!0):YO(r,o))return i}else n=i}return n}function mg(e){const t=I()[He][pt];if(!t.projection){const r=t.projection=pa(e?e.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=e?aU(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function _g(e,t=0,n){const r=I(),i=oe(),o=Go(i,ne+e,16,null,n||null);null===o.projection&&(o.projection=t),Lf(),(!r[dr]||Co())&&32!=(32&o.flags)&&function oL(e,t,n){qE(t[G],0,t,n,fp(e,n,t),BE(n.parent||t[pt],n,t))}(i,r,o)}function Fu(e,t){return e<<17|t<<2}function Zr(e){return e>>17&32767}function vg(e){return 2|e}function Ni(e){return(131068&e)>>2}function Cg(e,t){return-131069&e|t<<2}function bg(e){return 1|e}function JD(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Zr(o):Ni(o),c=!1;for(;0!==a&&(!1===c||s);){const u=e[a+1];fU(e[a],t)&&(c=!0,e[a+1]=r?bg(u):vg(u)),a=r?Zr(u):Ni(u)}c&&(e[n+1]=r?vg(o):bg(o))}function fU(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ao(e,t)>=0}const Xe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XD(e){return e.substring(Xe.key,Xe.keyEnd)}function eS(e,t){const n=Xe.textEnd;return n===t?-1:(t=Xe.keyEnd=function _U(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Xe.key=t,n),es(e,t,n))}function es(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Jr(e,t,n){return bn(e,t,n,!1),Jr}function Wn(e,t){return bn(e,t,null,!0),Wn}function oS(e){!function wn(e,t,n,r){const i=oe(),o=pr(2);i.firstUpdatePass&&aS(i,null,o,r);const s=I();if(n!==z&&mt(s,o,n)){const a=i.data[It()];if(dS(a,r)&&!sS(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=df(c,n||"")),fg(i,a,s,n,r)}else!function TU(e,t,n,r,i,o,s,a){i===z&&(i=se);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let y,p=null;u===d?(c+=2,l+=2,h!==f&&(p=d,y=f)):null===d||null!==u&&u<d?(c+=2,p=u):(l+=2,p=d,y=f),null!==p&&lS(e,t,n,r,p,y,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}(i,a,s,s[G],s[o+1],s[o+1]=function DU(e,t,n){if(null==n||""===n)return se;const r=[],i=Qr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(SU,Yn,e,!0)}function Yn(e,t){for(let n=function gU(e){return function nS(e){Xe.key=0,Xe.keyEnd=0,Xe.value=0,Xe.valueEnd=0,Xe.textEnd=e.length}(e),eS(e,es(e,0,Xe.textEnd))}(t);n>=0;n=eS(t,n))Qt(e,XD(t),!0)}function bn(e,t,n,r){const i=I(),o=oe(),s=pr(2);o.firstUpdatePass&&aS(o,e,s,r),t!==z&&mt(i,s,t)&&lS(o,o.data[It()],i,i[G],e,i[s+1]=function MU(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ze(Qr(e)))),e}(t,n),r,s)}function sS(e,t){return t>=e.expandoStartIndex}function aS(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[It()],s=sS(e,n);dS(o,r)&&null===t&&!s&&(t=!1),t=function bU(e,t,n,r){const i=function Uf(e){const t=L.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=La(n=wg(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=wg(i,e,t,n,r),null===o){let c=function wU(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ni(r))return e[Zr(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=wg(null,e,t,c[1],r),c=La(c,t.attrs,r),function EU(e,t,n,r){e[Zr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function IU(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=La(r,e[o].hostAttrs,n);return La(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function dU(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Zr(s),c=Ni(s);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Ao(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const h=Zr(e[a+1]);e[r+1]=Fu(h,a),0!==h&&(e[h+1]=Cg(e[h+1],r)),e[a+1]=function lU(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Fu(a,0),0!==a&&(e[a+1]=Cg(e[a+1],r)),a=r;else e[r+1]=Fu(c,0),0===a?a=r:e[c+1]=Cg(e[c+1],r),c=r;l&&(e[r+1]=vg(e[r+1])),JD(e,u,r,!0),JD(e,u,r,!1),function hU(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ao(o,t)>=0&&(n[r+1]=bg(n[r+1]))}(t,u,e,r,o),s=Fu(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function wg(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=La(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function La(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Qt(e,s,!!n||t[++o]))}return void 0===e?null:e}function SU(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&Qt(e,r,n)}function lS(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function uU(e){return 1==(1&e)}(l)?uS(c,t,n,i,Ni(l),s):void 0;Lu(u)||(Lu(o)||function cU(e){return 2==(2&e)}(l)&&(o=uS(c,null,n,i,a,s)),function aL(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Kr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kr.Important),e.setStyle(n,r,i,o))}}(r,s,Bl(It(),n),i,o))}function uS(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=n[i+1];h===z&&(h=d?se:void 0);let f=d?Jf(h,r):u===r?h:void 0;if(l&&!Lu(f)&&(f=Jf(c,r)),Lu(f)&&(a=f,s))return a;const p=e[i+1];i=s?Zr(p):Ni(p)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Jf(c,r))}return a}function Lu(e){return void 0!==e}function dS(e,t){return 0!=(e.flags&(t?8:16))}function _(e,t=""){const n=I(),r=oe(),i=e+ne,o=r.firstCreatePass?Go(r,i,1,t,null):r.data[i],s=hS(r,n,o,t,e);n[i]=s,jl()&&lu(r,n,s,o),Bn(o,!1)}let hS=(e,t,n,r,i)=>(Yr(!0),function ou(e,t){return e.createText(t)}(t[G],r));function K(e){return Ee("",e,""),K}function Ee(e,t,n){const r=I(),i=function Wo(e,t,n,r){return mt(e,bo(),n)?t+$(n)+r:z}(r,e,t,n);return i!==z&&vr(r,It(),i),Ee}function Eg(e,t,n,r,i){const o=I(),s=qo(o,e,t,n,r,i);return s!==z&&vr(o,It(),s),Eg}const Oi=void 0;var QU=["en",[["a","p"],["AM","PM"],Oi],[["AM","PM"],Oi,Oi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oi,"{1} 'at' {0}",Oi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KU(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ts={};function St(e){const t=function ZU(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=PS(t);if(n)return n;const r=t.split("-")[0];if(n=PS(r),n)return n;if("en"===r)return QU;throw new S(701,!1)}function PS(e){return e in ts||(ts[e]=be.ng&&be.ng.common&&be.ng.common.locales&&be.ng.common.locales[e]),ts[e]}var Ie=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ie||{});const ns="en-US";let NS=ns;function Sg(e,t,n,r,i){if(e=U(e),Array.isArray(e))for(let o=0;o<e.length;o++)Sg(e[o],t,n,r,i);else{const o=oe(),s=I(),a=ct();let c=Ri(e)?e:U(e.provide);const l=gI(e),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ri(e)||!e.multi){const f=new la(l,i,E),p=Mg(c,t,i?u:u+h,d);-1===p?(Kf(ql(a,s),o,c),Tg(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=Mg(c,t,u+h,d),p=Mg(c,t,u,u+h),w=p>=0&&n[p];if(i&&!w||!i&&!(f>=0&&n[f])){Kf(ql(a,s),o,c);const D=function KH(e,t,n,r,i){const o=new la(e,n,E);return o.multi=[],o.index=t,o.componentProviders=0,iT(o,i,r&&!n),o}(i?YH:qH,n.length,i,r,l);!i&&w&&(n[p].providerFactory=D),Tg(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else Tg(o,e,f>-1?f:p,iT(n[i?p:f],l,!i&&r));!i&&r&&w&&n[p].componentProviders++}}}function Tg(e,t,n,r){const i=Ri(t),o=function LL(e){return!!e.useClass}(t);if(i||o){const c=(o?U(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function iT(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Mg(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function qH(e,t,n,r){return Ag(this.multi,[])}function YH(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ai(n,n[x],this.providerFactory.index,r);o=a.slice(0,s),Ag(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Ag(i,o);return o}function Ag(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Pe(e,t=[]){return n=>{n.providersResolver=(r,i)=>function WH(e,t,n){const r=oe();if(r.firstCreatePass){const i=vn(e);Sg(n,r.data,r.blueprint,i,!0),Sg(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class ki{}class oT{}class xg extends ki{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pD(this);const i=Yt(t);this._bootstrapComponents=yr(i.bootstrap),this._r3Injector=MI(t,n,[{provide:ki,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...r],Ze(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Rg extends oT{constructor(t){super(),this.moduleType=t}create(t){return new xg(this.moduleType,t,[])}}class sT extends ki{constructor(t){super(),this.componentFactoryResolver=new pD(this),this.instance=null;const n=new Fo([...t.providers,{provide:ki,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],t.parent||mu(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function aT(e,t,n=null){return new sT({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let JH=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=dI(0,n.type),i=r.length>0?aT([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(Z(Cn))})}}return e})();function ut(e){e.getStandaloneInjector=t=>t.get(JH).getOrCreateStandaloneInjector(e)}function $a(e,t){const n=e[t];return n===z?void 0:n}function Ga(e,t){const n=oe();let r;const i=e+ne;n.firstCreatePass?(r=function mB(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Ti(r.type)),a=Nt(E);try{const c=Wl(!1),l=o();return Wl(c),function JV(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,I(),i,l),l}finally{Nt(a)}}function Ng(e,t,n){const r=e+ne,i=I(),o=vo(i,r);return za(i,r)?function gT(e,t,n,r,i,o){const s=t+n;return mt(e,s,i)?Gn(e,s+1,o?r.call(o,i):r(i)):$a(e,s+1)}(i,Et(),t,o.transform,n,o):o.transform(n)}function Og(e,t,n,r){const i=e+ne,o=I(),s=vo(o,i);return za(o,i)?function mT(e,t,n,r,i,o,s){const a=t+n;return Pi(e,a,i,o)?Gn(e,a+2,s?r.call(s,i,o):r(i,o)):$a(e,a+2)}(o,Et(),t,s.transform,n,r,s):s.transform(n,r)}function za(e,t){return e[x].data[t].pure}function CB(){return this._results[Symbol.iterator]()}class kg{get changes(){return this._changes||(this._changes=new ke)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=kg.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=CB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function cn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function uF(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function wB(e,t,n,r=!0){const i=t[x];if(function XF(e,t,n,r){const i=st+r,o=n.length;r>0&&(n[i-1][yn]=t),r<o-st?(t[yn]=n[i],hE(n,st+r,t)):(n.push(t),t[yn]=null),t[Re]=n;const s=t[na];null!==s&&n!==s&&function eL(e,t){const n=e[_o];t[He]!==t[Re][Re][He]&&(e[hw]=!0),null===n?e[_o]=[t]:n.push(t)}(s,t);const a=t[Ln];null!==a&&a.insertView(e),t[W]|=128}(i,t,e,n),r){const o=gp(n,e),s=t[G],a=cu(s,e[Vn]);null!==a&&function QF(e,t,n,r,i,o){r[Le]=i,r[pt]=t,va(e,r,n,1,i,o)}(i,e[pt],s,t,a,o)}}let Cr=(()=>{class e{static{this.__NG_ELEMENT_ID__=DB}}return e})();const EB=Cr,IB=class extends EB{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function bB(e,t,n,r){const i=t.tView,a=Su(e,i,n,4096&e[W]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[na]=e[t.index];const l=e[Ln];return null!==l&&(a[Ln]=l.createEmbeddedView(i)),sg(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new xa(i)}};function DB(){return ju(ct(),I())}function ju(e,t){return 4&e.type?new IB(t,e,Bo(e,t)):null}let En=(()=>{class e{static{this.__NG_ELEMENT_ID__=RB}}return e})();function RB(){return ST(ct(),I())}const PB=En,IT=class extends PB{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Bo(this._hostTNode,this._hostLView)}get injector(){return new Dt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Yl(this._hostTNode,this._hostLView);if(Wf(t)){const n=da(t,this._hostLView),r=ua(t);return new Dt(n[x].data[r+8],n)}return new Dt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=DT(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function fa(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?t:new Ra(ie(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?l:this.parentInjector).get(Cn,null);w&&(o=w)}ie(c.componentType??{});const f=c.create(l,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function Dk(e){return wt(e[Re])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=i[Re],u=new IT(l,l[pt],l[Re]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return wB(a,i,s,!r),t.attachToViewContainerRef(),hE(Fg(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=DT(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=au(this._lContainer,n);r&&(Zl(Fg(this._lContainer),n),dp(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=au(this._lContainer,n);return r&&null!=Zl(Fg(this._lContainer),n)?new xa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function DT(e){return e[8]}function Fg(e){return e[8]||(e[8]=[])}function ST(e,t){let n;const r=t[e.index];return wt(r)?n=r:(n=nD(r,t,null,e),t[e.index]=n,Tu(t,n)),TT(n,t,e,r),new IT(n,e,t)}let TT=function MT(e,t,n,r){if(e[Vn])return;let i;i=8&n.type?we(r):function NB(e,t){const n=e[G],r=n.createComment(""),i=Ft(t,e);return xi(n,cu(n,i),r,function iL(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Vn]=i};class Lg{constructor(t){this.queryList=t,this.matches=null}clone(){return new Lg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Vg(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==FT(t,n).matches&&this.queries[n].setDirty()}}class AT{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Ug{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Ug(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Hg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Hg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,FB(n,o)),this.matchTNodeWithReadOption(t,n,Kl(n,t,o,!1,!1))}else r===Cr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Kl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Zt||i===En||i===Cr&&4&n.type)this.addMatch(n.index,-2);else{const o=Kl(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function FB(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function VB(e,t,n,r){return-1===n?function LB(e,t){return 11&e.type?Bo(e,t):4&e.type?ju(e,t):null}(t,e):-2===n?function UB(e,t,n){return n===Zt?Bo(t,e):n===Cr?ju(t,e):n===En?ST(t,e):void 0}(e,t,r):Ai(e,e[x],n,t)}function xT(e,t,n,r){const i=t[Ln].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:VB(t,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Bg(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=xT(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=t[-c];for(let d=st;d<u.length;d++){const h=u[d];h[na]===h[Re]&&Bg(h[x],h,l,r)}if(null!==u[_o]){const d=u[_o];for(let h=0;h<d.length;h++){const f=d[h];Bg(f[x],f,l,r)}}}}}return r}function RT(e){const t=I(),n=oe(),r=zw();Hf(r+1);const i=FT(n,r);if(e.dirty&&function Ek(e){return 4==(4&e[W])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Bg(n,t,r,[]):xT(n,t,i,r);e.reset(o,i2),e.notifyOnChanges()}return!0}return!1}function PT(e,t,n,r){const i=oe();if(i.firstCreatePass){const o=ct();(function kT(e,t,n){null===e.queries&&(e.queries=new Ug),e.queries.track(new Hg(t,n))})(i,new AT(t,n,r),o.index),function jB(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}!function OT(e,t,n){const r=new kg(4==(4&n));(function U2(e,t,n,r){const i=iD(t);i.push(n),e.firstCreatePass&&oD(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[Ln]&&(t[Ln]=new Vg),t[Ln].queries.push(new Lg(r))}(i,I(),n)}function FT(e,t){return e.queries.getByIndex(t)}const u3=new P("Application Initializer");let qg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=N(u3,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Fa(o))n.push(o);else if(VD(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XT=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const br=new P("LocaleId",{providedIn:"root",factory:()=>N(br,te.Optional|te.SkipSelf)||function d3(){return typeof $localize<"u"&&$localize.locale||ns}()});let e0=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class p3{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let g3=(()=>{class e{compileModuleSync(n){return new Rg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=yr(Yt(n).declarations).reduce((s,a)=>{const c=ie(a);return c&&s.push(new Ra(c)),s},[]);return new p3(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const o0=new P("");let Xr=null;const Xg=new P("PlatformDestroyListeners"),em=new P("appBootstrapListener");function j3(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,i=function B3(e=[]){if(Xr)return Xr;const t=function l0(e=[],t){return ln.create({name:t,providers:[{provide:Mp,useValue:"platform"},{provide:Xg,useValue:new Set([()=>Xr=null])},...e]})}(e);return Xr=t,function a0(){!function uk(e){Iw=e}(()=>{throw new S(600,!1)})}(),function c0(e){e.get(mI,null)?.forEach(n=>n())}(t),t}(r),o=[q3(),...n||[]],a=new sT({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Me);return c.run(()=>{a.resolveInjectorInitializers();const l=a.get(_r,null);let u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});const d=()=>a.destroy(),h=i.get(Xg);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),function h0(e,t,n){try{const r=n();return Fa(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(l,c,()=>{const f=a.get(qg);return f.runInitializers(),f.donePromise.then(()=>{!function OS(e){on(e,"Expected localeId to be defined"),"string"==typeof e&&(NS=e.toLowerCase().replace(/_/g,"-"))}(a.get(br,ns)||ns);const y=a.get(os);return void 0!==t&&y.bootstrap(t),y})})})}catch(t){return Promise.reject(t)}}let os=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(g0),this.zoneIsStable=N(NI),this.componentTypes=[],this.components=[],this.isStable=N(e0).hasPendingTasks.pipe(cr(n=>n?Y(!1):this.zoneIsStable),function bO(e,t=Br){return e=e??wO,Qe((n,r)=>{let i,o=!0;n.subscribe(qe(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),jb()),this._injector=N(Cn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof bI;if(!this._injector.get(qg).done)throw!i&&function ho(e){const t=ie(e)||ot(e)||bt(e);return null!==t&&t.standalone}(n),new S(405,!1);let s;s=i?n:this._injector.get(wu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function U3(e){return e.isBoundToModule}(s)?void 0:this._injector.get(ki),l=s.create(ln.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(o0,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),qu(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(em,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function qu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const g0=new P("",{providedIn:"root",factory:()=>N(_r).handleError.bind(void 0)});function z3(){const e=N(Me),t=N(_r);return n=>e.runOutsideAngular(()=>t.handleError(n))}let W3=(()=>{class e{constructor(){this.zone=N(Me),this.applicationRef=N(os)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function m0(e){return[{provide:Me,useFactory:e},{provide:Ea,multi:!0,useFactory:()=>{const t=N(W3,{optional:!0});return()=>t.initialize()}},{provide:g0,useFactory:z3},{provide:NI,useFactory:OI}]}function q3(e){return Dp([[],m0(()=>new Me(function d0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let Yu=(()=>{class e{static{this.__NG_ELEMENT_ID__=Y3}}return e})();function Y3(e){return function K3(e,t,n){if(Si(e)&&!n){const r=Kt(e.index,t);return new xa(r,r)}return 47&e.type?new xa(t[He],t):null}(ct(),I(),16==(16&e))}class b0{constructor(){}supports(t){return Ru(t)}create(t){return new ej(t)}}const X3=(e,t)=>t;class ej{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||X3}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<E0(r,i,o)?n:r,a=E0(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ru(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function RV(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new tj(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new w0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new w0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class tj{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nj{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class w0{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new nj,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E0(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function D0(){return new Zu([new b0])}let Zu=(()=>{class e{static{this.\u0275prov=H({token:e,providedIn:"root",factory:D0})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||D0()),deps:[[e,new tp,new ep]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return e})();function ss(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let am=null;function ei(){return am}class vj{}const In=new P("DocumentToken");let k0=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:function(){return N(Cj)},providedIn:"platform"})}}return e})(),Cj=(()=>{class e extends k0{constructor(){super(),this._doc=N(In),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ei().getBaseHref(this._doc)}onPopState(n){const r=ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function F0(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function L0(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Li(e){return e&&"?"!==e[0]?"?"+e:e}let Xu=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:function(){return N(wj)},providedIn:"root"})}}return e})();const bj=new P("appBaseHref");let wj=(()=>{class e extends Xu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(In).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return F0(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Li(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Li(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Li(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(Z(k0),Z(bj,8))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cm=(()=>{class e{constructor(n){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Dj(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(L0(V0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Li(r))}normalize(n){return e.stripTrailingSlash(function Ij(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,V0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Li(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Li(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Li}static{this.joinWithSlash=F0}static{this.stripTrailingSlash=L0}static{this.\u0275fac=function(r){return new(r||e)(Z(Xu))}}static{this.\u0275prov=H({token:e,factory:function(){return function Ej(){return new cm(Z(Xu))}()},providedIn:"root"})}}return e})();function V0(e){return e.replace(/\/index.html$/,"")}var Mt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Mt||{}),ye=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ye||{}),Xt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Xt||{}),Ge=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Ge||{});function td(e,t){return hn(St(e)[Ie.DateFormat],t)}function nd(e,t){return hn(St(e)[Ie.TimeFormat],t)}function rd(e,t){return hn(St(e)[Ie.DateTimeFormat],t)}function dn(e,t){const n=St(e),r=n[Ie.NumberSymbols][t];if(typeof r>"u"){if(t===Ge.CurrencyDecimal)return n[Ie.NumberSymbols][Ge.Decimal];if(t===Ge.CurrencyGroup)return n[Ie.NumberSymbols][Ge.Group]}return r}function H0(e){if(!e[Ie.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ie.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function um(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Uj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ka={},Hj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var wr=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(wr||{}),ce=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ce||{}),le=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(le||{});function Bj(e,t,n,r){let i=function Qj(e){if($0(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,o=1,s=1]=e.split("-").map(a=>+a);return id(i,o-1,s)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(Uj))return function Zj(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,c,l),t}(r)}const t=new Date(e);if(!$0(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Er(n,t)||t;let a,s=[];for(;t;){if(a=Hj.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let c=i.getTimezoneOffset();r&&(c=j0(r,c),i=function Kj(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset();return function Yj(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(j0(t,i)-i))}(i,r,!0));let l="";return s.forEach(u=>{const d=function qj(e){if(hm[e])return hm[e];let t;switch(e){case"G":case"GG":case"GGG":t=De(le.Eras,ye.Abbreviated);break;case"GGGG":t=De(le.Eras,ye.Wide);break;case"GGGGG":t=De(le.Eras,ye.Narrow);break;case"y":t=Ye(ce.FullYear,1,0,!1,!0);break;case"yy":t=Ye(ce.FullYear,2,0,!0,!0);break;case"yyy":t=Ye(ce.FullYear,3,0,!1,!0);break;case"yyyy":t=Ye(ce.FullYear,4,0,!1,!0);break;case"Y":t=cd(1);break;case"YY":t=cd(2,!0);break;case"YYY":t=cd(3);break;case"YYYY":t=cd(4);break;case"M":case"L":t=Ye(ce.Month,1,1);break;case"MM":case"LL":t=Ye(ce.Month,2,1);break;case"MMM":t=De(le.Months,ye.Abbreviated);break;case"MMMM":t=De(le.Months,ye.Wide);break;case"MMMMM":t=De(le.Months,ye.Narrow);break;case"LLL":t=De(le.Months,ye.Abbreviated,Mt.Standalone);break;case"LLLL":t=De(le.Months,ye.Wide,Mt.Standalone);break;case"LLLLL":t=De(le.Months,ye.Narrow,Mt.Standalone);break;case"w":t=dm(1);break;case"ww":t=dm(2);break;case"W":t=dm(1,!0);break;case"d":t=Ye(ce.Date,1);break;case"dd":t=Ye(ce.Date,2);break;case"c":case"cc":t=Ye(ce.Day,1);break;case"ccc":t=De(le.Days,ye.Abbreviated,Mt.Standalone);break;case"cccc":t=De(le.Days,ye.Wide,Mt.Standalone);break;case"ccccc":t=De(le.Days,ye.Narrow,Mt.Standalone);break;case"cccccc":t=De(le.Days,ye.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":t=De(le.Days,ye.Abbreviated);break;case"EEEE":t=De(le.Days,ye.Wide);break;case"EEEEE":t=De(le.Days,ye.Narrow);break;case"EEEEEE":t=De(le.Days,ye.Short);break;case"a":case"aa":case"aaa":t=De(le.DayPeriods,ye.Abbreviated);break;case"aaaa":t=De(le.DayPeriods,ye.Wide);break;case"aaaaa":t=De(le.DayPeriods,ye.Narrow);break;case"b":case"bb":case"bbb":t=De(le.DayPeriods,ye.Abbreviated,Mt.Standalone,!0);break;case"bbbb":t=De(le.DayPeriods,ye.Wide,Mt.Standalone,!0);break;case"bbbbb":t=De(le.DayPeriods,ye.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":t=De(le.DayPeriods,ye.Abbreviated,Mt.Format,!0);break;case"BBBB":t=De(le.DayPeriods,ye.Wide,Mt.Format,!0);break;case"BBBBB":t=De(le.DayPeriods,ye.Narrow,Mt.Format,!0);break;case"h":t=Ye(ce.Hours,1,-12);break;case"hh":t=Ye(ce.Hours,2,-12);break;case"H":t=Ye(ce.Hours,1);break;case"HH":t=Ye(ce.Hours,2);break;case"m":t=Ye(ce.Minutes,1);break;case"mm":t=Ye(ce.Minutes,2);break;case"s":t=Ye(ce.Seconds,1);break;case"ss":t=Ye(ce.Seconds,2);break;case"S":t=Ye(ce.FractionalSeconds,1);break;case"SS":t=Ye(ce.FractionalSeconds,2);break;case"SSS":t=Ye(ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=sd(wr.Short);break;case"ZZZZZ":t=sd(wr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=sd(wr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=sd(wr.Long);break;default:return null}return hm[e]=t,t}(u);l+=d?d(i,n,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function id(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Er(e,t){const n=function Tj(e){return St(e)[Ie.LocaleId]}(e);if(Ka[n]=Ka[n]||{},Ka[n][t])return Ka[n][t];let r="";switch(t){case"shortDate":r=td(e,Xt.Short);break;case"mediumDate":r=td(e,Xt.Medium);break;case"longDate":r=td(e,Xt.Long);break;case"fullDate":r=td(e,Xt.Full);break;case"shortTime":r=nd(e,Xt.Short);break;case"mediumTime":r=nd(e,Xt.Medium);break;case"longTime":r=nd(e,Xt.Long);break;case"fullTime":r=nd(e,Xt.Full);break;case"short":const i=Er(e,"shortTime"),o=Er(e,"shortDate");r=od(rd(e,Xt.Short),[i,o]);break;case"medium":const s=Er(e,"mediumTime"),a=Er(e,"mediumDate");r=od(rd(e,Xt.Medium),[s,a]);break;case"long":const c=Er(e,"longTime"),l=Er(e,"longDate");r=od(rd(e,Xt.Long),[c,l]);break;case"full":const u=Er(e,"fullTime"),d=Er(e,"fullDate");r=od(rd(e,Xt.Full),[u,d])}return r&&(Ka[n][t]=r),r}function od(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return null!=t&&r in t?t[r]:n})),e}function Dn(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function Ye(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function $j(e,t){switch(e){case ce.FullYear:return t.getFullYear();case ce.Month:return t.getMonth();case ce.Date:return t.getDate();case ce.Hours:return t.getHours();case ce.Minutes:return t.getMinutes();case ce.Seconds:return t.getSeconds();case ce.FractionalSeconds:return t.getMilliseconds();case ce.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===ce.Hours)0===a&&-12===n&&(a=12);else if(e===ce.FractionalSeconds)return function jj(e,t){return Dn(e,3).substring(0,t)}(a,t);const c=dn(s,Ge.MinusSign);return Dn(a,t,c,r,i)}}function De(e,t,n=Mt.Format,r=!1){return function(i,o){return function Gj(e,t,n,r,i,o){switch(n){case le.Months:return function xj(e,t,n){const r=St(e),o=hn([r[Ie.MonthsFormat],r[Ie.MonthsStandalone]],t);return hn(o,n)}(t,i,r)[e.getMonth()];case le.Days:return function Aj(e,t,n){const r=St(e),o=hn([r[Ie.DaysFormat],r[Ie.DaysStandalone]],t);return hn(o,n)}(t,i,r)[e.getDay()];case le.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const l=function Oj(e){const t=St(e);return H0(t),(t[Ie.ExtraData][2]||[]).map(r=>"string"==typeof r?um(r):[um(r[0]),um(r[1])])}(t),u=function kj(e,t,n){const r=St(e);H0(r);const o=hn([r[Ie.ExtraData][0],r[Ie.ExtraData][1]],t)||[];return hn(o,n)||[]}(t,i,r),d=l.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,y=s>=f.hours&&a>=f.minutes,w=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(y&&w)return!0}else if(y||w)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function Mj(e,t,n){const r=St(e),o=hn([r[Ie.DayPeriodsFormat],r[Ie.DayPeriodsStandalone]],t);return hn(o,n)}(t,i,r)[s<12?0:1];case le.Eras:return function Rj(e,t){return hn(St(e)[Ie.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function sd(e){return function(t,n,r){const i=-1*r,o=dn(n,Ge.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case wr.Short:return(i>=0?"+":"")+Dn(s,2,o)+Dn(Math.abs(i%60),2,o);case wr.ShortGMT:return"GMT"+(i>=0?"+":"")+Dn(s,1,o);case wr.Long:return"GMT"+(i>=0?"+":"")+Dn(s,2,o)+":"+Dn(Math.abs(i%60),2,o);case wr.Extended:return 0===r?"Z":(i>=0?"+":"")+Dn(s,2,o)+":"+Dn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const zj=0,ad=4;function B0(e){return id(e.getFullYear(),e.getMonth(),e.getDate()+(ad-e.getDay()))}function dm(e,t=!1){return function(n,r){let i;if(t){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=B0(n),s=function Wj(e){const t=id(e,zj,1).getDay();return id(e,0,1+(t<=ad?ad:ad+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Dn(i,e,dn(r,Ge.MinusSign))}}function cd(e,t=!1){return function(n,r){return Dn(B0(n).getFullYear(),e,dn(r,Ge.MinusSign),t)}}const hm={};function j0(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function $0(e){return e instanceof Date&&!isNaN(e.valueOf())}class h4{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new h4(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),K0(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{K0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(E(En),E(Cr),E(Zu))}}static{this.\u0275dir=B({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function K0(e,t){e.context.$implicit=t.item}let Kn=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new f4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Q0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Q0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(E(En),E(Cr))}}static{this.\u0275dir=B({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class f4{constructor(){this.$implicit=null,this.ngIf=null}}function Q0(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ze(t)}'.`)}function Tn(e,t){return new S(2100,!1)}const w4=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let bm=(()=>{class e{transform(n){if(null==n)return null;if("string"!=typeof n)throw Tn();return n.replace(w4,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=Ot({name:"titlecase",type:e,pure:!0,standalone:!0})}}return e})();const D4=new P("DATE_PIPE_DEFAULT_TIMEZONE"),S4=new P("DATE_PIPE_DEFAULT_OPTIONS");let wm=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return Bj(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Tn()}}static{this.\u0275fac=function(r){return new(r||e)(E(br,16),E(D4,24),E(S4,24))}}static{this.\u0275pipe=Ot({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),Ht=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=uo({type:e})}static{this.\u0275inj=Di({})}}return e})();function eM(e){return"server"===e}class l6 extends vj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Tm extends l6{static makeCurrent(){!function yj(e){am||(am=e)}(new Tm)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function u6(){return Ja=Ja||document.querySelector("base"),Ja?Ja.getAttribute("href"):null}();return null==n?null:function d6(e){hd=hd||document.createElement("a"),hd.setAttribute("href",e);const t=hd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function l4(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let hd,Ja=null,f6=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const Mm=new P("EventManagerPlugins");let oM=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(Z(Mm),Z(Me))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();class sM{constructor(t){this._doc=t}}const Am="ng-app-id";let aM=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eM(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Am}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Am),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Am,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Z(In),Z(Pp),Z(_I,8),Z(Vo))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const xm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rm=/%COMP%/g,_6=new P("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function lM(e,t){return t.map(n=>n.replace(Rm,e))}let uM=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=eM(a),this.defaultRenderer=new Pm(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mn.ShadowDom&&(r={...r,encapsulation:mn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof hM?i.applyToHost(n):i instanceof Nm&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case mn.Emulated:o=new hM(c,l,r,this.appId,u,s,a,d);break;case mn.ShadowDom:return new b6(c,l,n,r,s,a,this.nonce,d);default:o=new Nm(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Z(oM),Z(aM),Z(Pp),Z(_6),Z(In),Z(Vo),Z(Me),Z(_I))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();class Pm{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(xm[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(dM(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(dM(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=xm[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=xm[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Kr.DashCase|Kr.Important)?t.style.setProperty(n,r,i&Kr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Kr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=ei().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function dM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class b6 extends Pm{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=lM(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nm extends Pm{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?lM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hM extends Nm{constructor(t,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=function y6(e){return"_ngcontent-%COMP%".replace(Rm,e)}(l),this.hostAttr=function v6(e){return"_nghost-%COMP%".replace(Rm,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}const fM=["alt","control","meta","shift"],E6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I6={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function pM(e){return{appProviders:[...P6,...e?.providers??[]],platformProviders:x6}}const x6=[{provide:Vo,useValue:"browser"},{provide:mI,useValue:function T6(){Tm.makeCurrent()},multi:!0},{provide:In,useFactory:function A6(){return function hL(e){yp=e}(document),document},deps:[]}],P6=[{provide:Mp,useValue:"root"},{provide:_r,useFactory:function M6(){return new _r},deps:[]},{provide:Mm,useClass:(()=>{class e extends sM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(Z(In))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[In,Me,Vo]},{provide:Mm,useClass:(()=>{class e extends sM{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ei().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fM.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=E6[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),fM.forEach(s=>{s!==i&&(0,I6[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(Z(In))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[In]},uM,aM,oM,{provide:EI,useExisting:uM},{provide:class H4{},useClass:f6,deps:[]},[]];let gM=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(Z(In))}}static{this.\u0275prov=H({token:e,factory:function(r){let i=null;return i=r?new r:function O6(){return new gM(Z(In))}(),i},providedIn:"root"})}}return e})();function vM(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){vM(o,r,i,s,a,"next",c)}function a(c){vM(o,r,i,s,a,"throw",c)}s(void 0)})}}typeof window<"u"&&window;const fd=Ws(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:H6}=Array,{getPrototypeOf:B6,prototype:j6,keys:$6}=Object;function CM(e){if(1===e.length){const t=e[0];if(H6(t))return{args:t,keys:null};if(function G6(e){return e&&"object"==typeof e&&B6(e)===j6}(t)){const n=$6(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:z6}=Array;function bM(e){return _e(t=>function W6(e,t){return z6(t)?e(...t):e(t)}(e,t))}function wM(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function EM(...e){const t=Ks(e),n=Vb(e),{args:r,keys:i}=CM(e);if(0===r.length)return ft([],t);const o=new We(function q6(e,t,n=Br){return r=>{IM(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)IM(t,()=>{const l=ft(e[c],t);let u=!1;l.subscribe(qe(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>wM(i,s):Br));return n?o.pipe(bM(n)):o}function IM(e,t,n){e?ar(n,e,t):t()}function km(...e){return function Y6(){return wl(1)}()(ft(e,Ks(e)))}function DM(e){return new We(t=>{Wt(e()).subscribe(t)})}function Xa(e,t){const n=ge(e)?e:()=>e,r=i=>i.error(n());return new We(t?i=>t.schedule(r,0,i):r)}function Fm(){return Qe((e,t)=>{let n=null;e._refCount++;const r=qe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class SM extends We{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Eb(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new zt;const n=this.getSubject();t.add(this.source.subscribe(qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=zt.EMPTY)}return t}refCount(){return Fm()(this)}}function cs(e){return e<=0?()=>kn:Qe((t,n)=>{let r=0;t.subscribe(qe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Vi(e,t){return Qe((n,r)=>{let i=0;n.subscribe(qe(r,o=>e.call(t,o,i++)&&r.next(o)))})}function pd(e){return Qe((t,n)=>{let r=!1;t.subscribe(qe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function TM(e=Q6){return Qe((t,n)=>{let r=!1;t.subscribe(qe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Q6(){return new fd}function Ui(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Vi((i,o)=>e(i,o,r)):Br,cs(1),n?pd(t):TM(()=>new fd))}function gd(e,t){return ge(t)?ht(e,t,1):ht(e,1)}function yt(e,t,n){const r=ge(e)||t||n?{next:e,error:t,complete:n}:e;return r?Qe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(qe(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Br}function Hi(e){return Qe((t,n)=>{let o,r=null,i=!1;r=t.subscribe(qe(n,void 0,void 0,s=>{o=Wt(e(s,Hi(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Lm(e){return e<=0?()=>kn:Qe((t,n)=>{let r=[];t.subscribe(qe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vm(e){return Qe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Q="primary",ec=Symbol("RouteTitle");class n${constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ls(e){return new n$(e)}function r$(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Qn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!MM(e[i],t[i]))return!1;return!0}function MM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function AM(e){return e.length>0?e[e.length-1]:null}function ni(e){return function U6(e){return!!e&&(e instanceof We||ge(e.lift)&&ge(e.subscribe))}(e)?e:Fa(e)?ft(Promise.resolve(e)):Y(e)}const o$={exact:function PM(e,t,n){if(!Bi(e.segments,t.segments)||!md(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!PM(e.children[r],t.children[r],n))return!1;return!0},subset:NM},xM={exact:function s$(e,t){return Qn(e,t)},subset:function a$(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>MM(e[n],t[n]))},ignored:()=>!0};function RM(e,t,n){return o$[n.paths](e.root,t.root,n.matrixParams)&&xM[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function NM(e,t,n){return OM(e,t,t.segments,n)}function OM(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Bi(i,n)||t.hasChildren()||!md(i,n,r))}if(e.segments.length===n.length){if(!Bi(e.segments,n)||!md(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!NM(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Bi(e.segments,i)&&md(e.segments,i,r)&&e.children[Q])&&OM(e.children[Q],t,o,r)}}function md(e,t,n){return t.every((r,i)=>xM[n](e[i].parameters,r.parameters))}class us{constructor(t=new pe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ls(this.queryParams)),this._queryParamMap}toString(){return u$.serialize(this)}}class pe{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _d(this)}}class tc{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ls(this.parameters)),this._parameterMap}toString(){return LM(this)}}function Bi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let nc=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:function(){return new Um},providedIn:"root"})}}return e})();class Um{parse(t){const n=new b$(t);return new us(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${rc(t.root,!0)}`,r=function f$(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${yd(n)}=${yd(i)}`).join("&"):`${yd(n)}=${yd(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function d$(e){return encodeURI(e)}(t.fragment)}`:""}`}}const u$=new Um;function _d(e){return e.segments.map(t=>LM(t)).join("/")}function rc(e,t){if(!e.hasChildren())return _d(e);if(t){const n=e.children[Q]?rc(e.children[Q],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${rc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function l$(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Q&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Q&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Q?[rc(e.children[Q],!1)]:[`${i}:${rc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Q]?`${_d(e)}/${n[0]}`:`${_d(e)}/(${n.join("//")})`}}function kM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yd(e){return kM(e).replace(/%3B/gi,";")}function Hm(e){return kM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vd(e){return decodeURIComponent(e)}function FM(e){return vd(e.replace(/\+/g,"%20"))}function LM(e){return`${Hm(e.path)}${function h$(e){return Object.keys(e).map(t=>`;${Hm(t)}=${Hm(e[t])}`).join("")}(e.parameters)}`}const p$=/^[^\/()?;#]+/;function Bm(e){const t=e.match(p$);return t?t[0]:""}const g$=/^[^\/()?;=#]+/,_$=/^[^=?&#]+/,v$=/^[^&#]+/;class b${constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Q]=new pe(t,n)),r}parseSegment(){const t=Bm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new tc(vd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function m$(e){const t=e.match(g$);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Bm(this.remaining);i&&(r=i,this.capture(r))}t[vd(n)]=vd(r)}parseQueryParam(t){const n=function y$(e){const t=e.match(_$);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function C$(e){const t=e.match(v$);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=FM(n),o=FM(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Q);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Q]:new pe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}}function VM(e){return e.segments.length>0?new pe([],{[Q]:e}):e}function UM(e){const t={};for(const r of Object.keys(e.children)){const o=UM(e.children[r]);if(r===Q&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function w$(e){if(1===e.numberOfChildren&&e.children[Q]){const t=e.children[Q];return new pe(e.segments.concat(t.segments),t.children)}return e}(new pe(e.segments,t))}function ji(e){return e instanceof us}function HM(e){let t;const i=VM(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new pe(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function BM(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return jm(i,i,i,n,r);const o=function I$(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new $M(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new $M(n,t,r)}(t);if(o.toRoot())return jm(i,i,new pe([],{}),n,r);const s=function D$(e,t,n){if(e.isAbsolute)return new bd(t,!0,0);if(!n)return new bd(t,!1,NaN);if(null===n.parent)return new bd(n,!0,0);const r=Cd(e.commands[0])?0:1;return function S$(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new bd(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?oc(s.segmentGroup,s.index,o.commands):GM(s.segmentGroup,s.index,o.commands);return jm(i,s.segmentGroup,a,n,r)}function Cd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ic(e){return"object"==typeof e&&null!=e&&e.outlets}function jm(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=e===t?n:jM(e,t,n);const a=VM(UM(s));return new us(a,o,i)}function jM(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:jM(o,t,n)}),new pe(e.segments,r)}class $M{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Cd(r[0]))throw new S(4003,!1);const i=r.find(ic);if(i&&i!==AM(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bd{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function GM(e,t,n){if(e||(e=new pe([],{})),0===e.segments.length&&e.hasChildren())return oc(e,t,n);const r=function M$(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(ic(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!WM(c,l,s))return o;r+=2}else{if(!WM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new pe(e.segments.slice(0,r.pathIndex),{});return o.children[Q]=new pe(e.segments.slice(r.pathIndex),e.children),oc(o,0,i)}return r.match&&0===i.length?new pe(e.segments,{}):r.match&&!e.hasChildren()?$m(e,t,n):r.match?oc(e,0,i):$m(e,t,n)}function oc(e,t,n){if(0===n.length)return new pe(e.segments,{});{const r=function T$(e){return ic(e[0])?e[0].outlets:{[Q]:e}}(n),i={};if(Object.keys(r).some(o=>o!==Q)&&e.children[Q]&&1===e.numberOfChildren&&0===e.children[Q].segments.length){const o=oc(e.children[Q],t,n);return new pe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=GM(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new pe(e.segments,i)}}function $m(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(ic(o)){const c=A$(o.outlets);return new pe(r,c)}if(0===i&&Cd(n[0])){r.push(new tc(e.segments[t].path,zM(n[0]))),i++;continue}const s=ic(o)?o.outlets[Q]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Cd(a)?(r.push(new tc(s,zM(a))),i+=2):(r.push(new tc(s,{})),i++)}return new pe(r,{})}function A$(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=$m(new pe([],{}),0,r))}),t}function zM(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function WM(e,t,n){return e==n.path&&Qn(t,n.parameters)}const sc="imperative";class Zn{constructor(t,n){this.id=t,this.url=n}}class Gm extends Zn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ds extends Zn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ac extends Zn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cc extends Zn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class wd extends Zn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qM extends Zn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x$ extends Zn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R$ extends Zn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class P$ extends Zn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N$ extends Zn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O${constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k${constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class F${constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L${constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V${constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U${constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zm{}class Wm{constructor(t){this.url=t}}class H${constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lc,this.attachRef=null}}let lc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new H$,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class YM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=qm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=qm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Ym(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ym(t,this._root).map(n=>n.value)}}function qm(e,t){if(e===t.value)return t;for(const n of t.children){const r=qm(e,n);if(r)return r}return null}function Ym(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Ym(e,n);if(r.length)return r.unshift(t),r}return[]}class Ir{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function hs(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class KM extends YM{constructor(t,n){super(t),this.snapshot=n,Km(this,t)}toString(){return this.snapshot.toString()}}function QM(e,t){const n=function B$(e,t){const s=new Ed([],{},{},"",{},Q,t,null,{});return new JM("",new Ir(s,[]))}(0,t),r=new rn([new tc("",{})]),i=new rn({}),o=new rn({}),s=new rn({}),a=new rn(""),c=new fs(r,i,s,a,o,Q,t,n.root);return c.snapshot=n.root,new KM(new Ir(c,[]),n)}class fs{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(l=>l[ec]))??Y(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(t=>ls(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(t=>ls(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZM(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function j$(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ed{get title(){return this.data?.[ec]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ls(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ls(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JM extends YM{constructor(t,n){super(n),this.url=t,Km(this,n)}toString(){return XM(this._root)}}function Km(e,t){t.value._routerState=e,t.children.forEach(n=>Km(e,n))}function XM(e){const t=e.children.length>0?` { ${e.children.map(XM).join(", ")} } `:"";return`${e.value}${t}`}function Qm(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Qn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Qn(t.params,n.params)||e.paramsSubject.next(n.params),function i$(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Qn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Qn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Zm(e,t){const n=Qn(e.params,t.params)&&function c$(e,t){return Bi(e,t)&&e.every((n,r)=>Qn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Zm(e.parent,t.parent))}let Jm=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=N(lc),this.location=N(En),this.changeDetector=N(Yu),this.environmentInjector=N(Cn),this.inputBinder=N(Id,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new $$(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=B({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[an]})}}return e})();class $${constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===fs?this.route:t===lc?this.childContexts:this.parent.get(t,n)}}const Id=new P("");function uc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function z$(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return uc(e,r,i);return uc(e,r)})}(e,t,n);return new Ir(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>uc(e,a)),s}}const r=function W$(e){return new fs(new rn(e.url),new rn(e.params),new rn(e.queryParams),new rn(e.fragment),new rn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>uc(e,o));return new Ir(r,i)}}const Xm="ngNavigationCancelingError";function tA(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ji(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=nA(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function nA(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Xm]=!0,r.cancellationCode=t,n&&(r.url=n),r}function rA(e){return e&&e[Xm]}let iA=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=it({type:e,selectors:[["ng-component"]],standalone:!0,features:[ut],decls:1,vars:0,template:function(r,i){1&r&&$e(0,"router-outlet")},dependencies:[Jm],encapsulation:2})}}return e})();function e_(e){const t=e.children&&e.children.map(e_),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=iA),n}function Mn(e){return e.outlet||Q}function dc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class e8{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Qm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=hs(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=hs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=hs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=hs(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new U$(o.value.snapshot))}),t.children.length&&this.forwardEvent(new L$(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(Qm(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qm(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=dc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class oA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Dd{constructor(t,n){this.component=t,this.route=n}}function t8(e,t,n){const r=e._root;return hc(r,t?t._root:null,n,[r.value])}function ps(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function AO(e){return null!==Dl(e)}(e)?t.get(e):e:r}function hc(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=hs(t);return e.children.forEach(s=>{(function r8(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function i8(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Bi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Bi(e.url,t.url)||!Qn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zm(e,t)||!Qn(e.queryParams,t.queryParams);default:return!Zm(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new oA(r)):(o.data=s.data,o._resolvedData=s._resolvedData),hc(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Dd(a.outlet.component,s))}else s&&fc(t,a,i),i.canActivateChecks.push(new oA(r)),hc(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fc(a,n.getContext(s),i)),i}function fc(e,t,n){const r=hs(e),i=e.value;Object.entries(r).forEach(([o,s])=>{fc(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new Dd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function pc(e){return"function"==typeof e}function sA(e){return e instanceof fd||"EmptyError"===e?.name}const Sd=Symbol("INITIAL_VALUE");function gs(){return cr(e=>EM(e.map(t=>t.pipe(cs(1),function K6(...e){const t=Ks(e);return Qe((n,r)=>{(t?km(e,n,t):km(e,n)).subscribe(r)})}(Sd)))).pipe(_e(t=>{for(const n of t)if(!0!==n){if(n===Sd)return Sd;if(!1===n||n instanceof us)return n}return!0}),Vi(t=>t!==Sd),cs(1)))}function aA(e){return function SN(...e){return Cb(e)}(yt(t=>{if(ji(t))throw tA(0,t)}),_e(t=>!0===t))}class Td{constructor(t){this.segmentGroup=t||null}}class cA{constructor(t){this.urlTree=t}}function ms(e){return Xa(new Td(e))}function lA(e){return Xa(new cA(e))}class I8{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new S(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[Q])return Xa(new S(4e3,!1));i=i.children[Q]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new us(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new pe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const t_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D8(e,t,n,r,i){const o=n_(e,t,n);return o.matched?(r=function Y$(e,t){return e.providers&&!e._injector&&(e._injector=aT(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function b8(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Y(i.map(s=>{const a=ps(s,e);return ni(function u8(e){return e&&pc(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(gs(),aA()):Y(!0)}(r,t,n).pipe(_e(s=>!0===s?o:{...t_}))):Y(o)}function n_(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...t_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||r$)(n,e,t);if(!i)return{...t_};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uA(e,t,n,r){return n.length>0&&function M8(e,t,n){return n.some(r=>Md(e,t,r)&&Mn(r)!==Q)}(e,n,r)?{segmentGroup:new pe(t,T8(r,new pe(n,e.children))),slicedSegments:[]}:0===n.length&&function A8(e,t,n){return n.some(r=>Md(e,t,r))}(e,n,r)?{segmentGroup:new pe(e.segments,S8(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new pe(e.segments,e.children),slicedSegments:n}}function S8(e,t,n,r,i){const o={};for(const s of r)if(Md(e,n,s)&&!i[Mn(s)]){const a=new pe([],{});o[Mn(s)]=a}return{...i,...o}}function T8(e,t){const n={};n[Q]=t;for(const r of e)if(""===r.path&&Mn(r)!==Q){const i=new pe([],{});n[Mn(r)]=i}return n}function Md(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class N8{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new I8(this.urlSerializer,this.urlTree)}noMatchError(t){return new S(4002,!1)}recognize(){const t=uA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Q).pipe(Hi(n=>{if(n instanceof cA)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Td?this.noMatchError(n):n}),_e(n=>{const r=new Ed([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Q,this.rootComponentType,null,{}),i=new Ir(r,n),o=new JM("",i),s=function E$(e,t,n=null,r=null){return BM(HM(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Q).pipe(Hi(r=>{throw r instanceof Td?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=ZM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ft(i).pipe(gd(o=>{const s=r.children[o],a=function J$(e,t){const n=e.filter(r=>Mn(r)===t);return n.push(...e.filter(r=>Mn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function J6(e,t){return Qe(function Z6(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(qe(s,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),pd(null),function X6(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Vi((i,o)=>e(i,o,r)):Br,Lm(1),n?pd(t):TM(()=>new fd))}(),ht(o=>{if(null===o)return ms(r);const s=dA(o);return function O8(e){e.sort((t,n)=>t.value.outlet===Q?-1:n.value.outlet===Q?1:t.value.outlet.localeCompare(n.value.outlet))}(s),Y(s)}))}processSegment(t,n,r,i,o,s){return ft(n).pipe(gd(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Hi(c=>{if(c instanceof Td)return Y(null);throw c}))),Ui(a=>!!a),Hi(a=>{if(sA(a))return function R8(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?Y([]):ms(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function x8(e,t,n,r){return!!(Mn(e)===r||r!==Q&&Md(t,n,e))&&("**"===e.path||n_(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):ms(i):ms(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lA(o):this.applyRedirects.lineralizeSegments(r,o).pipe(ht(s=>{const a=new pe(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=n_(n,i,o);if(!a)return ms(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?lA(d):this.applyRedirects.lineralizeSegments(i,d).pipe(ht(h=>this.processSegment(t,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?AM(i).parameters:{};a=Y({snapshot:new Ed(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hA(r),Mn(r),r.component??r._loadedComponent??null,r,fA(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=D8(n,r,i,t).pipe(_e(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Ed(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hA(r),Mn(r),r.component??r._loadedComponent??null,r,fA(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(cr(c=>null===c?ms(n):this.getChildConfig(t=r._injector??t,r,i).pipe(cr(({routes:l})=>{const u=r._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:y}=uA(n,h,f,l);if(0===y.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(_e(D=>null===D?null:[new Ir(d,D)]));if(0===l.length&&0===y.length)return Y([new Ir(d,[])]);const w=Mn(r)===o;return this.processSegment(u,l,p,y,w?Q:o,!0).pipe(_e(D=>[new Ir(d,D)]))}))))}getChildConfig(t,n,r){return n.children?Y({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):function C8(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(s=>{const a=ps(s,e);return ni(function s8(e){return e&&pc(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(gs(),aA())}(t,n,r).pipe(ht(i=>i?this.configLoader.loadChildren(t,n).pipe(yt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function E8(e){return Xa(nA(!1,3))}())):Y({routes:[],injector:t})}}function k8(e){const t=e.value.routeConfig;return t&&""===t.path}function dA(e){const t=[],n=new Set;for(const r of e){if(!k8(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=dA(r.children);t.push(new Ir(r.value,i))}return t.filter(r=>!n.has(r))}function hA(e){return e.data||{}}function fA(e){return e.resolve||{}}function pA(e){return"string"==typeof e.title||null===e.title}function r_(e){return cr(t=>{const n=e(t);return n?ft(n).pipe(_e(()=>t)):Y(t)})}const Ad=new P("ROUTES");let gA=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(g3)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ni(n.loadComponent()).pipe(_e(mA),yt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Vm(()=>{this.componentLoaders.delete(n)})),i=new SM(r,()=>new gn).pipe(Fm());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function j8(e,t,n,r){return ni(e.loadChildren()).pipe(_e(mA),ht(i=>i instanceof oT||Array.isArray(i)?Y(i):ft(t.compileModuleAsync(i))),_e(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Ad,[],{optional:!0,self:!0}).flat()),{routes:s.map(e_),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Vm(()=>{this.childrenLoaders.delete(r)})),s=new SM(o,()=>new gn).pipe(Fm());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function mA(e){return function $8(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let xd=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gn,this.transitionAbortSubject=new gn,this.configLoader=N(gA),this.environmentInjector=N(Cn),this.urlSerializer=N(nc),this.rootContexts=N(lc),this.inputBindingEnabled=null!==N(Id,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new k$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new O$(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new rn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vi(o=>0!==o.id),_e(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),cr(o=>{this.currentTransition=o;let s=!1,a=!1;return Y(o).pipe(yt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),cr(c=>{const l=c.currentBrowserUrl.toString(),u=!n.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new cc(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),kn}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Y(c).pipe(cr(h=>{const f=this.transitions?.getValue();return this.events.next(new Gm(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?kn:Promise.resolve(h)}),function F8(e,t,n,r,i,o){return ht(s=>function P8(e,t,n,r,i,o,s="emptyOnly"){return new N8(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(_e(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),yt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new qM(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:y,extras:w}=c,D=new Gm(h,this.urlSerializer.serialize(f),p,y);this.events.next(D);const C=QM(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:C,urlAfterRedirects:f,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},Y(o)}{const h="";return this.events.next(new cc(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),kn}}),yt(c=>{const l=new x$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),_e(c=>(this.currentTransition=o={...c,guards:t8(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function h8(e,t){return ht(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Y({...n,guardsResult:!0}):function f8(e,t,n,r){return ft(e).pipe(ht(i=>function v8(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Y(o.map(a=>{const c=dc(t)??i,l=ps(a,c);return ni(function l8(e){return e&&pc(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):c.runInContext(()=>l(e,t,n,r))).pipe(Ui())})).pipe(gs()):Y(!0)}(i.component,i.route,n,t,r)),Ui(i=>!0!==i,!0))}(s,r,i,e).pipe(ht(a=>a&&function o8(e){return"boolean"==typeof e}(a)?function p8(e,t,n,r){return ft(t).pipe(gd(i=>km(function m8(e,t){return null!==e&&t&&t(new F$(e)),Y(!0)}(i.route.parent,r),function g8(e,t){return null!==e&&t&&t(new V$(e)),Y(!0)}(i.route,r),function y8(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function n8(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>DM(()=>Y(s.guards.map(c=>{const l=dc(s.node)??n,u=ps(c,l);return ni(function c8(e){return e&&pc(e.canActivateChild)}(u)?u.canActivateChild(r,e):l.runInContext(()=>u(r,e))).pipe(Ui())})).pipe(gs())));return Y(o).pipe(gs())}(e,i.path,n),function _8(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(o=>DM(()=>{const s=dc(t)??n,a=ps(o,s);return ni(function a8(e){return e&&pc(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(Ui())}));return Y(i).pipe(gs())}(e,i.route,n))),Ui(i=>!0!==i,!0))}(r,o,e,t):Y(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),yt(c=>{if(o.guardsResult=c.guardsResult,ji(c.guardsResult))throw tA(0,c.guardsResult);const l=new R$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Vi(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),r_(c=>{if(c.guards.canActivateChecks.length)return Y(c).pipe(yt(l=>{const u=new P$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),cr(l=>{let u=!1;return Y(l).pipe(function L8(e,t){return ht(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=0;return ft(i).pipe(gd(s=>function V8(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!pA(i)&&(o[ec]=i.title),function U8(e,t,n,r){const i=function H8(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Y({});const o={};return ft(i).pipe(ht(s=>function B8(e,t,n,r){const i=dc(t)??r,o=ps(e,i);return ni(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(Ui(),yt(a=>{o[s]=a}))),Lm(1),function e$(e){return _e(()=>e)}(o),Hi(s=>sA(s)?kn:Xa(s)))}(o,e,t,r).pipe(_e(s=>(e._resolvedData=s,e.data=ZM(e,n).resolve,i&&pA(i)&&(e.data[ec]=i.title),null)))}(s.route,r,e,t)),yt(()=>o++),Lm(1),ht(s=>o===i.length?Y(n):kn))})}(n.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),yt(l=>{const u=new N$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),r_(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(yt(h=>{u.component=h}),_e(()=>{})));for(const h of u.children)d.push(...l(h));return d};return EM(l(c.targetSnapshot.root)).pipe(pd(),cs(1))}),r_(()=>this.afterPreactivation()),_e(c=>{const l=function G$(e,t,n){const r=uc(e,t._root,n?n._root:void 0);return new KM(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),yt(()=>{this.events.next(new zm)}),((e,t,n,r)=>_e(i=>(new e8(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),cs(1),yt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ds(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function t$(e){return Qe((t,n)=>{Wt(e).subscribe(qe(n,()=>n.complete(),Qh)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(yt(c=>{throw c}))),Vm(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Hi(c=>{if(a=!0,rA(c))this.events.next(new ac(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function q$(e){return rA(e)&&ji(e.url)}(c)?this.events.next(new Wm(c.url)):o.resolve(!1);else{this.events.next(new wd(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){o.reject(l)}}return kn}))}))}cancelNavigationTransition(n,r,i){const o=new ac(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _A(e){return e!==sc}let yA=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(n){return n.data[ec]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:function(){return N(G8)},providedIn:"root"})}}return e})(),G8=(()=>{class e extends yA{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(Z(gM))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:function(){return N(q8)},providedIn:"root"})}}return e})();class W8{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let q8=(()=>{class e extends W8{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=lt(e)))(i||e)}}()}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const i_=new P("",{providedIn:"root",factory:()=>({})});let Y8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:function(){return N(K8)},providedIn:"root"})}}return e})(),K8=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var gc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(gc||{});function Q8(e){throw e}function Z8(e,t,n){return t.parse("/")}const J8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let At=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=N(XT),this.isNgZoneEnabled=!1,this._events=new gn,this.options=N(i_,{optional:!0})||{},this.pendingTasks=N(e0),this.errorHandler=this.options.errorHandler||Q8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Z8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=N(Y8),this.routeReuseStrategy=N(z8),this.titleStrategy=N(yA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=N(Ad,{optional:!0})?.flat()??[],this.navigationTransitions=N(xd),this.urlSerializer=N(nc),this.location=N(cm),this.componentInputBindingEnabled=!!N(Id,{optional:!0}),this.eventsSubscription=new zt,this.isNgZoneEnabled=N(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new us,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=QM(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(CA(r)&&this._events.next(r));if(r instanceof Gm)_A(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof cc)this.rawUrlTree=i.rawUrl;else if(r instanceof qM){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof zm)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof ac)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Wm){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_A(i.source)};this.scheduleNavigation(o,sc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof wd&&this.restoreHistory(i,!0),r instanceof ds&&(this.navigated=!0),CA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(e_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=HM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return BM(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ji(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,sc,null,r)}navigate(n,r={skipLocationChange:!1}){return function e5(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new S(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...J8}:!1===r?{...X8}:r,ji(n))return RM(this.currentUrlTree,n,i);const o=this.parseUrl(n);return RM(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return function vA(e,t){e.events.pipe(Vi(n=>n instanceof ds||n instanceof ac||n instanceof wd||n instanceof cc),_e(n=>n instanceof ds||n instanceof cc?gc.COMPLETE:n instanceof ac&&(0===n.code||1===n.code)?gc.REDIRECTING:gc.FAILED),Vi(n=>n!==gc.REDIRECTING),cs(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function CA(e){return!(e instanceof zm||e instanceof Wm)}let Rd=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new gn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ds&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function cI(e,t,n){return function OL(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?aI:sI}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(E(At),E(fs),function Ql(e){return function eF(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(ew(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(ct(),e)}("tabindex"),E(mr),E(Zt),E(Xu))}}static{this.\u0275dir=B({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&V("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&zn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ss],skipLocationChange:["skipLocationChange","skipLocationChange",ss],replaceUrl:["replaceUrl","replaceUrl",ss],routerLink:"routerLink"},standalone:!0,features:[CD,an]})}}return e})(),bA=(()=>{class e{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ke,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof ds&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(wl()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ft(n).pipe(wl()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function t5(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||e)(E(At),E(Zt),E(mr),E(Yu),E(Rd,8))}}static{this.\u0275dir=B({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&PT(o,Rd,5),2&r){let s;RT(s=function NT(){return function BB(e,t){return e[Ln].queries[t].queryList}(I(),zw())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[an]})}}return e})();const o_=new P("");function EA(e){return e.routerState.root}function IA(){const e=N(ln);return t=>{const n=e.get(os);if(t!==n.components[0])return;const r=e.get(At),i=e.get(DA);1===e.get(s_)&&r.initialNavigation(),e.get(SA,null,te.Optional)?.setUpPreloading(),e.get(o_,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const DA=new P("",{factory:()=>new gn}),s_=new P("",{providedIn:"root",factory:()=>1}),SA=new P(""),M=function(e,t){if(!e)throw _s(t)},_s=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},MA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(MA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new u5;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class u5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AA=function(e){const t=MA(e);return c_.encodeByteArray(t,!0)},Pd=function(e){return AA(e).replace(/\./g,"")},mc=function(e){try{return c_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d5(e){return xA(void 0,e)}function xA(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!h5(n)||(e[n]=xA(e[n],t[n]));return e}function h5(e){return"__proto__"!==e}const Nd=()=>{try{return function f5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mc(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},RA=e=>Nd()?.emulatorHosts?.[e],PA=()=>Nd()?.config,NA=e=>Nd()?.[`_${e}`];class _c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function ys(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function OA(e){return l_.apply(this,arguments)}function l_(){return(l_=v(function*(e){return(yield fetch(e,{credentials:"include"})).ok})).apply(this,arguments)}const yc={};let kA=!1;function FA(e,t){if(typeof window>"u"||typeof document>"u"||!ys(window.location.host)||yc[e]===t||yc[e]||kA)return;function n(h){return`__firebase__banner__${h}`}yc[e]=t;const r="__firebase__banner",o=function v5(){const e={prod:[],emulator:[]};for(const t of Object.keys(yc))yc[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function d(){const h=function C5(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),f=n("text"),p=document.getElementById(f)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),D=n("preprendIcon"),C=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const R=h.element;(function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"})(R),function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}(w,y);const O=function l(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{kA=!0,function s(){const h=document.getElementById(r);h&&h.remove()}()},h}();(function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"})(C,D),R.append(C,p,w,O),document.body.appendChild(R)}o?(p.innerText="Preview backend disconnected.",C.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(C.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",d):d()}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function VA(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class ri extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function M5(e,t){return e.replace(A5,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ri(i,`${this.serviceName}: ${s} (${i}).`,r)}}const A5=/\{\$([^}]+)}/g;function Cc(e){return JSON.parse(e)}function et(e){return JSON.stringify(e)}const Od=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Cc(mc(o[0])||""),n=Cc(mc(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function Jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vs(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function d_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function kd(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function $i(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(UA(o)&&UA(s)){if(!$i(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function UA(e){return null!==e&&"object"==typeof e}function Cs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class P5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let l,u,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}class O5{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function k5(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=h_),void 0===i.error&&(i.error=h_),void 0===i.complete&&(i.complete=h_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h_(){}function bs(e,t){return`${e} failed: ${t} argument `}const Fd=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Bt(e){return e&&e._delegate?e._delegate:e}class Gi{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zi="[DEFAULT]";class j5{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new _c;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function G5(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=zi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return v(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=zi){return this.instances.has(t)}getOptions(t=zi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===zi?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=zi){return this.component?this.component.multipleInstances?t:zi:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z5{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new j5(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const f_=[];var me=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(me||{});const HA={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},W5=me.INFO,q5={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Y5=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=q5[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class p_{constructor(t){this.name=t,this._logLevel=W5,this._logHandler=Y5,this._userLogHandler=null,f_.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?HA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const K5=(e,t)=>t.some(n=>e instanceof n);let BA,jA;const $A=new WeakMap,g_=new WeakMap,GA=new WeakMap,m_=new WeakMap,__=new WeakMap;let y_={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return g_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||GA.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nG(e){return"function"==typeof e?function tG(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z5(){return jA||(jA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(v_(this),t),ii($A.get(this))}:function(...t){return ii(e.apply(v_(this),t))}:function(t,...n){const r=e.call(v_(this),t,...n);return GA.set(r,t.sort?t.sort():[t]),ii(r)}}(e):(e instanceof IDBTransaction&&function X5(e){if(g_.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});g_.set(e,t)}(e),K5(e,function Q5(){return BA||(BA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,y_):e)}function ii(e){if(e instanceof IDBRequest)return function J5(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ii(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&$A.set(n,e)}).catch(()=>{}),__.set(t,e),t}(e);if(m_.has(e))return m_.get(e);const t=nG(e);return t!==e&&(m_.set(e,t),__.set(t,e)),t}const v_=e=>__.get(e),iG=["get","getKey","getAll","getAllKeys","count"],oG=["put","add","delete","clear"],C_=new Map;function zA(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(C_.get(t))return C_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=oG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!iG.includes(n))return;const o=function(){var s=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return C_.set(t,o),o}!function eG(e){y_=e(y_)}(e=>({...e,get:(t,n,r)=>zA(t,n)||e.get(t,n,r),has:(t,n)=>!!zA(t,n)||e.has(t,n)}));class sG{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function aG(e){return"VERSION"===e.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ld="@firebase/app",Tr=new p_("@firebase/app"),Vd="[DEFAULT]",kG={[Ld]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Wi=new Map,bc=new Map,wc=new Map;function WA(e,t){try{e.container.addComponent(t)}catch(n){Tr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ws(e){const t=e.name;if(wc.has(t))return Tr.debug(`There were multiple attempts to register component ${t}.`),!1;wc.set(t,e);for(const n of Wi.values())WA(n,e);for(const n of bc.values())WA(n,e);return!0}function Ud(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function An(e){return null!=e&&void 0!==e.settings}const en=new vc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class YA{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const Es="12.6.0";function QA(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r={name:Vd,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw en.create("bad-app-name",{appName:String(i)});if(n||(n=PA()),!n)throw en.create("no-options");const o=Wi.get(i);if(o){if($i(n,o.options)&&$i(r,o.config))return o;throw en.create("duplicate-app",{appName:i})}const s=new z5(i);for(const c of wc.values())s.addComponent(c);const a=new YA(n,r,s);return Wi.set(i,a),a}function ZA(e=Vd){const t=Wi.get(e);if(!t&&e===Vd&&PA())return QA();if(!t)throw en.create("no-app",{appName:e});return t}function Mr(e,t,n){let r=kG[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${t}":`];return i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Tr.warn(s.join(" "))}ws(new Gi(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const HG="firebase-heartbeat-database",BG=1,Ec="firebase-heartbeat-store";let E_=null;function JA(){return E_||(E_=function rG(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=ii(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ii(s.result),c.oldVersion,c.newVersion,ii(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(HG,BG,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ec)}catch(n){console.warn(n)}}}).catch(e=>{throw en.create("idb-open",{originalErrorMessage:e.message})})),E_}function I_(){return(I_=v(function*(e){try{const n=(yield JA()).transaction(Ec),r=yield n.objectStore(Ec).get(e1(e));return yield n.done,r}catch(t){if(t instanceof ri)Tr.warn(t.message);else{const n=en.create("idb-get",{originalErrorMessage:t?.message});Tr.warn(n.message)}}})).apply(this,arguments)}function XA(e,t){return D_.apply(this,arguments)}function D_(){return(D_=v(function*(e,t){try{const r=(yield JA()).transaction(Ec,"readwrite");yield r.objectStore(Ec).put(t,e1(e)),yield r.done}catch(n){if(n instanceof ri)Tr.warn(n.message);else{const r=en.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(r.message)}}})).apply(this,arguments)}function e1(e){return`${e.name}!${e.options.appId}`}class zG{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return v(function*(){try{const r=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=t1();if(null==t._heartbeatsCache?.heartbeats&&(t._heartbeatsCache=yield t._heartbeatsCachePromise,null==t._heartbeatsCache?.heartbeats)||t._heartbeatsCache.lastSentHeartbeatDate===i||t._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(t._heartbeatsCache.heartbeats.push({date:i,agent:r}),t._heartbeatsCache.heartbeats.length>30){const o=function YG(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(t._heartbeatsCache.heartbeats);t._heartbeatsCache.heartbeats.splice(o,1)}return t._storage.overwrite(t._heartbeatsCache)}catch(n){Tr.warn(n)}})()}getHeartbeatsHeader(){var t=this;return v(function*(){try{if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==t._heartbeatsCache?.heartbeats||0===t._heartbeatsCache.heartbeats.length)return"";const n=t1(),{heartbeatsToSend:r,unsentEntries:i}=function WG(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),n1(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),n1(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),o=Pd(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o}catch(n){return Tr.warn(n),""}})()}}function t1(){return(new Date).toISOString().substring(0,10)}class qG{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!function D5(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function S5(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return v(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function jG(e){return I_.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var n=this;return v(function*(){if(yield n._canUseIndexedDBPromise){const i=yield n.read();return XA(n.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return v(function*(){if(yield n._canUseIndexedDBPromise){const i=yield n.read();return XA(n.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}})()}}function n1(e){return Pd(JSON.stringify({version:2,heartbeats:e})).length}!function KG(e){ws(new Gi("platform-logger",t=>new sG(t),"PRIVATE")),ws(new Gi("heartbeat",t=>new zG(t),"PRIVATE")),Mr(Ld,"0.14.6",e),Mr(Ld,"0.14.6","esm2020"),Mr("fire-js","")}(""),Mr("firebase","12.7.0","app");const r1="@firebase/database";let S_="";class JG{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),et(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:Cc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class XG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return Jn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const s1=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new JG(t)}}catch{}return new XG},qi=s1("localStorage"),T_=s1("sessionStorage"),Is=new p_("@firebase/database"),a1=function(){let e=1;return function(){return e++}}(),c1=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,M(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new P5;n.update(t);const r=n.digest();return c_.encodeByteArray(r)},Ic=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ic.apply(null,r):t+="object"==typeof r?et(r):r,t+=" "}return t};let Yi=null,l1=!0;const tt=function(...e){if(!0===l1&&(l1=!1,null===Yi&&!0===T_.get("logging_enabled")&&function(e,t){M(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Is.logLevel=me.VERBOSE,Yi=Is.log.bind(Is),t&&T_.set("logging_enabled",!0)):"function"==typeof e?Yi=e:(Yi=null,T_.remove("logging_enabled"))}(!0)),Yi){const t=Ic.apply(null,e);Yi(t)}},Dc=function(e){return function(...t){tt(e,...t)}},M_=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ic(...e);Is.error(t)},Xn=function(...e){const t=`FIREBASE FATAL ERROR: ${Ic(...e)}`;throw Is.error(t),new Error(t)},vt=function(...e){const t="FIREBASE WARNING: "+Ic(...e);Is.warn(t)},Hd=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},oi="[MIN_NAME]",Ar="[MAX_NAME]",Ki=function(e,t){if(e===t)return 0;if(e===oi||t===Ar)return-1;if(t===oi||e===Ar)return 1;{const n=f1(e),r=f1(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},nz=function(e,t){return e===t?0:e<t?-1:1},Sc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+et(t))},A_=function(e){if("object"!=typeof e||null===e)return et(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=et(t[r]),n+=":",n+=A_(e[t[r]]);return n+="}",n},d1=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function nt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const h1=function(e){M(!Hd(e),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},sz=new RegExp("^-?(0*)\\d{1,10}$"),f1=function(e){if(sz.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ds=function(e){try{e()}catch(t){setTimeout(()=>{throw vt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Tc=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class uz{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,An(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class dz{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(t)}}let Mc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const y1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,b1="websocket",w1="long_polling";class R_{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qi.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&qi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function E1(e,t,n){let r;if(M("string"==typeof t,"typeof type must == string"),M("object"==typeof n,"typeof params must == object"),t===b1)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==w1)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function hz(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return nt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class fz{constructor(){this.counters_={}}incrementCounter(t,n=1){Jn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return d5(this.counters_)}}const P_={},N_={};function O_(e){const t=e.toString();return P_[t]||(P_[t]=new fz),P_[t]}class gz{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ds(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class si{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dc(t),this.stats_=O_(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),E1(n,w1,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gz(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new k_((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&y1.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){si.forceAllow_=!0}static forceDisallow(){si.forceDisallow_=!0}static isAvailable(){return!(!si.forceAllow_&&(si.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=et(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=AA(n),i=d1(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=et(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class k_{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=a1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=k_.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){tt("frame writing exception"),a.stack&&tt(a.stack),tt(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||tt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{tt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let jd=null;typeof MozWebSocket<"u"?jd=MozWebSocket:typeof WebSocket<"u"&&(jd=WebSocket);let Ss=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dc(this.connId),this.stats_=O_(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&y1.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),E1(n,b1,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qi.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new jd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==jd&&!e.forceDisallow_}static previouslyFailed(){return qi.isInMemoryStorage||!0===qi.get("previous_websocket_failure")}markConnectionHealthy(){qi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Cc(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=et(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=d1(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),x1=(()=>{class e{static get ALL_TRANSPORTS(){return[si,Ss]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const r=Ss&&Ss.isAvailable();let i=r&&!Ss.previouslyFailed();if(n.webSocketOnly&&(r||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ss];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class L1{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dc("c:"+this.id+":"),this.transportManager_=new x1(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Tc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Sc("t",t),r=Sc("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Sc("t",t),r=Sc("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Sc("t",t);if("d"in t){const r=t.d;if("h"===n){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?M_("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M_("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Tc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class V1{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class U1{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){M(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class $d extends U1{static getInstance(){return new $d}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!u_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class de{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function ae(){return new de("")}function J(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ai(e){return e.pieces_.length-e.pieceNum_}function ve(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new de(e.pieces_,t)}function L_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ac(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function j1(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new de(t,0)}function Ne(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof de)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new de(n,0)}function X(e){return e.pieceNum_>=e.pieces_.length}function xt(e,t){const n=J(e),r=J(t);if(null===n)return t;if(n===r)return xt(ve(e),ve(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function V_(e,t){if(ai(e)!==ai(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ai(e)>ai(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Vz{constructor(t,n){this.errorPrefix_=n,this.parts_=Ac(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fd(this.parts_[r]);$1(this)}}function $1(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qi(e))}function Qi(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class U_ extends U1{static getInstance(){return new U_}constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return M("visible"===t,"Unknown event type: "+t),[this.visible_]}}const xc=1e3;let zd,Zi=(()=>{class e extends V1{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Dc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");U_.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&$d.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(et(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new _c,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Jn(n,"w")){const i=vs(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=Od(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=Od(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+et(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):M_("Unrecognized action received from server: "+et(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return v(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};n.realtime_={close:u,sendRequest:function(f){M(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);c?tt("getToken() completed but was canceled"):(tt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,l=new L1(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,y=>{vt(y+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),c||(n.repoInfo_.nodeAdmin&&vt(f),u())}}})()}interrupt(n){tt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){tt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],d_(this.interruptReasons_)&&(this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>A_(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new de(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){tt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){tt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+S_.replace(/\./g,"-")]=1,u_()?n["framework.cordova"]=1:VA()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=$d.getInstance().currentlyOnline();return d_(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class ee{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ee(t,n)}}class Gd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new ee(oi,t),i=new ee(oi,n);return 0!==this.compare(r,i)}minPost(){return ee.MIN}}class W1 extends Gd{static get __EMPTY_NODE(){return zd}static set __EMPTY_NODE(t){zd=t}compare(t,n){return Ki(t.name,n.name)}isDefinedOn(t){throw _s("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Ar,zd)}makePost(t,n){return M("string"==typeof t,"KeyIndex indexValue must always be a string."),new ee(t,zd)}toString(){return".key"}}const er=new W1;class Wd{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let B_,xn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??jt.EMPTY_NODE,this.right=s??jt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return jt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class jt{constructor(t,n=jt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new jt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,xn.BLACK,null,null))}remove(t){return new jt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Wd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Wd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Wd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Wd(this.root_,null,this.comparator_,!0,t)}}function Wz(e,t){return Ki(e.name,t.name)}function H_(e,t){return Ki(e,t)}jt.EMPTY_NODE=new class zz{copy(t,n,r,i,o){return this}insert(t,n,r){return new xn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const q1=function(e){return"number"==typeof e?"number:"+h1(e):"string:"+e},Y1=function(e){if(e.isLeafNode()){const t=e.val();M("string"==typeof t||"number"==typeof t||"object"==typeof t&&Jn(t,".sv"),"Priority must be a string or number.")}else M(e===B_||e.isEmpty(),"priority of unexpected type.");M(e===B_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let K1,Q1,Z1,Ts=(()=>{class e{static set __childrenNodeConstructor(n){K1=n}static get __childrenNodeConstructor(){return K1}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,M(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Y1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return X(n)?this:".priority"===J(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=J(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(M(".priority"!==i||1===ai(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+q1(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?h1(this.value_):this.value_,this.lazyHash_=c1(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return M(o>=0,"Unknown leaf type: "+r),M(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Se=new class Qz extends Gd{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Ki(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Ar,new Ts("[PRIORITY-POST]",Z1))}makePost(t,n){const r=Q1(t);return new ee(n,new Ts("[PRIORITY-POST]",r))}toString(){return".priority"}},Zz=Math.log(2);class Jz{constructor(t){this.count=parseInt(Math.log(t+1)/Zz,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const qd=function(e,t,n,r){e.sort(t);const i=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=e[c],h=n?n(d):d,new xn(h,d.node,xn.BLACK,null,null);{const f=parseInt(u/2,10)+c,p=i(c,f),y=i(f+1,l);return d=e[f],h=n?n(d):d,new xn(h,d.node,xn.BLACK,p,y)}},a=function(c){let l=null,u=null,d=e.length;const h=function(p,y){const w=d-p,D=d;d-=p;const C=i(w+1,D),R=e[w],O=n?n(R):R;f(new xn(O,R.node,y,null,C))},f=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){const y=c.nextBitIsOne(),w=Math.pow(2,c.count-(p+1));y?h(w,xn.BLACK):(h(w,xn.BLACK),h(w,xn.RED))}return u}(new Jz(e.length));return new jt(r||t,a)};let j_;const Ms={};class xr{static get Default(){return M(Ms&&Se,"ChildrenNode.ts has not been loaded"),j_=j_||new xr({".priority":Ms},{".priority":Se}),j_}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=vs(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof jt?n:null}hasIndex(t){return Jn(this.indexSet_,t.toString())}addIndex(t,n){M(t!==er,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(ee.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?qd(r,t.getCompare()):Ms;const c=t.toString(),l={...this.indexSet_};l[c]=t;const u={...this.indexes_};return u[c]=a,new xr(u,l)}addToIndexes(t,n){const r=kd(this.indexes_,(i,o)=>{const s=vs(this.indexSet_,o);if(M(s,"Missing index implementation for "+o),i===Ms){if(s.isDefinedOn(t.node)){const a=[],c=n.getIterator(ee.Wrap);let l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),qd(a,s.getCompare())}return Ms}{const a=n.get(t.name);let c=i;return a&&(c=c.remove(new ee(t.name,a))),c.insert(t,t.node)}});return new xr(r,this.indexSet_)}removeFromIndexes(t,n){const r=kd(this.indexes_,i=>{if(i===Ms)return i;{const o=n.get(t.name);return o?i.remove(new ee(t.name,o)):i}});return new xr(r,this.indexSet_)}}let Rc,q=(()=>{class e{static get EMPTY_NODE(){return Rc||(Rc=new e(new jt(H_),null,xr.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Y1(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rc}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Rc:r}}getChild(n){const r=J(n);return null===r?this:this.getImmediateChild(r).getChild(ve(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(M(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new ee(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Rc:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=J(n);if(null===i)return r;{M(".priority"!==J(n)||1===ai(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(ve(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Se,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+q1(this.getPriority().val())+":"),this.forEachChild(Se,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":c1(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new ee(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new ee(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new ee(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ee.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ee.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Pc?-1:0}withIndex(n){if(n===er||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===er||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Se),o=r.getIterator(Se);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===er?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Pc=new class Xz extends q{constructor(){super(new jt(H_),q.EMPTY_NODE,xr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return q.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ee,{MIN:{value:new ee(oi,q.EMPTY_NODE)},MAX:{value:new ee(Ar,Pc)}}),W1.__EMPTY_NODE=q.EMPTY_NODE,Ts.__childrenNodeConstructor=q,function qz(e){B_=e}(Pc),function Kz(e){Z1=e}(Pc);const eW=!0;function Fe(e,t=null){if(null===e)return q.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),M(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ts(e,Fe(t));if(e instanceof Array||!eW){let n=q.EMPTY_NODE;return nt(e,(r,i)=>{if(Jn(e,r)&&"."!==r.substring(0,1)){const o=Fe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Fe(t))}{const n=[];let r=!1;if(nt(e,(s,a)=>{if("."!==s.substring(0,1)){const c=Fe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ee(s,c)))}}),0===n.length)return q.EMPTY_NODE;const o=qd(n,Wz,s=>s.name,H_);if(r){const s=qd(n,Se.getCompare());return new q(o,Fe(t),new xr({".priority":s},{".priority":Se}))}return new q(o,Fe(t),xr.Default)}}!function Yz(e){Q1=e}(Fe);class $_ extends Gd{constructor(t){super(),this.indexPath_=t,M(!X(t)&&".priority"!==J(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Ki(t.name,n.name):o}makePost(t,n){const r=Fe(t),i=q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){const t=q.EMPTY_NODE.updateChild(this.indexPath_,Pc);return new ee(Ar,t)}toString(){return Ac(this.indexPath_,0).join("/")}}const G_=new class tW extends Gd{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?Ki(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(t,n){const r=Fe(t);return new ee(n,r)}toString(){return".value"}};function J1(e){return{type:"value",snapshotNode:e}}function As(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Nc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Oc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class z_{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Nc(n,a)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(As(n,r)):s.trackChildChange(Oc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Se,(i,o)=>{n.hasChild(i)||r.trackChildChange(Nc(i,o))}),n.isLeafNode()||n.forEachChild(Se,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Oc(i,o,s))}else r.trackChildChange(As(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?q.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class kc{constructor(t){this.indexedFilter_=new z_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=kc.getStartPost_(t),this.endPost_=kc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new ee(n,r))||(r=q.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(q.EMPTY_NODE);const o=this;return n.forEachChild(Se,(s,a)=>{o.matches(new ee(s,a))||(i=i.updateImmediateChild(s,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class rW{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new kc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new ee(n,r))||(r=q.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=q.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=q.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(q.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=t;M(a.numChildren()===this.limit_,"");const c=new ee(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:s(h,c);if(u&&!r.isEmpty()&&f>=0)return o?.trackChildChange(Oc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Nc(n,d));const y=a.updateImmediateChild(n,q.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(o?.trackChildChange(As(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}return r.isEmpty()?t:u&&s(l,c)>=0?(null!=o&&(o.trackChildChange(Nc(l.name,l.node)),o.trackChildChange(As(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,q.EMPTY_NODE)):t}}class W_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oi}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const t=new W_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function X1(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Se?n="$priority":e.index_===G_?n="$value":e.index_===er?n="$key":(M(e.index_ instanceof $_,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=et(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=et(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+et(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=et(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+et(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ex(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Se&&(t.i=e.index_.toString()),t}class Kd extends V1{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Dc("p:rest:"),this.listens_={}}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Kd.getListenId_(t,r),a={};this.listens_[s]=a;const c=X1(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,r),vs(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(h,null)}})}unlisten(t,n){const r=Kd.getListenId_(t,n);delete this.listens_[r]}get(t){const n=X1(t._queryParams),r=t._path.toString(),i=new _c;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Cs(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Cc(a.responseText)}catch{vt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&vt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class lW{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function Qd(){return{value:null,children:new Map}}function xs(e,t,n){if(X(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=J(t);e.children.has(r)||e.children.set(r,Qd()),xs(e.children.get(r),t=ve(t),n)}}function Q_(e,t,n){null!==e.value?n(t,e.value):function uW(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{Q_(i,new de(t.toString()+"/"+r),n)})}class dW{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&nt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class pW{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dW(t);const r=1e4+2e4*Math.random();Tc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;nt(t,(i,o)=>{o>0&&Jn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Tc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var tr=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(tr||{});function X_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Zd{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=tr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(X(this.path)){if(null!=this.affectedTree.value)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(t));return new Zd(ae(),n,this.revert)}}return M(J(this.path)===t,"operationForChild called for unrelated child."),new Zd(ve(this.path),this.affectedTree,this.revert)}}class Fc{constructor(t,n){this.source=t,this.path=n,this.type=tr.LISTEN_COMPLETE}operationForChild(t){return X(this.path)?new Fc(this.source,ae()):new Fc(this.source,ve(this.path))}}class Ji{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=tr.OVERWRITE}operationForChild(t){return X(this.path)?new Ji(this.source,ae(),this.snap.getImmediateChild(t)):new Ji(this.source,ve(this.path),this.snap)}}class Rs{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=tr.MERGE}operationForChild(t){if(X(this.path)){const n=this.children.subtree(new de(t));return n.isEmpty()?null:n.value?new Ji(this.source,ae(),n.value):new Rs(this.source,ae(),n)}return M(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Rs(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ci{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(X(t))return this.isFullyInitialized()&&!this.filtered_;const n=J(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class gW{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Lc(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function yW(e,t,n){if(null==t.childName||null==n.childName)throw _s("Should only compare child_ events.");const r=new ee(t.childName,t.snapshotNode),i=new ee(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,c)),s.forEach(a=>{const c=function _W(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function Jd(e,t){return{eventCache:e,serverCache:t}}function Vc(e,t,n,r){return Jd(new ci(t,n,r),e.serverCache)}function nx(e,t,n,r){return Jd(e.eventCache,new ci(t,n,r))}function Xd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let ey;class Te{static fromObject(t){let n=new Te(null);return nt(t,(r,i)=>{n=n.set(new de(r),i)}),n}constructor(t,n=(()=>(ey||(ey=new jt(nz)),ey))()){this.value=t,this.children=n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:ae(),value:this.value};if(X(t))return null;{const r=J(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(ve(t),n);return null!=o?{path:Ne(new de(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(X(t))return this;{const n=J(t),r=this.children.get(n);return null!==r?r.subtree(ve(t)):new Te(null)}}set(t,n){if(X(t))return new Te(n,this.children);{const r=J(t),o=(this.children.get(r)||new Te(null)).set(ve(t),n),s=this.children.insert(r,o);return new Te(this.value,s)}}remove(t){if(X(t))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const n=J(t),r=this.children.get(n);if(r){const i=r.remove(ve(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Te(null):new Te(this.value,o)}return this}}get(t){if(X(t))return this.value;{const n=J(t),r=this.children.get(n);return r?r.get(ve(t)):null}}setTree(t,n){if(X(t))return n;{const r=J(t),o=(this.children.get(r)||new Te(null)).setTree(ve(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Te(this.value,s)}}fold(t){return this.fold_(ae(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ne(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ae(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(X(t))return null;{const o=J(t),s=this.children.get(o);return s?s.findOnPath_(ve(t),Ne(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ae(),n)}foreachOnPath_(t,n,r){if(X(t))return this;{this.value&&r(n,this.value);const i=J(t),o=this.children.get(i);return o?o.foreachOnPath_(ve(t),Ne(n,i),r):new Te(null)}}foreach(t){this.foreach_(ae(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ne(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class Rn{constructor(t){this.writeTree_=t}static empty(){return new Rn(new Te(null))}}function Uc(e,t,n){if(X(t))return new Rn(new Te(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=xt(i,t);return o=o.updateChild(s,n),new Rn(e.writeTree_.set(i,o))}{const i=new Te(n),o=e.writeTree_.setTree(t,i);return new Rn(o)}}}function ty(e,t,n){let r=e;return nt(n,(i,o)=>{r=Uc(r,Ne(t,i),o)}),r}function rx(e,t){if(X(t))return Rn.empty();{const n=e.writeTree_.setTree(t,new Te(null));return new Rn(n)}}function ny(e,t){return null!=eo(e,t)}function eo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(xt(n.path,t)):null}function ix(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Se,(r,i)=>{t.push(new ee(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new ee(r,i.value))}),t}function li(e,t){if(X(t))return e;{const n=eo(e,t);return new Rn(null!=n?new Te(n):e.writeTree_.subtree(t))}}function ry(e){return e.writeTree_.isEmpty()}function Ps(e,t){return ox(ae(),e.writeTree_,t)}function ox(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(M(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=ox(Ne(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Ne(e,".priority"),r)),n}}function eh(e,t){return ux(t,e)}function IW(e,t){if(e.snap)return fn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&fn(Ne(e.path,n),t))return!0;return!1}function SW(e){return e.visible}function sx(e,t,n){let r=Rn.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)fn(n,s)?(a=xt(n,s),r=Uc(r,a,o.snap)):fn(s,n)&&(a=xt(s,n),r=Uc(r,ae(),o.snap.getChild(a)));else{if(!o.children)throw _s("WriteRecord should have .snap or .children");if(fn(n,s))a=xt(n,s),r=ty(r,a,o.children);else if(fn(s,n))if(a=xt(s,n),X(a))r=ty(r,ae(),o.children);else{const c=vs(o.children,J(a));if(c){const l=c.getChild(ve(a));r=Uc(r,ae(),l)}}}}}return r}function ax(e,t,n,r,i){if(r||i){const o=li(e.visibleWrites,t);return!i&&ry(o)?n:i||null!=n||ny(o,ae())?Ps(sx(e.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(fn(l.path,t)||fn(t,l.path))},t),n||q.EMPTY_NODE):null}{const o=eo(e.visibleWrites,t);if(null!=o)return o;{const s=li(e.visibleWrites,t);return ry(s)?n:null!=n||ny(s,ae())?Ps(s,n||q.EMPTY_NODE):null}}}function th(e,t,n,r){return ax(e.writeTree,e.treePath,t,n,r)}function iy(e,t){return function TW(e,t,n){let r=q.EMPTY_NODE;const i=eo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Se,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=li(e.visibleWrites,t);return n.forEachChild(Se,(s,a)=>{const c=Ps(li(o,new de(s)),a);r=r.updateImmediateChild(s,c)}),ix(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return ix(li(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function cx(e,t,n,r){return function MW(e,t,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ne(t,n);if(ny(e.visibleWrites,o))return null;{const s=li(e.visibleWrites,o);return ry(s)?i.getChild(n):Ps(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function nh(e,t){return function xW(e,t){return eo(e.visibleWrites,t)}(e.writeTree,Ne(e.treePath,t))}function oy(e,t,n){return function AW(e,t,n,r){const i=Ne(t,n),o=eo(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Ps(li(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function lx(e,t){return ux(Ne(e.treePath,t),e.writeTree)}function ux(e,t){return{treePath:e,writeTree:t}}class OW{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;M("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),M(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Oc(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,Nc(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,As(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw _s("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Oc(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const dx=new class kW{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class sy{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new ci(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oy(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xi(this.viewCache_),o=function NW(e,t,n,r,i,o){return function RW(e,t,n,r,i,o,s){let a;const c=li(e.visibleWrites,t),l=eo(c,ae());if(null!=l)a=l;else{if(null==n)return[];a=Ps(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function hx(e,t,n,r,i,o){const s=t.eventCache;if(null!=nh(r,n))return t;{let a,c;if(X(n))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=Xi(t),d=iy(r,l instanceof q?l:q.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const l=th(r,Xi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{const l=J(n);if(".priority"===l){M(1===ai(n),"Can't have a priority with additional path components");const u=s.getNode();c=t.serverCache.getNode();const d=cx(r,n,u,c);a=null!=d?e.filter.updatePriority(u,d):s.getNode()}else{const u=ve(n);let d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const h=cx(r,n,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=oy(r,l,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),l,d,u,i,o):s.getNode()}}return Vc(t,a,s.isFullyInitialized()||X(n),e.filter.filtersNodes())}}function rh(e,t,n,r,i,o,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(X(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),f,null)}else{const f=J(n);if(!c.isCompleteForPath(n)&&ai(n)>1)return t;const p=ve(n),w=c.getNode().getImmediateChild(f).updateChild(p,r);l=".priority"===f?u.updatePriority(c.getNode(),w):u.updateChild(c.getNode(),f,w,p,dx,null)}const d=nx(t,l,c.isFullyInitialized()||X(n),u.filtersNodes());return hx(e,d,n,i,new sy(i,d,o),a)}function ay(e,t,n,r,i,o,s){const a=t.eventCache;let c,l;const u=new sy(i,t,o);if(X(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Vc(t,l,!0,e.filter.filtersNodes());else{const d=J(n);if(".priority"===d)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Vc(t,l,a.isFullyInitialized(),a.isFiltered());else{const h=ve(n),f=a.getNode().getImmediateChild(d);let p;if(X(h))p=r;else{const y=u.getCompleteChild(d);p=null!=y?".priority"===L_(h)&&y.getChild(j1(h)).isEmpty()?y:y.updateChild(h,r):q.EMPTY_NODE}c=f.equals(p)?t:Vc(t,e.filter.updateChild(a.getNode(),d,p,h,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return c}function fx(e,t){return e.eventCache.isCompleteForChild(t)}function px(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function cy(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=X(n)?r:new Te(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=px(0,t.serverCache.getNode().getImmediateChild(d),h);c=rh(e,c,new de(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const y=px(0,t.serverCache.getNode().getImmediateChild(d),h);c=rh(e,c,new de(d),y,i,o,s,a)}}),c}class GW{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new z_(r.getIndex()),o=function iW(e){return e.loadsAllData()?new z_(e.getIndex()):e.hasLimit()?new rW(e):new kc(e)}(r);this.processor_=function FW(e){return{filter:e}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(q.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(q.EMPTY_NODE,a.getNode(),null),u=new ci(c,s.isFullyInitialized(),i.filtersNodes()),d=new ci(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jd(d,u),this.eventGenerator_=new gW(this.query_)}get query(){return this.query_}}function qW(e,t){const n=Xi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!X(t)&&!n.getImmediateChild(J(t)).isEmpty())?n.getChild(t):null}function gx(e){return 0===e.eventRegistrations_.length}function mx(e,t,n){const r=[];if(n){M(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(s)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function _x(e,t,n,r){t.type===tr.MERGE&&null!==t.source.queryId&&(M(Xi(e.viewCache_),"We should always have a full cache before handling merges"),M(Xd(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function VW(e,t,n,r,i){const o=new OW;let s,a;if(n.type===tr.OVERWRITE){const l=n;l.source.fromUser?s=ay(e,t,l.path,l.snap,r,i,o):(M(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!X(l.path),s=rh(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===tr.MERGE){const l=n;l.source.fromUser?s=function HW(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{const u=Ne(n,c);fx(t,J(u))&&(a=ay(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{const u=Ne(n,c);fx(t,J(u))||(a=ay(e,a,u,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(M(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=cy(e,t,l.path,l.children,r,i,a,o))}else if(n.type===tr.ACK_USER_WRITE){const l=n;s=l.revert?function $W(e,t,n,r,i,o){let s;if(null!=nh(r,n))return t;{const a=new sy(r,t,i),c=t.eventCache.getNode();let l;if(X(n)||".priority"===J(n)){let u;if(t.serverCache.isFullyInitialized())u=th(r,Xi(t));else{const d=t.serverCache.getNode();M(d instanceof q,"serverChildren would be complete if leaf node"),u=iy(r,d)}l=e.filter.updateFullNode(c,u,o)}else{const u=J(n);let d=oy(r,u,t.serverCache);null==d&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?e.filter.updateChild(c,u,d,ve(n),a,o):t.eventCache.getNode().hasChild(u)?e.filter.updateChild(c,u,q.EMPTY_NODE,ve(n),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=th(r,Xi(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=nh(r,ae()),Vc(t,l,s,e.filter.filtersNodes())}}(e,t,l.path,r,i,o):function BW(e,t,n,r,i,o,s){if(null!=nh(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(X(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return rh(e,t,n,c.getNode().getChild(n),i,o,a,s);if(X(n)){let l=new Te(null);return c.getNode().forEachChild(er,(u,d)=>{l=l.set(new de(u),d)}),cy(e,t,n,l,i,o,a,s)}return t}{let l=new Te(null);return r.foreach((u,d)=>{const h=Ne(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),cy(e,t,n,l,i,o,a,s)}}(e,t,l.path,l.affectedTree,r,i,o)}else{if(n.type!==tr.LISTEN_COMPLETE)throw _s("Unknown operation type: "+n.type);s=function jW(e,t,n,r,i){const o=t.serverCache;return hx(e,nx(t,o.getNode(),o.isFullyInitialized()||X(n),o.isFiltered()),n,r,dx,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function UW(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Xd(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(J1(Xd(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,i,t,n,r);return function LW(e,t){M(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),M(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,yx(e,o.changes,o.viewCache.eventCache.getNode(),null)}function yx(e,t,n,r){return function mW(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function nW(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),Lc(e,i,"child_removed",t,r,n),Lc(e,i,"child_added",t,r,n),Lc(e,i,"child_moved",o,r,n),Lc(e,i,"child_changed",t,r,n),Lc(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let ih,sh;class vx{constructor(){this.views=new Map}}function ly(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return M(null!=o,"SyncTree gave us an op for an invalid query."),_x(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(_x(s,t,n,r));return o}}function Cx(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let a=th(n,i?r:null),c=!1;a?c=!0:r instanceof q?(a=iy(n,r),c=!1):(a=q.EMPTY_NODE,c=!1);const l=Jd(new ci(a,c,!1),new ci(r,i,!1));return new GW(t,l)}return s}function bx(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ui(e,t){let n=null;for(const r of e.views.values())n=n||qW(r,t);return n}function wx(e,t){return t._queryParams.loadsAllData()?oh(e):e.views.get(t._queryIdentifier)}function Ex(e,t){return null!=wx(e,t)}function di(e){return null!=oh(e)}function oh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let r7=1;class Ix{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Te(null),this.pendingWriteTree_=function PW(){return{visibleWrites:Rn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uy(e,t,n,r,i){return function CW(e,t,n,r,i){M(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Uc(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ns(e,new Ji({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function hi(e,t,n=!1){const r=function wW(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function EW(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);M(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&IW(a,r.path)?i=!1:fn(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function DW(e){e.visibleWrites=sx(e.allWrites,SW,ae()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=rx(e.visibleWrites,r.path):nt(r.children,c=>{e.visibleWrites=rx(e.visibleWrites,Ne(r.path,c))}),!0))}(e.pendingWriteTree_,t)){let o=new Te(null);return null!=r.snap?o=o.set(ae(),!0):nt(r.children,s=>{o=o.set(new de(s),!0)}),Ns(e,new Zd(r.path,o,n))}return[]}function Hc(e,t,n){return Ns(e,new Ji({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ah(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Ex(s,t))){const c=function e7(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=di(e);if("default"===i)for(const[c,l]of e.views.entries())s=s.concat(mx(l,n,r)),gx(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=e.views.get(i);c&&(s=s.concat(mx(c,n,r)),gx(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!di(e)&&o.push(new(function ZW(){return M(ih,"Reference.ts has not been loaded"),ih}())(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);(function JW(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const u=-1!==l.findIndex(h=>h._queryParams.loadsAllData()),d=e.syncPointTree_.findOnPath(o,(h,f)=>di(f));if(u&&!d){const h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=function u7(e){return e.fold((t,n,r)=>{if(n&&di(n))return[oh(n)];{let i=[];return n&&(i=bx(n)),nt(r,(o,s)=>{i=i.concat(s)}),i}})}(h);for(let p=0;p<f.length;++p){const y=f[p],w=y.query,D=Mx(e,y);e.listenProvider_.startListening(jc(w),Bc(e,w),D.hashFn,D.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(jc(t),null):l.forEach(h=>{const f=e.queryToTagMap.get(lh(h));e.listenProvider_.stopListening(jc(h),f)}))}!function d7(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=lh(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return a}function Dx(e,t,n,r){const i=hy(e,r);if(null!=i){const o=fy(i),s=o.path,a=o.queryId,c=xt(s,t);return py(e,s,new Ji(X_(a),c,n))}return[]}function dy(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=xt(h,i);o=o||ui(f,p),s=s||di(f)});let c,a=e.syncPointTree_.get(i);a?(s=s||di(a),o=o||ui(a,ae())):(a=new vx,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=q.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((f,p)=>{const y=ui(p,ae());y&&(o=o.updateImmediateChild(f,y))}));const l=Ex(a,t);if(!l&&!t._queryParams.loadsAllData()){const h=lh(t);M(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function h7(){return r7++}();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let d=function XW(e,t,n,r,i,o){const s=Cx(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function YW(e,t){e.eventRegistrations_.push(t)}(s,n),function KW(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Se,(o,s)=>{r.push(As(o,s))}),n.isFullyInitialized()&&r.push(J1(n.getNode())),yx(e,r,n.getNode(),t)}(s,n)}(a,t,n,eh(e.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const h=wx(a,t);d=d.concat(function f7(e,t,n){const r=t._path,i=Bc(e,t),o=Mx(e,n),s=e.listenProvider_.startListening(jc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)M(!di(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,d)=>{if(!X(l)&&u&&di(u))return[oh(u).query];{let h=[];return u&&(h=h.concat(bx(u).map(f=>f.query))),nt(d,(f,p)=>{h=h.concat(p)}),h}});for(let l=0;l<c.length;++l){const u=c[l];e.listenProvider_.stopListening(jc(u),Bc(e,u))}}return s}(e,t,h))}return d}function ch(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const l=ui(a,xt(s,t));if(l)return l});return ax(i,t,o,n,!0)}function Ns(e,t){return Sx(t,e.syncPointTree_,null,eh(e.pendingWriteTree_,ae()))}function Sx(e,t,n,r){if(X(e.path))return Tx(e,t,n,r);{const i=t.get(ae());null==n&&null!=i&&(n=ui(i,ae()));let o=[];const s=J(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,u=lx(r,s);o=o.concat(Sx(a,c,l,u))}return i&&(o=o.concat(ly(i,e,r,n))),o}}function Tx(e,t,n,r){const i=t.get(ae());null==n&&null!=i&&(n=ui(i,ae()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=lx(r,s),u=e.operationForChild(s);u&&(o=o.concat(Tx(u,a,c,l)))}),i&&(o=o.concat(ly(i,e,r,n))),o}function Mx(e,t){const n=t.query,r=Bc(e,n);return{hashFn:()=>(function zW(e){return e.viewCache_.serverCache.getNode()}(t)||q.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function a7(e,t,n){const r=hy(e,n);if(r){const i=fy(r),o=i.path,s=i.queryId,a=xt(o,t);return py(e,o,new Fc(X_(s),a))}return[]}(e,n._path,r):function s7(e,t){return Ns(e,new Fc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function oz(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return ah(e,n,null,o)}}}}function Bc(e,t){const n=lh(t);return e.queryToTagMap.get(n)}function lh(e){return e._path.toString()+"$"+e._queryIdentifier}function hy(e,t){return e.tagToQueryMap.get(t)}function fy(e){const t=e.indexOf("$");return M(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new de(e.substr(0,t))}}function py(e,t,n){const r=e.syncPointTree_.get(t);return M(r,"Missing sync point for query tag that we're tracking"),ly(r,n,eh(e.pendingWriteTree_,t),null)}function jc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function n7(){return M(sh,"Reference.ts has not been loaded"),sh}())(e._repo,e._path):e}class gy{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new gy(n)}node(){return this.node_}}class my{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ne(this.path_,t);return new my(this.syncTree_,n)}node(){return ch(this.syncTree_,this.path_)}}const p7=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Ax=function(e,t,n){return e&&"object"==typeof e?(M(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?g7(e[".sv"],t,n):"object"==typeof e[".sv"]?m7(e[".sv"],t):void M(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},g7=function(e,t,n){if("timestamp"===e)return n.timestamp;M(!1,"Unexpected server value: "+e)},m7=function(e,t,n){e.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&M(!1,"Unexpected increment value: "+r);const i=t.node();if(M(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},xx=function(e,t,n,r){return yy(t,new my(n,e),r)},_y=function(e,t,n){return yy(e,new gy(t),n)};function yy(e,t,n){const r=e.getPriority().val(),i=Ax(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=Ax(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Ts(a,Fe(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ts(i))),s.forEachChild(Se,(a,c)=>{const l=yy(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class vy{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function uh(e,t){let n=t instanceof de?t:new de(t),r=e,i=J(n);for(;null!==i;){const o=vs(r.node.children,i)||{children:{},childCount:0};r=new vy(i,r,o),n=ve(n),i=J(n)}return r}function to(e){return e.node.value}function Cy(e,t){e.node.value=t,by(e)}function Rx(e){return e.node.childCount>0}function dh(e,t){nt(e.node.children,(n,r)=>{t(new vy(n,e,r))})}function Px(e,t,n,r){n&&!r&&t(e),dh(e,i=>{Px(i,t,!0,r)}),n&&r&&t(e)}function $c(e){return new de(null===e.parent?e.name:$c(e.parent)+"/"+e.name)}function by(e){null!==e.parent&&function v7(e,t,n){const r=function _7(e){return void 0===to(e)&&!Rx(e)}(n),i=Jn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,by(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,by(e))}(e.parent,e.name,e)}const C7=/[\[\].#$\/\u0000-\u001F\u007F]/,b7=/[\[\].#$\u0000-\u001F\u007F]/,wy=10485760,hh=function(e){return"string"==typeof e&&0!==e.length&&!C7.test(e)},Nx=function(e){return"string"==typeof e&&0!==e.length&&!b7.test(e)},zc=function(e,t,n){const r=n instanceof de?new Vz(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Qi(r));if("function"==typeof t)throw new Error(e+"contains a function "+Qi(r)+" with contents = "+t.toString());if(Hd(t))throw new Error(e+"contains "+t.toString()+" "+Qi(r));if("string"==typeof t&&t.length>wy/3&&Fd(t)>wy)throw new Error(e+"contains a string greater than "+wy+" utf8 bytes "+Qi(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(nt(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!hh(s)))throw new Error(e+" contains an invalid key ("+s+") "+Qi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Uz(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Fd(t),$1(e)})(r,s),zc(e,a,r),function Hz(e){const t=e.parts_.pop();e.byteLength_-=Fd(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+Qi(r)+" in addition to actual children.")}},Iy=function(e,t,n,r){if(!(r&&void 0===n||Nx(n)))throw new Error(bs(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},I7=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Iy(e,t,n,r)};class D7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!V_(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Fx(e,t,n){fh(e,n),Lx(e,r=>V_(r,t))}function tn(e,t,n){fh(e,n),Lx(e,r=>fn(r,t)||fn(t,r))}function Lx(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(S7(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function S7(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Yi&&tt("event: "+n.toString()),Ds(r)}}}const T7=25;class M7{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new D7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qd(),this.transactionQueueTree_=new vy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ux(e){const n=e.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function qc(e){return p7({timestamp:Ux(e)})}function Hx(e,t,n,r,i){e.dataUpdateCount++;const o=new de(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const c=kd(n,l=>Fe(l));s=function c7(e,t,n,r){const i=hy(e,r);if(i){const o=fy(i),s=o.path,a=o.queryId,c=xt(s,t),l=Te.fromObject(n);return py(e,s,new Rs(X_(a),c,l))}return[]}(e.serverSyncTree_,o,c,i)}else{const c=Fe(n);s=Dx(e.serverSyncTree_,o,c,i)}else if(r){const c=kd(n,l=>Fe(l));s=function o7(e,t,n){const r=Te.fromObject(n);return Ns(e,new Rs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{const c=Fe(n);s=Hc(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=ks(e,o)),tn(e.eventQueue_,a,s)}function Bx(e,t){Dy(e,"connected",t),!1===t&&function N7(e){Os(e,"onDisconnectEvents");const t=qc(e),n=Qd();Q_(e.onDisconnect_,ae(),(i,o)=>{const s=xx(i,o,e.serverSyncTree_,t);xs(n,i,s)});let r=[];Q_(n,ae(),(i,o)=>{r=r.concat(Hc(e.serverSyncTree_,i,o));const s=Ay(e,i);ks(e,s)}),e.onDisconnect_=Qd(),tn(e.eventQueue_,ae(),r)}(e)}function Dy(e,t,n){const r=new de("/.info/"+t),i=Fe(n);e.infoData_.updateSnapshot(r,i);const o=Hc(e.infoSyncTree_,r,i);tn(e.eventQueue_,r,o)}function ph(e){return e.nextWriteId_++}function Sy(e,t,n,r,i){Os(e,"set",{path:t.toString(),value:n,priority:r});const o=qc(e),s=Fe(n,r),a=ch(e.serverSyncTree_,t),c=_y(s,a,o),l=ph(e),u=uy(e.serverSyncTree_,t,c,l,!0);fh(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||vt("set at "+t+" failed: "+h);const y=hi(e.serverSyncTree_,l,!p);tn(e.eventQueue_,t,y),function fi(e,t,n,r){t&&Ds(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}(0,i,h,f)});const d=Ay(e,t);ks(e,d),tn(e.eventQueue_,d,[])}function Ty(e,t,n){let r;r=".info"===J(t._path)?ah(e.infoSyncTree_,t,n):ah(e.serverSyncTree_,t,n),Fx(e.eventQueue_,t._path,r)}function Os(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),tt(n,...t)}function My(e,t,n){return ch(e.serverSyncTree_,t,n)||q.EMPTY_NODE}function gh(e,t=e.transactionQueueTree_){if(t||mh(e,t),to(t)){const n=zx(e,t);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function H7(e,t,n){const r=n.map(l=>l.currentWriteId),i=My(e,t,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const u=n[l];M(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=xt(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Os(e,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(hi(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();mh(e,uh(e.transactionQueueTree_,t)),gh(e,e.transactionQueueTree_),tn(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)Ds(d[h])}else{if("datastale"===l)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{vt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}ks(e,t)}},s)}(e,$c(t),n)}else Rx(t)&&dh(t,n=>{gh(e,n)})}function ks(e,t){const n=Gx(e,t),r=$c(n);return function B7(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],l=xt(n,c.path);let d,u=!1;if(M(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(hi(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=T7)u=!0,d="maxretry",i=i.concat(hi(e.serverSyncTree_,c.currentWriteId,!0));else{const h=My(e,c.path,s);c.currentInputSnapshot=h;const f=t[a].update(h.val());if(void 0!==f){zc("transaction failed: Data returned ",f,c.path);let p=Fe(f);"object"==typeof f&&null!=f&&Jn(f,".priority")||(p=p.updatePriority(h.getPriority()));const w=c.currentWriteId,D=qc(e),C=_y(p,h,D);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=C,c.currentWriteId=ph(e),s.splice(s.indexOf(w),1),i=i.concat(uy(e.serverSyncTree_,c.path,C,c.currentWriteId,c.applyLocally)),i=i.concat(hi(e.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(hi(e.serverSyncTree_,c.currentWriteId,!0))}tn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}mh(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Ds(r[a]);gh(e,e.transactionQueueTree_)}(e,zx(e,n),r),r}function Gx(e,t){let n,r=e.transactionQueueTree_;for(n=J(t);null!==n&&void 0===to(r);)r=uh(r,n),n=J(t=ve(t));return r}function zx(e,t){const n=[];return Wx(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Wx(e,t,n){const r=to(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);dh(t,i=>{Wx(e,i,n)})}function mh(e,t){const n=to(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Cy(t,n.length>0?n:void 0)}dh(t,r=>{mh(e,r)})}function Ay(e,t){const n=$c(Gx(e,t)),r=uh(e.transactionQueueTree_,t);return function y7(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{xy(e,i)}),xy(e,r),Px(r,i=>{xy(e,i)}),n}function xy(e,t){const n=to(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(M(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(M(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(hi(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Cy(t,void 0):n.length=o+1,tn(e.eventQueue_,$c(t),i);for(let s=0;s<r.length;s++)Ds(r[s])}}const Ry=function(e,t){const n=G7(e),r=n.namespace;return"firebase.com"===n.domain&&Xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new R_(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new de(n.pathString)}},G7=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function j7(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(u,d)));const h=function $7(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class Yx{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class Kx{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Py{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class nn{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:L_(this._path)}get ref(){return new Pn(this._repo,this._path)}get _queryIdentifier(){const t=ex(this._queryParams),n=A_(t);return"{}"===n?"default":n}get _queryObject(){return ex(this._queryParams)}isEqual(t){if(!((t=Bt(t))instanceof nn))return!1;const n=this._repo===t._repo,r=V_(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Fz(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Pn extends nn{constructor(t,n){super(t,n,new W_,!1)}get parent(){const t=j1(this._path);return null===t?null:new Pn(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class no{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new de(t),r=Fs(this.ref,t);return new no(this._node.getChild(n),r,Se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new no(i,Fs(this.ref,r),Se)))}hasChild(t){const n=new de(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rr(e,t){return(e=Bt(e))._checkNotDeleted("ref"),void 0!==t?Fs(e._root,t):e._root}function Fs(e,t){return null===J((e=Bt(e))._path)?I7("child","path",t,!1):Iy("child","path",t,!1),new Pn(e._repo,Ne(e._path,t))}function Yc(e,t){(function(e,t){if(".info"===J(t))throw new Error(e+" failed = Can't modify data under /.info/")})("set",(e=Bt(e))._path),function(e,t,n,r){r&&void 0===t||zc(bs(e,"value"),t,n)}("set",t,e._path,!1);const n=new _c;return Sy(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ny(e){e=Bt(e);const t=new Py(()=>{}),n=new Kc(t);return function R7(e,t,n){const r=function l7(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{const d=xt(l,n);r=r||ui(u,d)});let i=e.syncPointTree_.get(n);i?r=r||ui(i,ae()):(i=new vx,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new ci(r,!0,!1):null;return function WW(e){return Xd(e.viewCache_)}(Cx(i,t,eh(e.pendingWriteTree_,t._path),o?s.getNode():q.EMPTY_NODE,o))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const o=Fe(i).withIndex(t._queryParams.getIndex());let s;if(dy(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=Hc(e.serverSyncTree_,t._path,o);else{const a=Bc(e.serverSyncTree_,t);s=Dx(e.serverSyncTree_,t._path,o,a)}return tn(e.eventQueue_,t._path,s),ah(e.serverSyncTree_,t,n,null,!0),o},i=>(Os(e,"get for query "+et(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new no(r,new Pn(e._repo,e._path),e._queryParams.getIndex()))}class Kc{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new Yx("value",this,new no(t.snapshotNode,new Pn(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Kx(this,t,n):null}matches(t){return t instanceof Kc&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class vh{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Kx(this,t,n):null}createEvent(t,n){M(null!=t.childName,"Child events should have a childName.");const r=Fs(new Pn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Yx(t.type,this,new no(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof vh&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Oy(e,t,n,r){return function Qc(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(u,d)=>{Ty(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new Py(n,o||void 0),a="value"===t?new Kc(s):new vh(t,s);return function L7(e,t,n){let r;r=".info"===J(t._path)?dy(e.infoSyncTree_,t,n):dy(e.serverSyncTree_,t,n),Fx(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Ty(e._repo,e,a)}(e,"value",t,n,r)}(function QW(e){M(!ih,"__referenceConstructor has already been defined"),ih=e})(Pn),function t7(e){M(!sh,"__referenceConstructor has already been defined"),sh=e}(Pn);const ky={};function Xx(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tt("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=Ry(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Ry(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const u=i&&c?new Mc(Mc.OWNER):new dz(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!hh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Nx(e)}(n))throw new Error(bs(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),X(s.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function oq(e,t,n,r){let i=ky[t.name];i||(i={},ky[t.name]=i);let o=i[e.toURLString()];return o&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new M7(e,false,n,r),i[e.toURLString()]=o,o}(a,e,u,new uz(e,n));return new aq(d,e)}class aq{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function A7(e,t,n){if(e.stats_=O_(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Kd(e.repoInfo_,(r,i,o,s)=>{Hx(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Bx(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Zi(e.repoInfo_,t,(r,i,o,s)=>{Hx(e,r,i,o,s)},r=>{Bx(e,r)},r=>{!function x7(e,t){nt(t,(n,r)=>{Dy(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function pz(e,t){const n=e.toString();return N_[n]||(N_[n]=t()),N_[n]}(e.repoInfo_,()=>new pW(e.stats_,e.server_)),e.infoData_=new lW,e.infoSyncTree_=new Ix({startListening:(r,i,o,s)=>{let a=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Hc(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Dy(e,"connected",!1),e.serverSyncTree_=new Ix({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);tn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pn(this._repo,ae())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function iq(e,t){const n=ky[t];(!n||n[e.key]!==e)&&Xn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function $x(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Xn("Cannot call "+t+" on a deleted database.")}}Zi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Zi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function uq(e){(function o1(e){S_=e})(Es),ws(new Gi("database",(t,{instanceIdentifier:n})=>Xx(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Mr(r1,"1.1.0",e),Mr(r1,"1.1.0","esm2020")}();const fq=function tR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nR=new vc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ch=new p_("@firebase/auth");function bh(e,...t){Ch.logLevel<=me.ERROR&&Ch.error(`Auth (${Es}): ${e}`,...t)}function $t(e,...t){throw Ly(e,...t)}function Rt(e,...t){return Ly(e,...t)}function Fy(e,t,n){const r={...fq(),[t]:n};return new vc("auth","Firebase",r).create(t,{appName:e.name})}function rt(e){return Fy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ly(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return nR.create(e,...t)}function T(e,t,...n){if(!e)throw Ly(t,...n)}function ir(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bh(t),new Error(t)}function Pr(e,t){e||ir(t)}function Zc(){return typeof self<"u"&&self.location?.href||""}function rR(){return typeof self<"u"&&self.location?.protocol||null}function gq(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Vy(){return"http:"===rR()||"https:"===rR()}()||function E5(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Jc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Pr(n>t,"Short delay should be less than long delay!"),this.isMobile=u_()||VA()}get(){return gq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Uy(e,t){Pr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class iR{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vq=new Jc(3e4,6e4);function Ae(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}function xe(e,t,n,r){return Hy.apply(this,arguments)}function Hy(){return(Hy=v(function*(e,t,n,r,i={}){return oR(e,i,v(function*(){let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=Cs({key:e.config.apiKey,...s}).slice(1),c=yield e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:c,...o};return function w5(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&ys(e.emulatorConfig.host)&&(l.credentials="include"),iR.fetch()(yield sR(e,e.config.apiHost,n,a),l)}))})).apply(this,arguments)}function oR(e,t,n){return By.apply(this,arguments)}function By(){return(By=v(function*(e,t,n){e._canInitEmulator=!1;const r={..._q,...t};try{const i=new bq(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Xc(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Xc(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Xc(e,"email-already-in-use",s);if("USER_DISABLED"===c)throw Xc(e,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Fy(e,u,l);$t(e,u)}}catch(i){if(i instanceof ri)throw i;$t(e,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function jy(){return(jy=v(function*(e,t,n,r,i={}){const o=yield xe(e,t,n,r,i);return"mfaPendingCredential"in o&&$t(e,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function sR(e,t,n,r){return $y.apply(this,arguments)}function $y(){return($y=v(function*(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?Uy(e.config,i):`${e.config.apiScheme}://${i}`;return yq.includes(n)&&(yield o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())?o._getPersistence()._getFinalTarget(s).toString():s})).apply(this,arguments)}class bq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rt(this.auth,"network-request-failed")),vq.get())})}}function Xc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rt(e,t,r);return i.customData._tokenResponse=n,i}function Wy(){return(Wy=v(function*(e,t){return xe(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function wh(e,t){return Yy.apply(this,arguments)}function Yy(){return(Yy=v(function*(e,t){return xe(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function el(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Ky(){return(Ky=v(function*(e,t=!1){const n=Bt(e),r=yield n.getIdToken(t),i=Eh(r);T(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:el(Qy(i.auth_time)),issuedAtTime:el(Qy(i.iat)),expirationTime:el(Qy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Qy(e){return 1e3*Number(e)}function Eh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const i=mc(n);return i?JSON.parse(i):(bh("Failed to decode base64 JWT payload"),null)}catch(i){return bh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dR(e){const t=Eh(e);return T(t,"internal-error"),T(typeof t.exp<"u","internal-error"),T(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Or(e,t){return Zy.apply(this,arguments)}function Zy(){return(Zy=v(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof ri&&function Sq({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class Tq{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var t=this;return v(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&t.schedule(!0))}t.schedule()})()}}class Jy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tl(e){return Xy.apply(this,arguments)}function Xy(){return(Xy=v(function*(e){const t=e.auth,n=yield e.getIdToken(),r=yield Or(e,wh(t,{idToken:n}));T(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const o=i.providerUserInfo?.length?hR(i.providerUserInfo):[],s=function Aq(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,o),l=!!e.isAnonymous&&!(e.email&&i.passwordHash||s?.length),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Jy(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(e,u)})).apply(this,arguments)}function ev(){return(ev=v(function*(e){const t=Bt(e);yield tl(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function hR(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}function tv(){return(tv=v(function*(e,t){const n=yield oR(e,{},v(function*(){const r=Cs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield sR(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return e.emulatorConfig&&ys(e.emulatorConfig.host)&&(c.credentials="include"),iR.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function nv(){return(nv=v(function*(e,t){return xe(e,"POST","/v2/accounts:revokeToken",Ae(e,t))})).apply(this,arguments)}class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){T(t.idToken,"internal-error"),T(typeof t.idToken<"u","internal-error"),T(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dR(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){T(0!==t.length,"internal-error");const n=dR(t);this.updateTokensAndExpiration(t,null,n)}getToken(t){var n=this;return v(function*(r,i=!1){return i||!n.accessToken||n.isExpired?(T(n.refreshToken,r,"user-token-expired"),n.refreshToken?(yield n.refresh(r,n.refreshToken),n.accessToken):null):n.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function xq(e,t){return tv.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Vs;return r&&(T("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(T("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(T("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return ir("not implemented")}}function gi(e,t){T("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class On{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Tq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jy(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(t){var n=this;return v(function*(){const r=yield Or(n,n.stsTokenManager.getToken(n.auth,t));return T(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function Dq(e){return Ky.apply(this,arguments)}(this,t)}reload(){return function Mq(e){return ev.apply(this,arguments)}(this)}_assign(t){this!==t&&(T(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new On({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t){var n=this;return v(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield tl(n)),yield n.auth._persistUserIfCurrent(n),o&&n.auth._notifyListenersIfCurrent(n)}).apply(this,arguments)}delete(){var t=this;return v(function*(){if(An(t.auth.app))return Promise.reject(rt(t.auth));const n=yield t.getIdToken();return yield Or(t,function Eq(e,t){return Wy.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:p,stsTokenManager:y}=n;T(d&&y,t,"internal-error");const w=Vs.fromJSON(this.name,y);T("string"==typeof d,t,"internal-error"),gi(r,t.name),gi(i,t.name),T("boolean"==typeof h,t,"internal-error"),T("boolean"==typeof f,t,"internal-error"),gi(o,t.name),gi(s,t.name),gi(a,t.name),gi(c,t.name),gi(l,t.name),gi(u,t.name);const D=new On({uid:d,auth:t,email:i,emailVerified:h,displayName:r,isAnonymous:f,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:w,createdAt:l,lastLoginAt:u});return p&&Array.isArray(p)&&(D.providerData=p.map(C=>({...C}))),c&&(D._redirectEventId=c),D}static _fromIdTokenResponse(t,n){return v(function*(r,i,o=!1){const s=new Vs;s.updateFromServerResponse(i);const a=new On({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield tl(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(t,n,r){return v(function*(){const i=n.users[0];T(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?hR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Vs;a.updateFromIdToken(r);const c=new On({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(c,l),c})()}}const fR=new Map;function kr(e){Pr(e instanceof Function,"Expected a class definition");let t=fR.get(e);return t?(Pr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fR.set(e,t),t)}const pR=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function Ih(e,t,n){return`firebase:${e}:${t}:${n}`}class Us{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ih(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ih("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return v(function*(){const n=yield t.persistence._get(t.fullUserKey);if(!n)return null;if("string"==typeof n){const r=yield wh(t.auth,{idToken:n}).catch(()=>{});return r?On._fromGetAccountInfoResponse(t.auth,r,n):null}return On._fromJSON(t.auth,n)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return v(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n){return v(function*(r,i,o="authUser"){if(!i.length)return new Us(kr(pR),r,o);const s=(yield Promise.all(i.map(function(){var d=v(function*(h){if(yield h._isAvailable())return h});return function(h){return d.apply(this,arguments)}}()))).filter(d=>d);let a=s[0]||kr(pR);const c=Ih(o,r.config.apiKey,r.name);let l=null;for(const d of i)try{const h=yield d._get(c);if(h){let f;if("string"==typeof h){const p=yield wh(r,{idToken:h}).catch(()=>{});if(!p)break;f=yield On._fromGetAccountInfoResponse(r,p,h)}else f=On._fromJSON(r,h);d!==a&&(l=f),a=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&u.length?(a=u[0],l&&(yield a._set(c,l.toJSON())),yield Promise.all(i.map(function(){var d=v(function*(h){if(h!==a)try{yield h._remove(c)}catch{}});return function(h){return d.apply(this,arguments)}}())),new Us(a,r,o)):new Us(a,r,o)}).apply(this,arguments)}}function gR(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bR(t))return"Blackberry";if(wR(t))return"Webos";if(_R(t))return"Safari";if((t.includes("chrome/")||yR(t))&&!t.includes("edge/"))return"Chrome";if(CR(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function mR(e=dt()){return/firefox\//i.test(e)}function _R(e=dt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yR(e=dt()){return/crios\//i.test(e)}function vR(e=dt()){return/iemobile/i.test(e)}function CR(e=dt()){return/android/i.test(e)}function bR(e=dt()){return/blackberry/i.test(e)}function wR(e=dt()){return/webos/i.test(e)}function rv(e=dt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ER(e=dt()){return rv(e)||CR(e)||wR(e)||bR(e)||/windows phone/i.test(e)||vR(e)}function IR(e,t=[]){let n;switch(e){case"Browser":n=gR(dt());break;case"Worker":n=`${gR(dt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Es}/${r}`}class Oq{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{s(t(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return v(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function iv(){return(iv=v(function*(e,t={}){return xe(e,"GET","/v2/passwordPolicy",Ae(e,t))})).apply(this,arguments)}class Lq{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),void 0!==n.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),void 0!==n.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),void 0!==n.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),void 0!==n.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Vq{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DR(this),this.idTokenSubscription=new DR(this),this.beforeStateQueue=new Oq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(v(function*(){if(!r._deleted&&(r.persistenceManager=yield Us.create(r,t),r._resolvePersistenceManagerAvailable?.(),!r._deleted)){if(r._popupRedirectResolver?._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=r.currentUser?.uid||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return v(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(t){var n=this;return v(function*(){try{const r=yield wh(n,{idToken:t}),i=yield On._fromGetAccountInfoResponse(n,r,t);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var n=this;return v(function*(){if(An(n.app)){const s=n.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(s).then(a,a))}):n.directlySetCurrentUser(null)}const r=yield n.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=n.redirectUser?._redirectEventId,a=i?._redirectEventId,c=yield n.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return n.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(i)}catch(s){i=r,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(s))}return i?n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)}return T(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)})()}tryRedirectSignIn(t){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return v(function*(){try{yield tl(t)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function mq(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return v(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return v(function*(){if(An(n.app))return Promise.reject(rt(n));const r=t?Bt(t):null;return r&&T(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t){var n=this;return v(function*(r,i=!1){if(!n._deleted)return r&&T(n.tenantId===r.tenantId,n,"tenant-id-mismatch"),i||(yield n.beforeStateQueue.runMiddleware(r)),n.queue(v(function*(){yield n.directlySetCurrentUser(r),n.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var t=this;return v(function*(){return An(t.app)?Promise.reject(rt(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var n=this;return An(this.app)?Promise.reject(rt(this)):this.queue(v(function*(){yield n.assertedPersistence.setPersistence(kr(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return v(function*(){const n=yield function kq(e){return iv.apply(this,arguments)}(t),r=new Lq(n);null===t.tenantId?t._projectPasswordPolicy=r:t._tenantPasswordPolicies[t.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new vc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){var n=this;return v(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function Rq(e,t){return nv.apply(this,arguments)}(n,i)}})()}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(t,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=t&&kr(t)||n._popupRedirectResolver;T(r,n,"argument-error"),n.redirectPersistenceManager=yield Us.create(n,[kr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return v(function*(){return n._isInitialized&&(yield n.queue(v(function*(){}))),n._currentUser?._redirectEventId===t?n._currentUser:n.redirectUser?._redirectEventId===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return v(function*(){if(t===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=t.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){var n=this;return v(function*(){n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=IR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return v(function*(){const n={"X-Client-Version":t.clientVersion};t.app.options.appId&&(n["X-Firebase-gmpid"]=t.app.options.appId);const r=yield t.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);const i=yield t._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})()}_getAppCheckToken(){var t=this;return v(function*(){if(An(t.app)&&t.app.settings.appCheckToken)return t.app.settings.appCheckToken;const n=yield t.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return n?.error&&function pq(e,...t){Ch.logLevel<=me.WARN&&Ch.warn(`Auth (${Es}): ${e}`,...t)}(`Error while retrieving App Check token: ${n.error}`),n?.token})()}}function ze(e){return Bt(e)}class DR{constructor(t){this.auth=t,this.observer=null,this.addObserver=function N5(e,t){const n=new O5(e,t);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nl={loadJS:()=>v(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SR(e){return`__${e}${Math.floor(1e6*Math.random())}`}function AR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xR(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ol{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(t){return ir("not implemented")}_linkToIdToken(t,n){return ir("not implemented")}_getReauthenticationResolver(t){return ir("not implemented")}}function Fr(e,t){return wv.apply(this,arguments)}function wv(){return(wv=v(function*(e,t){return function Nr(e,t,n,r){return jy.apply(this,arguments)}(e,"POST","/v1/accounts:signInWithIdp",Ae(e,t))})).apply(this,arguments)}class Hs extends ol{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$t("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n="string"==typeof t?JSON.parse(t):t,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Hs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){return Fr(t,this.buildRequest())}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Fr(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Fr(t,n)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Cs(n)}return t}}class Lr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class OR extends Lr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}let v9=(()=>{class e extends OR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Hs._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return e.credentialFromTaggedObject(n)}static credentialFromError(n){return e.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return e.credential(r,i)}catch{return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})();class pn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r){return v(function*(i,o,s,a=!1){const c=yield On._fromIdTokenResponse(i,s,a),l=FR(s);return new pn({user:c,providerId:l,_tokenResponse:s,operationType:o})}).apply(this,arguments)}static _forOperation(t,n,r){return v(function*(){yield t._updateTokensIfNecessary(r,!0);const i=FR(r);return new pn({user:t,providerId:i,_tokenResponse:r,operationType:n})})()}}function FR(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ah extends ri{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Ah(t,n,r,i)}}function LR(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Ah._fromErrorAndOperation(e,o,t,r):o})}function Pv(){return(Pv=v(function*(e,t,n=!1){const r=yield Or(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return pn._forOperation(e,"link",r)})).apply(this,arguments)}function Ov(){return(Ov=v(function*(e,t,n=!1){const{auth:r}=e;if(An(r.app))return Promise.reject(rt(r));const i="reauthenticate";try{const o=yield Or(e,LR(r,i,t,e),n);T(o.idToken,r,"internal-error");const s=Eh(o.idToken);T(s,r,"internal-error");const{sub:a}=s;return T(e.uid===a,r,"user-mismatch"),pn._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&$t(r,"user-mismatch"),o}})).apply(this,arguments)}function kv(){return(kv=v(function*(e,t,n=!1){if(An(e.app))return Promise.reject(rt(e));const r="signIn",i=yield LR(e,r,t),o=yield pn._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})).apply(this,arguments)}const Ph="__sak";class GR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const j9=(()=>{class e extends GR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ER(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Nq(){return function I5(){const e=dt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return v(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return e.type="LOCAL",e})(),zR=(()=>{class e extends GR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})();let G9=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=v(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function $9(e){return Promise.all(e.map(function(){var t=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return t.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function Nh(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class z9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n){var r=this;return v(function*(i,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,l;return new Promise((u,d)=>{const h=Nh("",20);a.port1.start();const f=setTimeout(()=>{d(new Error("unsupported_event"))},s);l={messageChannel:a,onMessage(p){const y=p;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(f),c=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),u(y.data.response);break;default:clearTimeout(f),clearTimeout(c),d(new Error("invalid_response"))}}},r.handlers.add(l),a.port1.addEventListener("message",l.onMessage),r.target.postMessage({eventType:i,eventId:h,data:o},[a.port2])}).finally(()=>{l&&r.removeMessageHandler(l)})}).apply(this,arguments)}}function Ke(){return window}function hC(){return typeof Ke().WorkerGlobalScope<"u"&&"function"==typeof Ke().importScripts}function fC(){return(fC=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const WR="firebaseLocalStorageDb",Oh="firebaseLocalStorage",qR="fbase_key";class ll{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(e,t){return e.transaction([Oh],t?"readwrite":"readonly").objectStore(Oh)}function pC(){const e=indexedDB.open(WR,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Oh,{keyPath:qR})}catch(i){n(i)}}),e.addEventListener("success",v(function*(){const r=e.result;r.objectStoreNames.contains(Oh)?t(r):(r.close(),yield function Z9(){const e=indexedDB.deleteDatabase(WR);return new ll(e).toPromise()}(),t(yield pC()))}))})}function YR(e,t,n){return gC.apply(this,arguments)}function gC(){return(gC=v(function*(e,t,n){const r=kh(e,!0).put({[qR]:t,value:n});return new ll(r).toPromise()})).apply(this,arguments)}function mC(){return(mC=v(function*(e,t){const n=kh(e,!1).get(t),r=yield new ll(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function KR(e,t){const n=kh(e,!0).delete(t);return new ll(n).toPromise()}const tY=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield pC()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return hC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=G9._getInstance(function K9(){return hC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){if(n.activeServiceWorker=yield function q9(){return fC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new z9(n.activeServiceWorker);const r=yield n.sender._send("ping",{},800);r&&r[0]?.fulfilled&&r[0]?.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function Y9(){return navigator?.serviceWorker?.controller||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield pC();return yield YR(n,Ph,"1"),yield KR(n,Ph),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(o=>YR(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(o=>function J9(e,t){return mC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>KR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(s=>{const a=kh(s,!1).getAll();return new ll(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function io(e,t){return t?kr(t):(T(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}SR("rcb"),new Jc(3e4,6e4);class TC extends ol{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Fr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Fr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function uY(e){return function HR(e,t){return kv.apply(this,arguments)}(e.auth,new TC(e),e.bypassAuthState)}function dY(e){const{auth:t,user:n}=e;return T(n,t,"internal-error"),function UR(e,t){return Ov.apply(this,arguments)}(n,new TC(e),e.bypassAuthState)}function hY(e){return MC.apply(this,arguments)}function MC(){return(MC=v(function*(e){const{auth:t,user:n}=e;return T(n,t,"internal-error"),function Rv(e,t){return Pv.apply(this,arguments)}(n,new TC(e),e.bypassAuthState)})).apply(this,arguments)}class ZR{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var t=this;return new Promise(function(){var n=v(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(t){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=t;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uY;case"linkViaPopup":case"linkViaRedirect":return hY;case"reauthViaPopup":case"reauthViaRedirect":return dY;default:$t(this.auth,"internal-error")}}resolve(t){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fY=new Jc(2e3,1e4);function AC(){return(AC=v(function*(e,t,n){if(An(e.app))return Promise.reject(Rt(e,"operation-not-supported-in-this-environment"));const r=ze(e);!function Ls(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&$t(e,"argument-error"),Fy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,Lr);const i=io(r,n);return new PC(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}let PC=(()=>{class e extends ZR{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var n=this;return v(function*(){const r=yield n.execute();return T(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return v(function*(){Pr(1===n.filter.length,"Popup operations only handle one event");const r=Nh();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Rt(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const n=()=>{this.pollId=this.authWindow?.window?.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,fY.get())};n()}}return e.currentPopupAction=null,e})();const gY="pendingRedirect",dl=new Map;class mY extends ZR{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,n=this;return v(function*(){let r=dl.get(n.auth._key());if(!r){try{const o=(yield function _Y(e,t){return NC.apply(this,arguments)}(n.resolver,n.auth))?yield t().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}dl.set(n.auth._key(),r)}return n.bypassAuthState||dl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===t.type)return n().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,n().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function NC(){return(NC=v(function*(e,t){const n=function XR(e){return Ih(gY,e.config.apiKey,e.name)}(t),r=function JR(e){return kr(e._redirectPersistence)}(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function yY(e,t){dl.set(e._key(),t)}function eP(e,t){return HC.apply(this,arguments)}function HC(){return(HC=v(function*(e,t,n=!1){if(An(e.app))return Promise.reject(rt(e));const r=ze(e),i=io(r,t),s=yield new mY(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}class EY{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function IY(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rP(e);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!rP(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Rt(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=null===n.eventId||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nP(t))}saveEventToCache(t){this.cachedEventUids.add(nP(t)),this.lastProcessedEventTime=Date.now()}}function nP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function rP({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function jC(){return(jC=v(function*(e,t={}){return xe(e,"GET","/v1/projects",t)})).apply(this,arguments)}const SY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TY=/^https?/;function $C(){return $C=v(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function DY(e){return jC.apply(this,arguments)}(e);for(const n of t)try{if(AY(n))return}catch{}$t(e,"unauthorized-domain")}),$C.apply(this,arguments)}function AY(e){const t=Zc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!TY.test(n))return!1;if(SY.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xY=new Jc(3e4,6e4);function iP(){const e=Ke().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function RY(e){return new Promise((t,n)=>{function r(){iP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iP(),n(Rt(e,"network-request-failed"))},timeout:xY.get()})}if(Ke().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Ke().gapi?.load){const i=SR("iframefcb");return Ke()[i]=()=>{gapi.load?r():n(Rt(e,"network-request-failed"))},function ov(e){return nl.loadJS(e)}(`${function jq(){return nl.gapiScript}()}?onload=${i}`).catch(o=>n(o))}r()}}).catch(t=>{throw Fh=null,t})}let Fh=null;const NY=new Jc(5e3,15e3),OY="__/auth/iframe",kY="emulator/auth/iframe",FY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VY(e){const t=e.config;T(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Uy(t,kY):`https://${e.config.authDomain}/${OY}`,r={apiKey:t.apiKey,appName:e.name,v:Es},i=LY.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cs(r).slice(1)}`}function GC(){return GC=v(function*(e){const t=yield function PY(e){return Fh=Fh||RY(e),Fh}(e),n=Ke().gapi;return T(n,e,"internal-error"),t.open({where:document.body,url:VY(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FY,dontclear:!0},r=>new Promise(function(){var i=v(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Rt(e,"network-request-failed"),c=Ke().setTimeout(()=>{s(a)},NY.get());function l(){Ke().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),GC.apply(this,arguments)}const HY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qY="__/auth/handler",YY="emulator/auth/handler",KY=encodeURIComponent("fac");function sP(e,t,n,r,i,o){return zC.apply(this,arguments)}function zC(){return(zC=v(function*(e,t,n,r,i,o){T(e.config.authDomain,e,"auth-domain-config-required"),T(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Es,eventId:i};if(t instanceof Lr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",d_(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof OR){const u=t.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield e._getAppCheckToken(),l=c?`#${KY}=${encodeURIComponent(c)}`:"";return`${function QY({config:e}){return e.emulator?Uy(e,YY):`https://${e.authDomain}/${qY}`}(e)}?${Cs(a).slice(1)}${l}`})).apply(this,arguments)}const WC="webStorageSupport",JY=class ZY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zR,this._completeRedirectFn=eP,this._overrideRedirectResult=yY}_openPopup(t,n,r,i){var o=this;return v(function*(){Pr(o.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=yield sP(t,n,r,Zc(),i);return function zY(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...HY,width:r.toString(),height:i.toString(),top:o,left:s},l=dt().toLowerCase();n&&(a=yR(l)?"_blank":n),mR(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Pq(e=dt()){return rv(e)&&!!window.navigator?.standalone}(l)&&"_self"!==a)return function WY(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new oP(null);const d=window.open(t||"",a,u);T(d,e,"popup-blocked");try{d.focus()}catch{}return new oP(d)}(t,s,Nh())})()}_openRedirect(t,n,r,i){var o=this;return v(function*(){return yield o._originValidation(t),function W9(e){Ke().location.href=e}(yield sP(t,n,r,Zc(),i)),new Promise(()=>{})})()}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){var n=this;return v(function*(){const r=yield function UY(e){return GC.apply(this,arguments)}(t),i=new EY(t);return r.register("authEvent",o=>(T(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:i},n.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(WC,{type:WC},i=>{const o=i?.[0]?.[WC];void 0!==o&&n(!!o),$t(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function MY(e){return $C.apply(this,arguments)}(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ER()||_R()||rv()}};var uP="@firebase/auth";class XY{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(t){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rK=NA("authIdTokenMaxAge")||300;let hP=null;const iK=e=>function(){var t=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>rK)return;const o=r?.token;hP!==o&&(hP=o,yield fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return t.apply(this,arguments)}}();(function Uq(e){nl=e})({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Rt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function sK(){return document.getElementsByTagName("head")?.[0]??document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function tK(e){ws(new Gi("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;T(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IR(e)},l=new Vq(r,i,o,c);return function Jq(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ws(new Gi("auth-internal",t=>{const n=ze(t.getProvider("auth").getImmediate());return new XY(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(uP,"1.12.0",function eK(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),Mr(uP,"1.12.0","esm2020")}("Browser");const fP=QA({apiKey:"AIzaSyCcGMIKGZlWqvOUM1-mjFHIIT-WvKktl_0",authDomain:"habit-tracker-86281.firebaseapp.com",databaseURL:"https://habit-tracker-86281.firebaseio.com/",projectId:"habit-tracker-86281",storageBucket:"habit-tracker-86281.firebasestorage.app",messagingSenderId:"325420672462",appId:"1:325420672462:web:8df0ee22fe8b496356779f"}),_i=function cq(e=ZA(),t){const n=Ud(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=RA("database");if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})();r&&function lq(e,t,n,r={}){(e=Bt(e))._checkNotDeleted("useEmulator");const i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&$i(r,o.repoInfo_.emulatorOptions))return;Xn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Mc(Mc.OWNER);else if(r.mockUserToken){const a="string"==typeof r.mockUserToken?r.mockUserToken:function y5(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Pd(JSON.stringify({alg:"none",type:"JWT"})),Pd(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);s=new Mc(a)}ys(t)&&(OA(t),FA("Database",!0)),function rq(e,t,n,r){const i=t.lastIndexOf(":"),s=ys(t.substring(0,i));e.repoInfo_=new R_(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,s)}(n,...r)}return n}(fP),YC=function oK(e=ZA()){const t=Ud(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function Zq(e,t){const n=Ud(e,"auth");if(n.isInitialized()){const i=n.getImmediate();if($i(n.getOptions(),t??{}))return i;$t(i,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:JY,persistence:[tY,j9,zR]}),r=NA("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=iK(o.toString());(function O9(e,t,n){Bt(e).beforeAuthStateChanged(t,n)})(n,s,()=>s(n.currentUser)),function N9(e,t,n,r){Bt(e).onIdTokenChanged(t,n,r)}(n,a=>s(a))}}const i=RA("auth");return i&&function Xq(e,t,n){const r=ze(e);T(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=AR(t),{host:s,port:a}=function e9(e){const t=AR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:xR(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:xR(s)}}}(t),c=null===a?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return T(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void T($i(l,r.config.emulator)&&$i(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ys(s)?(OA(`${o}//${s}${c}`),FA("Auth",!0)):i||function t9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}(fP);let hl=(()=>{class e{constructor(){this.currentUser=Un(null),this.authLoading=Un(!0),function k9(e,t,n,r){Bt(e).onAuthStateChanged(t,n,r)}(YC,n=>{this.currentUser.set(n),this.authLoading.set(!1)})}signInWithGoogle(){return v(function*(){const n=new v9;yield function pY(e,t,n){return AC.apply(this,arguments)}(YC,n)})()}signOut(){return v(function*(){yield function F9(e){return Bt(e).signOut()}(YC)})()}getUserPath(n){const r=this.currentUser()?.uid;if(!r)throw new Error("User not authenticated");return`users/${r}/${n}`}saveHabits(n){Yc(Rr(_i,this.getUserPath("habits")),JSON.parse(JSON.stringify(n)))}saveLogs(n){Yc(Rr(_i,this.getUserPath("logs")),n.map(o=>({habitId:o.habitId,date:o.date,completed:o.completed,...o.note&&{note:o.note},...o.milestoneCount&&{milestoneCount:o.milestoneCount}})))}getHabits(){var n=this;return v(function*(){const r=Rr(_i,n.getUserPath("habits")),i=yield Ny(r);return i.exists()?i.val():[]})()}getLogs(){var n=this;return v(function*(){const r=Rr(_i,n.getUserPath("logs")),i=yield Ny(r);return i.exists()?i.val():[]})()}onHabitsChange(n){this.currentUser()&&Oy(Rr(_i,this.getUserPath("habits")),i=>{n(i.exists()?i.val():[])})}onLogsChange(n){this.currentUser()&&Oy(Rr(_i,this.getUserPath("logs")),i=>{n(i.exists()?i.val():[])})}saveReflection(n,r){Yc(Rr(_i,this.getUserPath(`reflections/${n}`)),r)}getReflections(){var n=this;return v(function*(){const r=Rr(_i,n.getUserPath("reflections")),i=yield Ny(r);if(!i.exists())return[];const o=i.val();return Object.keys(o).map(s=>({date:s,...o[s]}))})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function aK(e,t){1&e&&(g(0,"div",4),$e(1,"div",5),g(2,"p"),_(3,"Loading..."),m()())}const cK=function(){return{exact:!0}};function lK(e,t){if(1&e){const n=_t();g(0,"nav",6)(1,"a",7),_(2," Today "),m(),g(3,"a",8),_(4," Calendar "),m(),g(5,"a",9),_(6," Report "),m(),g(7,"a",10),_(8," Reflection "),m(),g(9,"a",11),_(10," Identity "),m(),g(11,"a",12),_(12," \u{1f4a1} Tips "),m(),g(13,"a",13),_(14," + New "),m(),g(15,"button",14),V("click",function(){return Be(n),je(k().signOut())}),_(16," Logout "),m()()}2&e&&(b(1),A("routerLinkActiveOptions",function pT(e,t,n){const r=Et()+e,i=I();return i[r]===z?Gn(i,r,n?t.call(n):t()):function Pa(e,t){return e[t]}(i,r)}(1,cK)))}function uK(e,t){1&e&&(g(0,"main",15),$e(1,"router-outlet"),m())}let dK=(()=>{class e{constructor(n,r){this.firebase=n,this.router=r}signOut(){var n=this;return v(function*(){yield n.firebase.signOut(),n.router.navigate(["/login"])})()}static{this.\u0275fac=function(r){return new(r||e)(E(hl),E(At))}}static{this.\u0275cmp=it({type:e,selectors:[["app-root"]],standalone:!0,features:[ut],decls:4,vars:3,consts:[[1,"app"],["class","loading-screen",4,"ngIf"],["class","nav",4,"ngIf"],["class","main",4,"ngIf"],[1,"loading-screen"],[1,"spinner-large"],[1,"nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/calendar","routerLinkActive","active"],["routerLink","/report","routerLinkActive","active"],["routerLink","/reflection","routerLinkActive","active"],["routerLink","/identity","routerLinkActive","active"],["routerLink","/tips","routerLinkActive","active"],["routerLink","/create","routerLinkActive","active",1,"create-btn"],[1,"logout-btn",3,"click"],[1,"main"]],template:function(r,i){1&r&&(g(0,"div",0),j(1,aK,4,0,"div",1),j(2,lK,17,2,"nav",2),j(3,uK,2,0,"main",3),m()),2&r&&(b(1),A("ngIf",i.firebase.authLoading()),b(1),A("ngIf",i.firebase.currentUser()&&!i.firebase.authLoading()),b(1),A("ngIf",!i.firebase.authLoading()))},dependencies:[Ht,Kn,Jm,Rd,bA],styles:[".app[_ngcontent-%COMP%]{min-height:100vh;background:#f9fafb}.loading-screen[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.spinner-large[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top-color:#6366f1;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:16px}.nav[_ngcontent-%COMP%]{background:white;border-bottom:1px solid #e5e7eb;padding:16px 20px;display:flex;gap:24px;align-items:center;position:sticky;top:0;z-index:100}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#6b7280;font-size:15px;font-weight:500;padding:8px 12px;border-radius:6px;transition:all .2s}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#111827;background:#f3f4f6}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#6366f1;background:#eef2ff}.create-btn[_ngcontent-%COMP%]{margin-left:auto;background:#6366f1!important;color:#fff!important}.create-btn[_ngcontent-%COMP%]:hover{background:#4f46e5!important}.logout-btn[_ngcontent-%COMP%]{margin-left:auto;padding:8px 16px;background:#ef4444;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer}.logout-btn[_ngcontent-%COMP%]:hover{background:#dc2626}.main[_ngcontent-%COMP%]{padding-bottom:40px}@media (max-width: 640px){.nav[_ngcontent-%COMP%]{gap:12px;overflow-x:auto}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;white-space:nowrap}}"]})}}return e})(),Vr=(()=>{class e{constructor(n){this.firebase=n,this.habits=Un([]),this.logs=Un([]),this.allHabits=this.habits.asReadonly(),this.allLogs=this.logs.asReadonly(),this.firebase.onHabitsChange(r=>this.habits.set(r)),this.firebase.onLogsChange(r=>this.logs.set(r))}addHabit(n){const r=[...this.habits(),n];this.habits.set(r),this.firebase.saveHabits(r)}logHabit(n,r,i,o,s){const c=[...this.logs().filter(l=>!(l.habitId===n&&l.date===r)),{habitId:n,date:r,completed:i,note:o,milestoneCount:s}];this.logs.set(c),this.firebase.saveLogs(c)}getHabitState(n,r){const i=this.logs().find(o=>o.habitId===n&&o.date===r);return i?i.completed?"done":"missed":"pending"}getWeeklyConsistency(n,r){let i=0,o=0;for(let s=0;s<7;s++){const a=new Date(r);a.setDate(a.getDate()-s);const c=this.formatDate(a);this.logs().find(u=>u.habitId===n&&u.date===c)?.completed&&i++,o++}return{completed:i,total:o}}formatDate(n){return n.toISOString().split("T")[0]}static{this.\u0275fac=function(r){return new(r||e)(Z(hl))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function hK(e,t){if(1&e&&(g(0,"div",19)(1,"span",2),_(2,"\u26a1"),m(),g(3,"span"),_(4),m()()),2&e){const n=k();b(4),K(n.habit.twoMinuteRule)}}function fK(e,t){if(1&e&&(g(0,"div",20)(1,"span",2),_(2,"\u{1f4a1}"),m(),g(3,"span"),_(4),m()()),2&e){const n=k();b(4),K(n.habit.cue)}}function pK(e,t){if(1&e){const n=_t();g(0,"button",21),V("click",function(){return Be(n),je(k().complete.emit())}),g(1,"span",22),_(2,"\u2713"),m(),g(3,"span"),_(4,"Vote"),m()()}}function gK(e,t){1&e&&(g(0,"div",23)(1,"div",24),_(2,"\u26a0\ufe0f Never Miss Twice"),m(),g(3,"div",25),_(4,"Missing once is an accident. Missing twice is the start of a new habit. Get back on track quickly."),m()())}function mK(e,t){if(1&e&&(g(0,"div",26)(1,"span",27),_(2,"\u2713"),m(),g(3,"div")(4,"div",28),_(5),m(),g(6,"div",29),_(7),m()()()),2&e){const n=k();b(5),K(n.habit.reward),b(2),Ee("You are ",n.habit.identity,"")}}function _K(e,t){1&e&&(g(0,"div",30)(1,"span"),_(2,"Not today"),m()())}let yK=(()=>{class e{constructor(){this.state="pending",this.weeklyConsistency={completed:0,total:7},this.complete=new ke}getVoteCount(){return this.habitService?this.habitService.allLogs().filter(n=>n.habitId===this.habit.id&&n.completed).length:0}missedYesterday(){if(!this.habitService)return!1;const n=new Date;n.setDate(n.getDate()-1);const r=n.toISOString().split("T")[0];return"missed"===this.habitService.getHabitState(this.habit.id,r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=it({type:e,selectors:[["app-habit-card-modern"]],inputs:{habit:"habit",state:"state",weeklyConsistency:"weeklyConsistency",habitService:"habitService"},outputs:{complete:"complete"},standalone:!0,features:[ut],decls:43,vars:17,consts:[[1,"card"],[1,"badge"],[1,"icon"],[1,"vote-count"],[1,"grid"],[1,"box"],[1,"label"],[1,"text"],["class","two-minute",4,"ngIf"],["class","cue",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],["class","never-miss-twice",4,"ngIf"],["class","done",4,"ngIf"],["class","missed",4,"ngIf"],[1,"progress"],[1,"progress-top"],[1,"count"],[1,"bar"],[1,"fill"],[1,"two-minute"],[1,"cue"],[1,"btn",3,"click"],[1,"btn-icon"],[1,"never-miss-twice"],[1,"warning-title"],[1,"warning-text"],[1,"done"],[1,"check"],[1,"done-text"],[1,"done-sub"],[1,"missed"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"span",2),_(3,"\u2728"),m(),g(4,"span"),_(5),m(),g(6,"span",3),_(7),m()(),g(8,"div",4)(9,"div",5)(10,"div",6),_(11,"When"),m(),g(12,"div",7),_(13),m()(),g(14,"div",5)(15,"div",6),_(16,"I will"),m(),g(17,"div",7),_(18),m()(),g(19,"div",5)(20,"div",6),_(21,"At"),m(),g(22,"div",7),_(23),m()(),g(24,"div",5)(25,"div",6),_(26,"Where"),m(),g(27,"div",7),_(28),m()()(),j(29,hK,5,1,"div",8),j(30,fK,5,1,"div",9),j(31,pK,5,0,"button",10),j(32,gK,5,0,"div",11),j(33,mK,8,2,"div",12),j(34,_K,3,0,"div",13),g(35,"div",14)(36,"div",15)(37,"span"),_(38,"This week"),m(),g(39,"span",16),_(40),m()(),g(41,"div",17),$e(42,"div",18),m()()()),2&r&&(Jr("--color",i.habit.color),b(5),K(i.habit.identity),b(2),Ee("",i.getVoteCount()," votes"),b(6),K(i.habit.trigger.when),b(5),K(i.habit.name),b(5),K(i.habit.time),b(5),K(i.habit.trigger.where),b(1),A("ngIf",i.habit.twoMinuteRule),b(1),A("ngIf",i.habit.cue),b(1),A("ngIf","pending"===i.state),b(1),A("ngIf","pending"===i.state&&i.missedYesterday()),b(1),A("ngIf","done"===i.state),b(1),A("ngIf","missed"===i.state),b(6),Ee("",i.weeklyConsistency.completed,"/7"),b(2),Jr("width",i.weeklyConsistency.completed/7*100,"%"))},dependencies:[Ht,Kn],styles:[".card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:24px;box-shadow:0 2px 12px #00000014;border-left:4px solid var(--color)}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:linear-gradient(135deg,rgba(99,102,241,.1),rgba(139,92,246,.1));border-radius:20px;font-size:12px;font-weight:700;color:#6366f1;text-transform:uppercase;letter-spacing:.5px;margin-bottom:20px}.vote-count[_ngcontent-%COMP%]{margin-left:4px;padding:2px 8px;background:#6366f1;color:#fff;border-radius:10px;font-size:11px}.icon[_ngcontent-%COMP%]{font-size:16px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px}.box[_ngcontent-%COMP%]{padding:16px;background:#f9fafb;border-radius:12px;border:1px solid #f3f4f6}.label[_ngcontent-%COMP%]{font-size:10px;font-weight:700;color:#6366f1;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}.text[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#111827;line-height:1.4}.btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:var(--color);color:#fff;border:none;border-radius:14px;font-size:16px;font-weight:700;display:flex;align-items:center;justify-content:center;gap:10px;cursor:pointer;box-shadow:0 4px 12px #00000026;margin-bottom:20px;transition:transform .2s}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-icon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.done[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:linear-gradient(135deg,#d1fae5,#a7f3d0);border-radius:14px;margin-bottom:20px}.check[_ngcontent-%COMP%]{width:32px;height:32px;background:#059669;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700}.done-text[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#065f46}.done-sub[_ngcontent-%COMP%]{font-size:13px;color:#047857}.missed[_ngcontent-%COMP%]{padding:14px;text-align:center;background:#f9fafb;border-radius:12px;font-size:14px;color:#9ca3af;margin-bottom:20px}.progress[_ngcontent-%COMP%]{padding:16px;background:#fafafa;border-radius:14px}.progress-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;font-size:13px;font-weight:600;color:#6b7280}.count[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--color)}.bar[_ngcontent-%COMP%]{height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.fill[_ngcontent-%COMP%]{height:100%;background:var(--color);transition:width .3s}.two-minute[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;background:linear-gradient(135deg,#fef3c7,#fde68a);border-radius:12px;margin-bottom:20px;font-size:13px;font-weight:600;color:#92400e}.cue[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;background:linear-gradient(135deg,#dbeafe,#bfdbfe);border-radius:12px;margin-bottom:20px;font-size:13px;font-weight:600;color:#1e40af}.never-miss-twice[_ngcontent-%COMP%]{padding:16px;background:linear-gradient(135deg,#fef2f2,#fee2e2);border-radius:12px;border-left:4px solid #ef4444;margin-bottom:20px}.warning-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#991b1b;margin-bottom:6px}.warning-text[_ngcontent-%COMP%]{font-size:12px;color:#7f1d1d;line-height:1.5}"]})}}return e})();function vK(e,t){if(1&e){const n=_t();g(0,"app-habit-card-modern",6),V("complete",function(){const o=Be(n).$implicit;return je(k().onComplete(o.id))}),m()}if(2&e){const n=t.$implicit,r=k();A("habit",n)("state",r.getHabitState(n.id))("weeklyConsistency",r.getWeeklyConsistency(n.id))("habitService",r.habitService)}}function CK(e,t){if(1&e){const n=_t();g(0,"div",7)(1,"div",8),_(2,"\u2728"),m(),g(3,"h2"),_(4,"Start Your Journey"),m(),g(5,"p",9),_(6,"No habits for today. Build better habits, one day at a time."),m(),g(7,"button",10),V("click",function(){return Be(n),je(k().createHabit())}),$f(),g(8,"svg",11),$e(9,"line",12)(10,"line",13),m(),_(11," Create Your First Habit "),m()()}}let bK=(()=>{class e{constructor(n,r){this.habitService=n,this.router=r,this.today=Un(new Date),this.todayHabits=hr(()=>{const i=this.today().getDay();return this.habitService.allHabits().filter(o=>"daily"===o.frequency||Array.isArray(o.frequency)&&o.frequency.includes(i))})}createHabit(){this.router.navigate(["/create"])}getHabitState(n){return this.habitService.getHabitState(n,this.formatDate(this.today()))}getWeeklyConsistency(n){return this.habitService.getWeeklyConsistency(n,this.today())}getNote(n){return this.habitService.allLogs().find(i=>i.habitId===n&&i.date===this.formatDate(this.today()))?.note||""}onComplete(n){this.habitService.logHabit(n,this.formatDate(this.today()),!0)}onNoteChange(n,r){const i=this.getHabitState(n);this.habitService.logHabit(n,this.formatDate(this.today()),"done"===i,r)}onMilestoneAdd(n,r){const i=this.formatDate(this.today()),o=this.habitService.allLogs().find(s=>s.habitId===n&&s.date===i);this.habitService.logHabit(n,i,!0,o?.note,r)}formatDate(n){return n.toISOString().split("T")[0]}static{this.\u0275fac=function(r){return new(r||e)(E(Vr),E(At))}}static{this.\u0275cmp=it({type:e,selectors:[["app-daily-view"]],standalone:!0,features:[ut],decls:10,vars:6,consts:[[1,"daily-view"],[1,"header"],[1,"date"],[1,"habits-list"],[3,"habit","state","weeklyConsistency","habitService","complete",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[3,"habit","state","weeklyConsistency","habitService","complete"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-text"],[1,"create-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header",1)(2,"h1"),_(3,"Today"),m(),g(4,"p",2),_(5),Ga(6,"date"),m()(),g(7,"div",3),j(8,vK,1,4,"app-habit-card-modern",4),j(9,CK,12,0,"div",5),m()()),2&r&&(b(5),K(Og(6,3,i.today(),"EEEE, MMMM d")),b(3),A("ngForOf",i.todayHabits()),b(1),A("ngIf",0===i.todayHabits().length))},dependencies:[Ht,Sn,Kn,wm,yK],styles:[".daily-view[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}.header[_ngcontent-%COMP%]{margin-bottom:32px}h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#111827;margin:0 0 4px}.date[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin:0}.habits-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:white;border-radius:20px;box-shadow:0 2px 8px #00000014}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#111827;margin:0 0 12px}.empty-text[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin:0 0 32px}.create-btn[_ngcontent-%COMP%]{padding:14px 28px;background:#6366f1;color:#fff;border:none;border-radius:12px;font-size:16px;font-weight:600;display:inline-flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s;box-shadow:0 4px 12px #6366f14d}.create-btn[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:translateY(-2px);box-shadow:0 6px 16px #6366f166}"]})}}return e})(),pP=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(E(mr),E(Zt))}}static{this.\u0275dir=B({type:e})}}return e})(),oo=(()=>{class e extends pP{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=lt(e)))(i||e)}}()}static{this.\u0275dir=B({type:e,features:[fe]})}}return e})();const or=new P("NgValueAccessor"),IK={provide:or,useExisting:Ce(()=>Ur),multi:!0},SK=new P("CompositionEventMode");let Ur=(()=>{class e extends pP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DK(){const e=ei()?ei().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(E(mr),E(Zt),E(SK,8))}}static{this.\u0275dir=B({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&V("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Pe([IK]),fe]})}}return e})();const Ct=new P("NgValidators"),vi=new P("NgAsyncValidators");function vP(e){return function yi(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}(e.value)?{required:!0}:null}function Vh(e){return null}function DP(e){return null!=e}function SP(e){return Fa(e)?ft(e):e}function TP(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function MP(e,t){return t.map(n=>n(e))}function AP(e){return e.map(t=>function MK(e){return!e.validate}(t)?t:n=>t.validate(n))}function KC(e){return null!=e?function xP(e){if(!e)return null;const t=e.filter(DP);return 0==t.length?null:function(n){return TP(MP(n,t))}}(AP(e)):null}function QC(e){return null!=e?function RP(e){if(!e)return null;const t=e.filter(DP);return 0==t.length?null:function(n){return function wK(...e){const t=Vb(e),{args:n,keys:r}=CM(e),i=new We(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Wt(n[u]).subscribe(qe(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?wM(r,a):a),o.complete())}))}});return t?i.pipe(bM(t)):i}(MP(n,t).map(SP)).pipe(_e(TP))}}(AP(e)):null}function PP(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ZC(e){return e?Array.isArray(e)?e:[e]:[]}function Uh(e,t){return Array.isArray(e)?e.includes(t):e===t}function kP(e,t){const n=ZC(t);return ZC(e).forEach(i=>{Uh(n,i)||n.push(i)}),n}function FP(e,t){return ZC(t).filter(n=>!Uh(e,n))}class LP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=QC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Pt extends LP{get formDirective(){return null}get path(){return null}}class Ci extends LP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VP{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let so=(()=>{class e extends VP{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(E(Ci,2))}}static{this.\u0275dir=B({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Wn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]})}}return e})(),UP=(()=>{class e extends VP{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(E(Pt,10))}}static{this.\u0275dir=B({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Wn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[fe]})}}return e})();const fl="VALID",Bh="INVALID",js="PENDING",pl="DISABLED";function eb(e){return(jh(e)?e.validators:e)||null}function tb(e,t){return(jh(t)?t.asyncValidators:e)||null}function jh(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class nb{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===fl}get invalid(){return this.status===Bh}get pending(){return this.status==js}get disabled(){return this.status===pl}get enabled(){return this.status!==pl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(kP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FP(t,this._rawAsyncValidators))}hasValidator(t){return Uh(this._rawValidators,t)}hasAsyncValidator(t){return Uh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=js,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=pl,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=fl,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fl||this.status===js)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pl:fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=js,this._hasOwnPendingAsyncValidator=!0;const n=SP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?pl:this.errors?Bh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(js)?js:this._anyControlsHaveStatus(Bh)?Bh:fl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function PK(e){return Array.isArray(e)?KC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function NK(e){return Array.isArray(e)?QC(e):e||null}(this._rawAsyncValidators)}}class rb extends nb{constructor(t,n,r){super(eb(n),tb(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function jP(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function BP(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const $s=new P("CallSetDisabledState",{providedIn:"root",factory:()=>$h}),$h="always";function gl(e,t,n=$h){ib(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function FK(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&$P(e,t)})}(e,t),function VK(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function LK(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&$P(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function kK(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Wh(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function ib(e,t){const n=function NP(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(PP(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function OP(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(PP(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Wh(t._rawValidators,i),Wh(t._rawAsyncValidators,i)}function $P(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const $K={provide:Pt,useExisting:Ce(()=>Yh)},ml=(()=>Promise.resolve())();let Yh=(()=>{class e extends Pt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ke,this.form=new rb({},KC(n),QC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ml.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),gl(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ml.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ml.then(()=>{const r=this._findContainer(n.path),i=new rb({});(function GP(e,t){ib(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ml.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ml.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function zP(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||e)(E(Ct,10),E(vi,10),E($s,8))}}static{this.\u0275dir=B({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&V("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pe([$K]),fe]})}}return e})();function WP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function qP(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const YP=class extends nb{constructor(t=null,n,r){super(eb(n),tb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=qP(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){WP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){WP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){qP(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},WK={provide:Ci,useExisting:Ce(()=>bi)},ZP=(()=>Promise.resolve())();let bi=(()=>{class e extends Ci{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new YP,this._registered=!1,this.name="",this.update=new ke,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ab(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Ur?n=o:function BK(e){return Object.getPrototypeOf(e.constructor)===oo}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function sb(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){ZP.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&ss(r);ZP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Gh(e,t){return[...t.path,e]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(E(Pt,9),E(Ct,10),E(vi,10),E(or,10),E(Yu,8),E($s,8))}}static{this.\u0275dir=B({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pe([WK]),fe,an]})}}return e})(),JP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=B({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),eN=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=uo({type:e})}static{this.\u0275inj=Di({})}}return e})();const nQ={provide:or,useExisting:Ce(()=>_l),multi:!0};function aN(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let _l=(()=>{class e extends oo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=aN(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function rQ(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=lt(e)))(i||e)}}()}static{this.\u0275dir=B({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&V("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([nQ]),fe]})}}return e})(),db=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(aN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(E(Zt),E(mr),E(_l,9))}}static{this.\u0275dir=B({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const iQ={provide:or,useExisting:Ce(()=>hb),multi:!0};function cN(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let hb=(()=>{class e extends oo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function oQ(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=lt(e)))(i||e)}}()}static{this.\u0275dir=B({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&V("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([iQ]),fe]})}}return e})(),fb=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(cN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(cN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(E(Zt),E(mr),E(hb,9))}}static{this.\u0275dir=B({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),ao=(()=>{class e{constructor(){this._validator=Vh}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=B({type:e,features:[an]})}}return e})();const cQ={provide:Ct,useExisting:Ce(()=>Kh),multi:!0};let Kh=(()=>{class e extends ao{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ss,this.createValidator=n=>vP}enabled(n){return n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=lt(e)))(i||e)}}()}static{this.\u0275dir=B({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&zn("required",i._enabled?"":null)},inputs:{required:"required"},features:[Pe([cQ]),fe]})}}return e})(),pQ=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=uo({type:e})}static{this.\u0275inj=Di({imports:[eN]})}}return e})(),Gs=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:$s,useValue:n.callSetDisabledState??$h}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=uo({type:e})}static{this.\u0275inj=Di({imports:[pQ]})}}return e})();const mQ=["*"];let pb=(()=>{class e{constructor(){this.variant="primary",this.disabled=!1,this.type="button"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=it({type:e,selectors:[["app-button"]],inputs:{variant:"variant",disabled:"disabled",type:"type"},standalone:!0,features:[ut],ngContentSelectors:mQ,decls:2,vars:4,consts:[[3,"disabled","type"]],template:function(r,i){1&r&&(mg(),g(0,"button",0),_g(1),m()),2&r&&(oS("btn "+i.variant),A("disabled",i.disabled)("type",i.type))},dependencies:[Ht],styles:[".btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;border:none;font-size:16px;font-weight:500;cursor:pointer;transition:all .2s ease}.primary[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#4f46e5}.secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e5e7eb}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"]})}}return e})();const _Q=["*"];let co=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=it({type:e,selectors:[["app-card"]],standalone:!0,features:[ut],ngContentSelectors:_Q,decls:2,vars:0,consts:[[1,"card"]],template:function(r,i){1&r&&(mg(),g(0,"div",0),_g(1),m())},styles:[".card[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:20px;box-shadow:0 1px 3px #0000001a}"]})}}return e})();function yQ(e,t){1&e&&$e(0,"option",28),2&e&&A("value",t.$implicit)}function vQ(e,t){1&e&&$e(0,"option",28),2&e&&A("value",t.$implicit)}function CQ(e,t){if(1&e){const n=_t();g(0,"label",31)(1,"input",32),V("change",function(){const o=Be(n).index;return je(k(2).toggleDay(o))}),m(),_(2),m()}if(2&e){const n=t.$implicit,r=t.index,i=k(2);b(1),A("checked",i.selectedDays().includes(r)),b(1),Ee(" ",n," ")}}function bQ(e,t){if(1&e&&(g(0,"div",3)(1,"label"),_(2,"Select days"),m(),g(3,"div",29),j(4,CQ,3,2,"label",30),m()()),2&e){const n=k();b(4),A("ngForOf",n.days)}}function wQ(e,t){if(1&e){const n=_t();g(0,"button",33),V("click",function(){const o=Be(n).$implicit;return je(k().form.color=o)}),m()}if(2&e){const n=t.$implicit,r=k();Jr("background",n),Wn("selected",r.form.color===n)}}let EQ=(()=>{class e{constructor(n,r){this.habitService=n,this.router=r,this.form={name:"",identity:"",when:"",time:"",where:"",cue:"",twoMinuteRule:"",frequency:"daily",color:"#6366f1",difficulty:"tiny",contractCommitment:"",accountabilityPartner:""},this.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.selectedDays=Un([]),this.uniqueTriggers=hr(()=>{const i=this.habitService.allHabits().map(o=>o.trigger.when);return[...new Set(i)].filter(o=>o)}),this.uniqueIdentities=hr(()=>{const i=this.habitService.allHabits().map(o=>o.identity);return[...new Set(i)].filter(o=>o)}),this.colors=["#6366f1","#ec4899","#10b981","#f59e0b","#8b5cf6","#06b6d4"]}toggleDay(n){const r=this.selectedDays();r.includes(n)?this.selectedDays.set(r.filter(i=>i!==n)):this.selectedDays.set([...r,n].sort())}onSubmit(){const n={id:self.crypto.randomUUID(),name:this.form.name,identity:this.form.identity,trigger:{when:this.form.when,where:this.form.where},time:this.form.time,cue:this.form.cue,reward:"",twoMinuteRule:this.form.twoMinuteRule||void 0,frequency:"daily"===this.form.frequency?"daily":this.selectedDays(),color:this.form.color,createdAt:new Date,difficulty:this.form.difficulty};this.habitService.addHabit(n),this.router.navigate(["/"])}static{this.\u0275fac=function(r){return new(r||e)(E(Vr),E(At))}}static{this.\u0275cmp=it({type:e,selectors:[["app-habit-creation"]],standalone:!0,features:[ut],decls:72,vars:13,consts:[[1,"creation-flow"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","name","placeholder","e.g., Drink a glass of water","required","",3,"ngModel","ngModelChange"],["type","text","name","identity","list","identityList","placeholder","e.g., a healthy person","required","",3,"ngModel","ngModelChange"],["id","identityList"],[3,"value",4,"ngFor","ngForOf"],[1,"form-row"],["type","text","name","when","list","whenList","placeholder","e.g., After I wake up","required","",3,"ngModel","ngModelChange"],["id","whenList"],["type","time","name","time","required","",3,"ngModel","ngModelChange"],["type","text","name","where","placeholder","In the kitchen","required","",3,"ngModel","ngModelChange"],["type","text","name","cue","placeholder","Water bottle on counter","required","",3,"ngModel","ngModelChange"],["type","text","name","twoMinuteRule","placeholder","e.g., Just put on my running shoes",3,"ngModel","ngModelChange"],[1,"hint"],["name","frequency",3,"ngModel","ngModelChange"],["value","daily"],["value","custom"],["class","form-group",4,"ngIf"],[1,"color-picker"],["type","button","class","color-option",3,"selected","background","click",4,"ngFor","ngForOf"],["name","difficulty",3,"ngModel","ngModelChange"],["value","tiny"],["value","easy"],["value","moderate"],[1,"actions"],["type","submit","variant","primary"],[3,"value"],[1,"days-selector"],["class","day-checkbox",4,"ngFor","ngForOf"],[1,"day-checkbox"],["type","checkbox",3,"checked","change"],["type","button",1,"color-option",3,"click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Create a New Habit"),m(),g(4,"p",1),_(5,"Small actions, big identity shifts"),m()(),g(6,"app-card")(7,"form",2),V("ngSubmit",function(){return i.onSubmit()}),g(8,"div",3)(9,"label"),_(10,"What will you do?"),m(),g(11,"input",4),V("ngModelChange",function(s){return i.form.name=s}),m()(),g(12,"div",3)(13,"label"),_(14,"Who does this make you?"),m(),g(15,"input",5),V("ngModelChange",function(s){return i.form.identity=s}),m(),g(16,"datalist",6),j(17,yQ,1,1,"option",7),m()(),g(18,"div",8)(19,"div",3)(20,"label"),_(21,"When?"),m(),g(22,"input",9),V("ngModelChange",function(s){return i.form.when=s}),m(),g(23,"datalist",10),j(24,vQ,1,1,"option",7),m()(),g(25,"div",3)(26,"label"),_(27,"Time"),m(),g(28,"input",11),V("ngModelChange",function(s){return i.form.time=s}),m()()(),g(29,"div",3)(30,"label"),_(31,"Where?"),m(),g(32,"input",12),V("ngModelChange",function(s){return i.form.where=s}),m()(),g(33,"div",3)(34,"label"),_(35,"What's your cue?"),m(),g(36,"input",13),V("ngModelChange",function(s){return i.form.cue=s}),m()(),g(37,"div",3)(38,"label"),_(39,"2-Minute Rule (optional)"),m(),g(40,"input",14),V("ngModelChange",function(s){return i.form.twoMinuteRule=s}),m(),g(41,"p",15),_(42,"Start with the smallest version of your habit"),m()(),g(43,"div",3)(44,"label"),_(45,"Frequency"),m(),g(46,"select",16),V("ngModelChange",function(s){return i.form.frequency=s}),g(47,"option",17),_(48,"Every day"),m(),g(49,"option",18),_(50,"Custom days"),m()()(),j(51,bQ,5,1,"div",19),g(52,"div",3)(53,"label"),_(54,"Choose a color"),m(),g(55,"div",20),j(56,wQ,1,4,"button",21),m()(),g(57,"div",3)(58,"label"),_(59,"How hard is this habit?"),m(),g(60,"select",22),V("ngModelChange",function(s){return i.form.difficulty=s}),g(61,"option",23),_(62,"Tiny (2 min or less)"),m(),g(63,"option",24),_(64,"Easy (5-10 min)"),m(),g(65,"option",25),_(66,"Moderate (15+ min)"),m()(),g(67,"p",15),_(68,"Start tiny. You can always do more."),m()(),g(69,"div",26)(70,"app-button",27),_(71," Create Habit "),m()()()()()),2&r&&(b(11),A("ngModel",i.form.name),b(4),A("ngModel",i.form.identity),b(2),A("ngForOf",i.uniqueIdentities()),b(5),A("ngModel",i.form.when),b(2),A("ngForOf",i.uniqueTriggers()),b(4),A("ngModel",i.form.time),b(4),A("ngModel",i.form.where),b(4),A("ngModel",i.form.cue),b(4),A("ngModel",i.form.twoMinuteRule),b(6),A("ngModel",i.form.frequency),b(5),A("ngIf","custom"===i.form.frequency),b(5),A("ngForOf",i.colors),b(4),A("ngModel",i.form.difficulty))},dependencies:[Ht,Sn,Kn,Gs,JP,db,fb,Ur,_l,so,UP,Kh,bi,Yh,pb,co],styles:[".creation-flow[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:24px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#374151;margin-bottom:6px}input[type=text][_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #d1d5db;border-radius:6px;font-size:15px}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#6366f1}.days-selector[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.day-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:14px;cursor:pointer}.color-picker[_ngcontent-%COMP%]{display:flex;gap:12px}.color-option[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:3px solid transparent;cursor:pointer;transition:transform .2s}.color-option[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.color-option.selected[_ngcontent-%COMP%]{border-color:#111827}.actions[_ngcontent-%COMP%]{margin-top:32px}.milestone-section[_ngcontent-%COMP%]{padding-top:20px;border-top:1px solid #e5e7eb}.milestone-section[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.milestone-section[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}.milestone-inputs[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:#f9fafb;border-radius:6px}.hint[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;margin:4px 0 0;font-style:italic}.contract-section[_ngcontent-%COMP%]{padding-top:20px;border-top:1px solid #e5e7eb}.contract-section[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.contract-section[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}.contract-inputs[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:#fef2f2;border-radius:6px;border-left:3px solid #ef4444}"]})}}return e})();function IQ(e,t){if(1&e){const n=_t();g(0,"button",6),V("click",function(){const o=Be(n).$implicit;return je(k().activeLevel.set(o))}),_(1),Ga(2,"titlecase"),m()}if(2&e){const n=t.$implicit;Wn("active",k().activeLevel()===n),b(1),Ee(" ",Ng(2,3,n)," ")}}function DQ(e,t){if(1&e&&(g(0,"app-card")(1,"h3"),_(2),m(),g(3,"div",8)(4,"span",9),_(5,"Consistency"),m(),g(6,"span",10),_(7),m()(),g(8,"div",8)(9,"span",9),_(10,"Active days"),m(),g(11,"span",10),_(12),m()(),g(13,"div",8)(14,"span",9),_(15,"Trend"),m(),g(16,"span",11),_(17),m()()()),2&e){const n=t.$implicit,r=k(2);b(2),K(n.name),b(5),Ee("",r.getMonthlyConsistency(n.id),"%"),b(5),K(r.getActiveDays(n.id)),b(5),K(r.getTrend(n.id))}}function SQ(e,t){if(1&e&&(g(0,"div"),j(1,DQ,18,4,"app-card",7),m()),2&e){const n=k();b(1),A("ngForOf",n.habits())}}function TQ(e,t){if(1&e&&(g(0,"div")(1,"app-card")(2,"h3"),_(3,"3-Month Overview"),m(),g(4,"div",8)(5,"span",9),_(6,"Habits maintained"),m(),g(7,"span",10),_(8),m()(),g(9,"div",8)(10,"span",9),_(11,"Average consistency"),m(),g(12,"span",10),_(13),m()(),g(14,"p",12),_(15," You're building sustainable systems. Keep showing up. "),m()()()),2&e){const n=k();b(8),K(n.habits().length),b(5),Ee("",n.getQuarterlyAverage(),"%")}}function MQ(e,t){if(1&e&&(g(0,"div")(1,"app-card")(2,"h3"),_(3,"Year in Review"),m(),g(4,"div",8)(5,"span",9),_(6,"Total days showed up"),m(),g(7,"span",10),_(8),m()(),g(9,"div",8)(10,"span",9),_(11,"Strongest habit"),m(),g(12,"span",10),_(13),m()(),g(14,"p",13),_(15," This year, you became someone who shows up consistently. Every action reinforced your identity. "),m()()()),2&e){const n=k();b(8),K(n.getYearlyTotal()),b(5),K(n.getStrongestHabit())}}let AQ=(()=>{class e{constructor(n){this.habitService=n,this.activeLevel=Un("monthly"),this.levels=["monthly","quarterly","yearly"],this.habits=hr(()=>this.habitService.allHabits())}getMonthlyConsistency(n){const r=this.habitService.allLogs().filter(o=>o.habitId===n&&o.completed);return Math.round(r.length/30*100)}getActiveDays(n){return this.habitService.allLogs().filter(r=>r.habitId===n&&r.completed).length}getTrend(n){return"stable"}getQuarterlyAverage(){const n=this.habits();if(0===n.length)return 0;const r=n.reduce((i,o)=>i+this.getMonthlyConsistency(o.id),0);return Math.round(r/n.length)}getYearlyTotal(){return this.habitService.allLogs().filter(n=>n.completed).length}getStrongestHabit(){const n=this.habits();if(0===n.length)return"None yet";let r=n[0],i=this.getMonthlyConsistency(n[0].id);return n.forEach(o=>{const s=this.getMonthlyConsistency(o.id);s>i&&(i=s,r=o)}),r.name}static{this.\u0275fac=function(r){return new(r||e)(E(Vr))}}static{this.\u0275cmp=it({type:e,selectors:[["app-metrics"]],standalone:!0,features:[ut],decls:12,vars:4,consts:[[1,"metrics-view"],[1,"subtitle"],[1,"tabs"],[3,"active","click",4,"ngFor","ngForOf"],[1,"metrics-content"],[4,"ngIf"],[3,"click"],[4,"ngFor","ngForOf"],[1,"metric-row"],[1,"label"],[1,"value"],[1,"value","trend"],[1,"insight"],[1,"narrative"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Your Progress"),m(),g(4,"p",1),_(5,"Systems over goals"),m()(),g(6,"div",2),j(7,IQ,3,5,"button",3),m(),g(8,"div",4),j(9,SQ,2,1,"div",5),j(10,TQ,16,2,"div",5),j(11,MQ,16,2,"div",5),m()()),2&r&&(b(7),A("ngForOf",i.levels),b(2),A("ngIf","monthly"===i.activeLevel()),b(1),A("ngIf","quarterly"===i.activeLevel()),b(1),A("ngIf","yearly"===i.activeLevel()))},dependencies:[Ht,Sn,Kn,bm,co],styles:[".metrics-view[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:24px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.tabs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px;border-bottom:1px solid #e5e7eb}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 20px;background:none;border:none;border-bottom:2px solid transparent;color:#6b7280;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#6366f1;border-bottom-color:#6366f1}.metrics-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0 0 16px}.metric-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f3f4f6}.metric-row[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.label[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827}.trend[_ngcontent-%COMP%]{text-transform:capitalize}.insight[_ngcontent-%COMP%], .narrative[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #f3f4f6;font-size:14px;color:#6b7280;font-style:italic;line-height:1.6}"]})}}return e})();function xQ(e,t){if(1&e){const n=_t();g(0,"button",6),V("click",function(){const o=Be(n).$implicit;return je(k().activePeriod.set(o))}),_(1),Ga(2,"titlecase"),m()}if(2&e){const n=t.$implicit;Wn("active",k().activePeriod()===n),b(1),Ee(" ",Ng(2,3,n)," ")}}function RQ(e,t){if(1&e&&(g(0,"div",10)(1,"span",11),_(2),m(),g(3,"span",12),_(4),m()()),2&e){const n=t.$implicit,r=k(2);b(2),K(n.name),b(2),Ee("",r.getWeeklyProgress(n.id)," / 7")}}function PQ(e,t){if(1&e){const n=_t();g(0,"div")(1,"app-card")(2,"h3"),_(3,"This Week"),m(),j(4,RQ,5,2,"div",7),g(5,"div",8)(6,"label"),_(7,"What helped you show up this week?"),m(),g(8,"textarea",9),V("ngModelChange",function(i){return Be(n),je(k().weeklyReflection=i)}),m()()()()}if(2&e){const n=k();b(4),A("ngForOf",n.habits()),b(4),A("ngModel",n.weeklyReflection)}}function NQ(e,t){if(1&e){const n=_t();g(0,"div")(1,"app-card")(2,"h3"),_(3,"This Month"),m(),g(4,"p",13),_(5),m(),g(6,"div",8)(7,"label"),_(8,"What can you simplify next month?"),m(),g(9,"textarea",9),V("ngModelChange",function(i){return Be(n),je(k().monthlyReflection=i)}),m()()()()}if(2&e){const n=k();b(5),Ee(" You showed up ",n.getMonthlyTotal()," times this month. "),b(4),A("ngModel",n.monthlyReflection)}}function OQ(e,t){if(1&e){const n=_t();g(0,"div")(1,"app-card")(2,"h3"),_(3,"Past 3 Months"),m(),g(4,"p",13),_(5," You've been building your identity through consistent action. "),m(),g(6,"div",8)(7,"label"),_(8,"Which identity did you live into the most?"),m(),g(9,"textarea",9),V("ngModelChange",function(i){return Be(n),je(k().quarterlyReflection=i)}),m()()()()}if(2&e){const n=k();b(9),A("ngModel",n.quarterlyReflection)}}function kQ(e,t){if(1&e){const n=_t();g(0,"div")(1,"app-card")(2,"h3"),_(3,"This Year"),m(),g(4,"p",14),_(5),m(),g(6,"div",8)(7,"label"),_(8,"How have you grown this year?"),m(),g(9,"textarea",15),V("ngModelChange",function(i){return Be(n),je(k().yearlyReflection=i)}),m()()()()}if(2&e){const n=k();b(5),Ee(" This year, you showed up ",n.getYearlyTotal()," times. You proved to yourself that you are someone who follows through. Every small action reinforced your identity. "),b(4),A("ngModel",n.yearlyReflection)}}let FQ=(()=>{class e{constructor(n){this.habitService=n,this.activePeriod=Un("weekly"),this.periods=["weekly","monthly","quarterly","yearly"],this.weeklyReflection="",this.monthlyReflection="",this.quarterlyReflection="",this.yearlyReflection="",this.habits=()=>this.habitService.allHabits()}getWeeklyProgress(n){const r=new Date,{completed:i}=this.habitService.getWeeklyConsistency(n,r);return i}getMonthlyTotal(){return this.habitService.allLogs().filter(n=>n.completed).length}getYearlyTotal(){return this.habitService.allLogs().filter(n=>n.completed).length}static{this.\u0275fac=function(r){return new(r||e)(E(Vr))}}static{this.\u0275cmp=it({type:e,selectors:[["app-review"]],standalone:!0,features:[ut],decls:13,vars:5,consts:[[1,"review-view"],[1,"subtitle"],[1,"tabs"],[3,"active","click",4,"ngFor","ngForOf"],[1,"review-content"],[4,"ngIf"],[3,"click"],["class","habit-summary",4,"ngFor","ngForOf"],[1,"reflection-prompt"],["placeholder","Your thoughts...","rows","4",3,"ngModel","ngModelChange"],[1,"habit-summary"],[1,"habit-name"],[1,"progress"],[1,"insight"],[1,"narrative"],["placeholder","Your thoughts...","rows","6",3,"ngModel","ngModelChange"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Reflection"),m(),g(4,"p",1),_(5,"Learn from your journey"),m()(),g(6,"div",2),j(7,xQ,3,5,"button",3),m(),g(8,"div",4),j(9,PQ,9,2,"div",5),j(10,NQ,10,2,"div",5),j(11,OQ,10,1,"div",5),j(12,kQ,10,2,"div",5),m()()),2&r&&(b(7),A("ngForOf",i.periods),b(2),A("ngIf","weekly"===i.activePeriod()),b(1),A("ngIf","monthly"===i.activePeriod()),b(1),A("ngIf","quarterly"===i.activePeriod()),b(1),A("ngIf","yearly"===i.activePeriod()))},dependencies:[Ht,Sn,Kn,bm,Gs,Ur,so,bi,co],styles:[".review-view[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:24px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.tabs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px;border-bottom:1px solid #e5e7eb}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 16px;background:none;border:none;border-bottom:2px solid transparent;color:#6b7280;font-size:14px;font-weight:500;cursor:pointer}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#6366f1;border-bottom-color:#6366f1}h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#111827;margin:0 0 16px}.habit-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid #f3f4f6}.habit-name[_ngcontent-%COMP%]{font-size:15px;color:#374151}.progress[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#111827}.insight[_ngcontent-%COMP%], .narrative[_ngcontent-%COMP%]{font-size:15px;color:#6b7280;line-height:1.6;margin-bottom:20px}.reflection-prompt[_ngcontent-%COMP%]{margin-top:24px;padding-top:24px;border-top:1px solid #f3f4f6}.reflection-prompt[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:15px;font-weight:500;color:#374151;margin-bottom:8px}textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #e5e7eb;border-radius:6px;font-size:14px;font-family:inherit;resize:vertical}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#6366f1}"]})}}return e})();function LQ(e,t){if(1&e&&(g(0,"app-card")(1,"div",5)(2,"h3"),_(3),m(),g(4,"div",6)(5,"div",7)(6,"span",8),_(7),m(),g(8,"span",9),_(9,"habits"),m()(),g(10,"div",7)(11,"span",8),_(12),m(),g(13,"span",9),_(14,"this month"),m()(),g(15,"div",7)(16,"span",8),_(17),m(),g(18,"span",9),_(19,"this year"),m()()(),g(20,"p",10),_(21),m(),g(22,"div",11)(23,"small"),_(24),m()()()()),2&e){const n=t.$implicit;b(3),K(n.name),b(4),K(n.habitCount),b(5),K(n.actionsThisMonth),b(5),K(n.actionsThisYear),b(4),Ee(' Every action reinforces: "I am ',n.name,'" '),b(3),Ee("\u{1f5f3}\ufe0f ",n.actionsThisYear," votes for this identity")}}function VQ(e,t){1&e&&(g(0,"div",12)(1,"p"),_(2,"No identities yet."),m(),g(3,"p",13),_(4,"Create habits to start building your identity."),m()())}let UQ=(()=>{class e{constructor(n){this.habitService=n,this.identities=hr(()=>{const r=this.habitService.allHabits(),i=this.habitService.allLogs(),o=new Map;return r.forEach(s=>{const a=s.identity.toLowerCase();o.has(a)||o.set(a,{name:a,habitCount:0,actionsThisMonth:0,actionsThisYear:0});const c=o.get(a);c.habitCount++;const l=i.filter(u=>u.habitId===s.id&&u.completed);c.actionsThisMonth+=l.length,c.actionsThisYear+=l.length}),Array.from(o.values())})}static{this.\u0275fac=function(r){return new(r||e)(E(Vr))}}static{this.\u0275cmp=it({type:e,selectors:[["app-identity-dashboard"]],standalone:!0,features:[ut],decls:9,vars:2,consts:[[1,"identity-view"],[1,"subtitle"],[1,"identities-list"],[4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"identity-card"],[1,"stat-row"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"identity-message"],[1,"identity-votes"],[1,"empty-state"],[1,"hint"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Your Identities"),m(),g(4,"p",1),_(5,"You are what you repeatedly do"),m()(),g(6,"div",2),j(7,LQ,25,6,"app-card",3),j(8,VQ,5,0,"div",4),m()()),2&r&&(b(7),A("ngForOf",i.identities()),b(1),A("ngIf",0===i.identities().length))},dependencies:[Ht,Sn,Kn,co],styles:[".identity-view[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:32px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.identities-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.identity-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#111827;margin:0 0 20px;text-transform:capitalize}.stat-row[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:20px}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#6366f1}.stat-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.identity-message[_ngcontent-%COMP%]{padding-top:16px;border-top:1px solid #f3f4f6;font-size:14px;color:#6b7280;font-style:italic;margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 20px;color:#6b7280}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.hint[_ngcontent-%COMP%]{font-size:14px}.identity-votes[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid #f3f4f6;text-align:center}.identity-votes[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:13px;color:#6b7280}"]})}}return e})();function HQ(e,t){if(1&e){const n=_t();g(0,"app-card")(1,"div",11)(2,"div",12),$e(3,"div",13),g(4,"div")(5,"h3"),_(6),m(),g(7,"p",14),_(8),m()()(),g(9,"div",15)(10,"button",16),V("click",function(){const o=Be(n).$implicit;return je(k().toggleStatus(o.id))}),_(11),m()()()()}if(2&e){const n=t.$implicit,r=k();b(3),Jr("background",n.color),b(3),K(n.name),b(2),K(n.identity),b(2),Wn("done","done"===r.getStatus(n.id))("missed","missed"===r.getStatus(n.id)),b(1),Ee(" ",r.getStatusLabel(n.id)," ")}}function BQ(e,t){if(1&e&&$e(0,"div",23),2&e){const n=t.$implicit,r=k().$implicit,i=k();Jr("background",i.isDayCompleted(n.id,r.dateStr)?n.color:"#e5e7eb"),Wn("completed",i.isDayCompleted(n.id,r.dateStr)),A("title",n.name)}}function jQ(e,t){if(1&e&&(g(0,"div",17)(1,"div",18)(2,"div",19),_(3),m(),g(4,"div",20),_(5),m()(),g(6,"div",21),j(7,BQ,1,5,"div",22),m()()),2&e){const n=t.$implicit,r=k();b(3),K(n.name),b(2),K(n.date),b(2),A("ngForOf",r.habits())}}let $Q=(()=>{class e{constructor(n){this.habitService=n,this.selectedDate=this.formatDate(new Date),this.today=this.formatDate(new Date),this.habits=hr(()=>this.habitService.allHabits()),this.weekDays=hr(()=>{const r=[],i=new Date;for(let o=6;o>=0;o--){const s=new Date(i);s.setDate(s.getDate()-o),r.push({name:s.toLocaleDateString("en-US",{weekday:"short"}),date:s.getDate(),dateStr:this.formatDate(s)})}return r})}onDateChange(){}getStatus(n){return this.habitService.getHabitState(n,this.selectedDate)}getStatusLabel(n){const r=this.getStatus(n);return"done"===r?"\u2713 Done":"missed"===r?"Skipped":"Pending"}toggleStatus(n){const r=this.getStatus(n);this.habitService.logHabit(n,this.selectedDate,"pending"===r||"done"!==r)}checkInAll(){this.habits().forEach(n=>{this.habitService.logHabit(n.id,this.selectedDate,!0)})}isDayCompleted(n,r){return"done"===this.habitService.getHabitState(n,r)}formatDate(n){return n.toISOString().split("T")[0]}formatDisplayDate(){return new Date(this.selectedDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}static{this.\u0275fac=function(r){return new(r||e)(E(Vr))}}static{this.\u0275cmp=it({type:e,selectors:[["app-calendar"]],standalone:!0,features:[ut],decls:21,vars:5,consts:[[1,"calendar-view"],[1,"subtitle"],[1,"date-selector"],["type","date",3,"ngModel","max","ngModelChange","change"],[1,"bulk-actions"],["variant","primary",3,"click"],[1,"habits-list"],[4,"ngFor","ngForOf"],[1,"week-view"],[1,"week-grid"],["class","day-column",4,"ngFor","ngForOf"],[1,"habit-item"],[1,"habit-info"],[1,"habit-color"],[1,"identity"],[1,"habit-actions"],[1,"status-btn",3,"click"],[1,"day-column"],[1,"day-header"],[1,"day-name"],[1,"day-date"],[1,"day-habits"],["class","habit-dot",3,"completed","background","title",4,"ngFor","ngForOf"],[1,"habit-dot",3,"title"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Check-in Calendar"),m(),g(4,"p",1),_(5,"Log past habits or bulk check-in"),m()(),g(6,"app-card")(7,"div",2)(8,"label"),_(9,"Select Date"),m(),g(10,"input",3),V("ngModelChange",function(s){return i.selectedDate=s})("change",function(){return i.onDateChange()}),m()(),g(11,"div",4)(12,"app-button",5),V("click",function(){return i.checkInAll()}),_(13),m()()(),g(14,"div",6),j(15,HQ,12,9,"app-card",7),m(),g(16,"div",8)(17,"h2"),_(18,"This Week Overview"),m(),g(19,"div",9),j(20,jQ,8,3,"div",10),m()()()),2&r&&(b(10),A("ngModel",i.selectedDate)("max",i.today),b(3),Ee(" \u2713 Check-in All for ",i.formatDisplayDate()," "),b(2),A("ngForOf",i.habits()),b(5),A("ngForOf",i.weekDays()))},dependencies:[Ht,Sn,Gs,Ur,so,bi,co,pb],styles:[".calendar-view[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:24px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.date-selector[_ngcontent-%COMP%]{margin-bottom:16px}.date-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#374151;margin-bottom:6px}input[type=date][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #d1d5db;border-radius:6px;font-size:15px}.bulk-actions[_ngcontent-%COMP%]{margin-top:16px}.habits-list[_ngcontent-%COMP%]{margin-top:24px;display:flex;flex-direction:column;gap:12px}.habit-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.habit-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.habit-color[_ngcontent-%COMP%]{width:4px;height:40px;border-radius:2px}h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0 0 4px}.identity[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;font-style:italic;margin:0}.status-btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #d1d5db;border-radius:6px;background:white;color:#6b7280;font-size:14px;cursor:pointer;transition:all .2s}.status-btn.done[_ngcontent-%COMP%]{background:#10b981;color:#fff;border-color:#10b981}.status-btn.missed[_ngcontent-%COMP%]{background:#f3f4f6;color:#9ca3af;border-color:#e5e7eb}.week-view[_ngcontent-%COMP%]{margin-top:32px}h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#111827;margin:0 0 16px}.week-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}.day-column[_ngcontent-%COMP%]{background:white;border-radius:8px;padding:12px 8px;box-shadow:0 1px 3px #0000001a}.day-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #f3f4f6}.day-name[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6b7280;text-transform:uppercase}.day-date[_ngcontent-%COMP%]{font-size:11px;color:#9ca3af;margin-top:2px}.day-habits[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.habit-dot[_ngcontent-%COMP%]{height:24px;border-radius:4px;transition:all .2s}.habit-dot.completed[_ngcontent-%COMP%]{opacity:1}@media (max-width: 640px){.week-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(7,1fr);gap:4px}.day-column[_ngcontent-%COMP%]{padding:8px 4px}.habit-dot[_ngcontent-%COMP%]{height:16px}}"]})}}return e})();function GQ(e,t){if(1&e&&(g(0,"app-card")(1,"div",3)(2,"div",4),_(3),m(),g(4,"div",5)(5,"h3"),_(6),m(),g(7,"p"),_(8),m(),g(9,"div",6)(10,"strong"),_(11,"Example:"),m(),_(12),m()()()()),2&e){const n=t.$implicit;b(3),K(n.icon),b(3),K(n.title),b(2),K(n.description),b(4),Ee(" ",n.example," ")}}let zQ=(()=>{class e{constructor(){this.tips=[{icon:"\u26a1",title:"The 2-Minute Rule",description:"When starting a new habit, it should take less than 2 minutes. Make it so easy you can't say no.",example:'Instead of "Read 30 pages," start with "Read 1 page." You can always do more, but the goal is to show up.'},{icon:"\u{1f517}",title:"Habit Stacking",description:'Link your new habit to an existing one. Use the formula: "After I [current habit], I will [new habit]."',example:"After I pour my morning coffee, I will write one sentence in my journal."},{icon:"\u{1f464}",title:"Identity-Based Habits",description:"Focus on who you want to become, not what you want to achieve. Every action is a vote for your identity.",example:'Don\'t say "I want to run a marathon." Say "I am a runner" and act accordingly.'},{icon:"\u{1f3af}",title:"Make It Obvious",description:"Design your environment to make good habits obvious. Use visual cues and implementation intentions.",example:"Put your workout clothes next to your bed so you see them first thing in the morning."},{icon:"\u2728",title:"Make It Attractive",description:"Pair habits you need to do with habits you want to do. Bundle temptation with action.",example:"Only listen to your favorite podcast while exercising."},{icon:"\u{1f680}",title:"Make It Easy",description:"Reduce friction for good habits. Increase friction for bad habits. Optimize your environment.",example:"Prep your gym bag the night before. Put your phone in another room to avoid distractions."},{icon:"\u{1f381}",title:"Make It Satisfying",description:"What is immediately rewarded is repeated. Give yourself an immediate reward after completing a habit.",example:'After meditating, check off your habit and say "I showed up today." Feel the satisfaction.'},{icon:"\u{1f4ca}",title:"Never Miss Twice",description:"Missing once is an accident. Missing twice is the start of a new habit. Get back on track quickly.",example:"If you miss your morning workout, do a 5-minute walk at lunch. Keep the identity alive."}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=it({type:e,selectors:[["app-tips"]],standalone:!0,features:[ut],decls:7,vars:1,consts:[[1,"tips-view"],[1,"subtitle"],[4,"ngFor","ngForOf"],[1,"tip"],[1,"tip-icon"],[1,"tip-content"],[1,"tip-example"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Atomic Habits Principles"),m(),g(4,"p",1),_(5,"Build better habits with proven strategies"),m()(),j(6,GQ,13,4,"app-card",2),m()),2&r&&(b(6),A("ngForOf",i.tips))},dependencies:[Ht,Sn,co],styles:[".tips-view[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:32px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}app-card[_ngcontent-%COMP%]{display:block;margin-bottom:16px}.tip[_ngcontent-%COMP%]{display:flex;gap:16px}.tip-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.tip-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0 0 8px}.tip-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#4b5563;line-height:1.6;margin:0 0 12px}.tip-example[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;background:#f9fafb;padding:12px;border-radius:6px;border-left:3px solid #6366f1}.tip-example[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#374151}"]})}}return e})();function WQ(e,t){if(1&e&&(g(0,"div",14)(1,"div",15)(2,"strong"),_(3),m(),$e(4,"br"),_(5," at "),g(6,"span",16),_(7),m(),$e(8,"br"),_(9," in "),g(10,"span",16),_(11),m(),$e(12,"br"),_(13),m(),g(14,"div",17),_(15),m()()),2&e){const n=t.$implicit;b(3),Ee("I will ",n.name,""),b(4),K(n.time),b(4),K(n.trigger.where),b(2),Ee(" ",n.trigger.when," "),b(2),Ee("Cue: ",n.cue,"")}}function qQ(e,t){if(1&e&&(g(0,"div",18),_(1),m()),2&e){const n=t.$implicit;b(1),Eg(" ",n.need," + ",n.want," ")}}let YQ=(()=>{class e{constructor(n){this.habitService=n,this.habits=()=>this.habitService.allHabits(),this.needHabit="",this.wantHabit="",this.bundles=Un([])}saveBundle(){this.needHabit&&this.wantHabit&&(this.bundles.set([...this.bundles(),{need:this.needHabit,want:this.wantHabit}]),this.needHabit="",this.wantHabit="")}static{this.\u0275fac=function(r){return new(r||e)(E(Vr))}}static{this.\u0275cmp=it({type:e,selectors:[["app-environment"]],standalone:!0,features:[ut],decls:45,vars:4,consts:[[1,"environment-view"],[1,"subtitle"],[1,"intention-list"],["class","intention-item",4,"ngFor","ngForOf"],[1,"bundle-creator"],["type","text","placeholder","Habit I need to do...",1,"bundle-input",3,"ngModel","ngModelChange"],[1,"bundle-with"],["type","text","placeholder","Habit I want to do...",1,"bundle-input",3,"ngModel","ngModelChange"],["variant","primary",3,"click"],[1,"bundles-list"],["class","bundle-item",4,"ngFor","ngForOf"],[1,"friction-list"],[1,"friction-item"],["type","checkbox"],[1,"intention-item"],[1,"intention-text"],[1,"highlight"],[1,"cue-badge"],[1,"bundle-item"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Environment Design"),m(),g(4,"p",1),_(5,"Make good habits obvious, bad habits invisible"),m()(),g(6,"app-card")(7,"h3"),_(8,"\u{1f3af} Implementation Intentions"),m(),g(9,"p"),_(10,"Your habits with clear triggers:"),m(),g(11,"div",2),j(12,WQ,16,5,"div",3),m()(),g(13,"app-card")(14,"h3"),_(15,"\u2728 Temptation Bundling"),m(),g(16,"p"),_(17,"Pair habits you need with habits you want:"),m(),g(18,"div",4)(19,"input",5),V("ngModelChange",function(s){return i.needHabit=s}),m(),g(20,"span",6),_(21,"+"),m(),g(22,"input",7),V("ngModelChange",function(s){return i.wantHabit=s}),m(),g(23,"app-button",8),V("click",function(){return i.saveBundle()}),_(24,"Save"),m()(),g(25,"div",9),j(26,qQ,2,2,"div",10),m()(),g(27,"app-card")(28,"h3"),_(29,"\u{1f680} Reduce Friction"),m(),g(30,"p"),_(31,"Checklist to make habits easier:"),m(),g(32,"div",11)(33,"label",12),$e(34,"input",13),_(35," Prep environment the night before "),m(),g(36,"label",12),$e(37,"input",13),_(38," Place visual cues in obvious locations "),m(),g(39,"label",12),$e(40,"input",13),_(41," Remove obstacles from your path "),m(),g(42,"label",12),$e(43,"input",13),_(44," Make bad habits difficult to access "),m()()()()),2&r&&(b(12),A("ngForOf",i.habits()),b(7),A("ngModel",i.needHabit),b(3),A("ngModel",i.wantHabit),b(4),A("ngForOf",i.bundles()))},dependencies:[Ht,Sn,Gs,Ur,so,bi,co,pb],styles:[".environment-view[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:24px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}app-card[_ngcontent-%COMP%]{display:block;margin-bottom:20px}h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0 0 12px}p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0 0 16px}.intention-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.intention-item[_ngcontent-%COMP%]{padding:12px;background:#f9fafb;border-radius:6px;border-left:3px solid #6366f1}.intention-text[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#374151;margin-bottom:8px}.highlight[_ngcontent-%COMP%]{color:#6366f1;font-weight:600}.cue-badge[_ngcontent-%COMP%]{display:inline-block;font-size:12px;padding:4px 8px;background:#eef2ff;color:#4f46e5;border-radius:4px}.bundle-creator[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;margin-bottom:16px;flex-wrap:wrap}.bundle-input[_ngcontent-%COMP%]{flex:1;min-width:150px;padding:8px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}.bundle-with[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#6b7280}.bundles-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.bundle-item[_ngcontent-%COMP%]{padding:10px;background:#fef3c7;border-radius:6px;font-size:14px;color:#92400e}.friction-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.friction-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#374151;cursor:pointer}.friction-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}"]})}}return e})();function KQ(e,t){if(1&e){const n=_t();g(0,"div",13)(1,"input",14),V("ngModelChange",function(i){return Be(n),je(k().startDate=i)})("change",function(){return Be(n),je(k().updateReport())}),m(),g(2,"input",14),V("ngModelChange",function(i){return Be(n),je(k().endDate=i)})("change",function(){return Be(n),je(k().updateReport())}),m()()}if(2&e){const n=k();b(1),A("ngModel",n.startDate),b(1),A("ngModel",n.endDate)}}function QQ(e,t){if(1&e&&(g(0,"th"),_(1),m()),2&e){const n=t.$implicit;b(1),K(n.name)}}function ZQ(e,t){if(1&e&&(g(0,"td",17)(1,"span",18),_(2),m()()),2&e){const n=t.$implicit,r=k().$implicit,i=k();b(1),Wn("voted",i.hasVote(n.id,r.dateStr)),b(1),Ee(" ",i.hasVote(n.id,r.dateStr)?"\u2713":"-"," ")}}function JQ(e,t){if(1&e&&(g(0,"tr")(1,"td",15),_(2),Ga(3,"date"),m(),j(4,ZQ,3,3,"td",16),g(5,"td",12),_(6),m()()),2&e){const n=t.$implicit,r=k();b(2),K(Og(3,3,n.date,"MMM d, y")),b(2),A("ngForOf",r.habits()),b(2),K(r.getDayTotal(n.dateStr))}}function XQ(e,t){if(1&e&&(g(0,"td",12)(1,"strong"),_(2),m()()),2&e){const n=t.$implicit,r=k();b(2),K(r.getHabitTotal(n.id))}}let eZ=(()=>{class e{constructor(n){this.habitService=n,this.habits=hr(()=>this.habitService.allHabits().sort((r,i)=>r.time.localeCompare(i.time))),this.filterType="month",this.startDate="",this.endDate="",this.reportDays=Un([]),this.updateReport()}updateReport(){const n=[];let r,i=new Date;"30days"===this.filterType?(r=new Date,r.setDate(r.getDate()-29)):"month"===this.filterType?r=new Date(i.getFullYear(),i.getMonth(),1):"year"===this.filterType?r=new Date(i.getFullYear(),0,1):"custom"===this.filterType&&this.startDate&&this.endDate?(r=new Date(this.startDate),i=new Date(this.endDate)):(r=new Date,r.setDate(r.getDate()-29));const o=new Date(r);for(;o<=i;)n.push({date:new Date(o),dateStr:o.toISOString().split("T")[0]}),o.setDate(o.getDate()+1);this.reportDays.set(n.reverse())}hasVote(n,r){return"done"===this.habitService.getHabitState(n,r)}getDayTotal(n){return this.habits().filter(r=>this.hasVote(r.id,n)).length}getHabitTotal(n){return this.habitService.allLogs().filter(r=>r.habitId===n&&r.completed).length}getGrandTotal(){return this.habitService.allLogs().filter(n=>n.completed).length}static{this.\u0275fac=function(r){return new(r||e)(E(Vr))}}static{this.\u0275cmp=it({type:e,selectors:[["app-report"]],standalone:!0,features:[ut],decls:37,vars:6,consts:[[1,"report"],[1,"subtitle"],[1,"filters"],[3,"ngModel","ngModelChange","change"],["value","30days"],["value","month"],["value","year"],["value","custom"],["class","date-inputs",4,"ngIf"],[1,"report-table"],[4,"ngFor","ngForOf"],["class","total-cell",4,"ngFor","ngForOf"],[1,"total-cell"],[1,"date-inputs"],["type","date",3,"ngModel","ngModelChange","change"],[1,"date-cell"],["class","vote-cell",4,"ngFor","ngForOf"],[1,"vote-cell"],[1,"vote"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Habit Report"),m(),g(4,"p",1),_(5,"Day-wise votes for all habits"),m()(),g(6,"div",2)(7,"select",3),V("ngModelChange",function(s){return i.filterType=s})("change",function(){return i.updateReport()}),g(8,"option",4),_(9,"Last 30 Days"),m(),g(10,"option",5),_(11,"This Month"),m(),g(12,"option",6),_(13,"This Year"),m(),g(14,"option",7),_(15,"Custom Range"),m()(),j(16,KQ,3,2,"div",8),m(),g(17,"div",9)(18,"table")(19,"thead")(20,"tr")(21,"th"),_(22,"Date"),m(),j(23,QQ,2,1,"th",10),g(24,"th"),_(25,"Total"),m()()(),g(26,"tbody"),j(27,JQ,7,6,"tr",10),m(),g(28,"tfoot")(29,"tr")(30,"td")(31,"strong"),_(32,"Total"),m()(),j(33,XQ,3,1,"td",11),g(34,"td",12)(35,"strong"),_(36),m()()()()()()()),2&r&&(b(7),A("ngModel",i.filterType),b(9),A("ngIf","custom"===i.filterType),b(7),A("ngForOf",i.habits()),b(4),A("ngForOf",i.reportDays()),b(6),A("ngForOf",i.habits()),b(3),K(i.getGrandTotal()))},dependencies:[Ht,Sn,Kn,wm,Gs,db,fb,Ur,_l,so,bi],styles:[".report[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:24px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.filters[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:20px;align-items:center}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .date-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}.date-inputs[_ngcontent-%COMP%]{display:flex;gap:8px}.report-table[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:20px;box-shadow:0 2px 8px #00000014;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{padding:12px;text-align:left;font-size:12px;font-weight:700;color:#6b7280;text-transform:uppercase;border-bottom:2px solid #e5e7eb}td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #f3f4f6}.date-cell[_ngcontent-%COMP%]{font-weight:600;color:#374151}.vote-cell[_ngcontent-%COMP%]{text-align:center}.vote[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;line-height:24px;text-align:center;border-radius:4px;color:#9ca3af}.vote.voted[_ngcontent-%COMP%]{background:#10b981;color:#fff;font-weight:700}.total-cell[_ngcontent-%COMP%]{text-align:center;font-weight:600;color:#6366f1}tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:2px solid #e5e7eb;border-bottom:none;padding-top:16px}"]})}}return e})();function tZ(e,t){if(1&e&&(g(0,"div",11)(1,"div",12)(2,"div",13),_(3),m(),g(4,"div",14),_(5),m()(),g(6,"div",15),$e(7,"div",16),m(),g(8,"div",17),_(9),m()()),2&e){const n=t.$implicit,r=k();b(3),K(n.name),b(2),Ee("",r.getHabitWeeklyVotes(n.id),"/7"),b(2),Jr("width",r.getHabitWeeklyVotes(n.id)/7*100,"%")("background",n.color),b(2),K(n.identity)}}function nZ(e,t){if(1&e){const n=_t();g(0,"div",18)(1,"h3"),_(2),m(),g(3,"div",19)(4,"label"),_(5,"What helped you show up this week?"),m(),g(6,"textarea",20),V("ngModelChange",function(i){const s=Be(n).$implicit;return je(k().reflections[s.id].whatHelped=i)}),m()(),g(7,"div",19)(8,"label"),_(9,"What obstacles did you face?"),m(),g(10,"textarea",20),V("ngModelChange",function(i){const s=Be(n).$implicit;return je(k().reflections[s.id].obstacles=i)}),m()(),g(11,"div",19)(12,"label"),_(13,"What will you adjust next week?"),m(),g(14,"textarea",20),V("ngModelChange",function(i){const s=Be(n).$implicit;return je(k().reflections[s.id].adjustments=i)}),m()()()}if(2&e){const n=t.$implicit,r=k();b(2),K(n.name),b(4),A("ngModel",r.reflections[n.id].whatHelped),b(4),A("ngModel",r.reflections[n.id].obstacles),b(4),A("ngModel",r.reflections[n.id].adjustments)}}let rZ=(()=>{class e{constructor(n,r){this.habitService=n,this.firebase=r,this.habits=hr(()=>this.habitService.allHabits()),this.reflections={},this.habits().forEach(i=>{this.reflections[i.id]={whatHelped:"",obstacles:"",adjustments:""}})}totalVotes(){return this.habits().reduce((n,r)=>n+this.getHabitWeeklyVotes(r.id),0)}consistencyRate(){const n=7*this.habits().length;return 0===n?0:Math.round(this.totalVotes()/n*100)}bestStreak(){let n=0;return this.habits().forEach(r=>{const i=this.getHabitWeeklyVotes(r.id);i>n&&(n=i)}),n}getHabitWeeklyVotes(n){let r=0;for(let i=0;i<7;i++){const o=new Date;o.setDate(o.getDate()-i);const s=o.toISOString().split("T")[0];"done"===this.habitService.getHabitState(n,s)&&r++}return r}saveReflection(){const n=(new Date).toISOString().split("T")[0];this.firebase.saveReflection(n,this.reflections),alert("Reflection saved!"),this.habits().forEach(r=>{this.reflections[r.id]={whatHelped:"",obstacles:"",adjustments:""}})}static{this.\u0275fac=function(r){return new(r||e)(E(Vr),E(hl))}}static{this.\u0275cmp=it({type:e,selectors:[["app-weekly-reflection"]],standalone:!0,features:[ut],decls:32,vars:5,consts:[[1,"reflection"],[1,"subtitle"],[1,"week-summary"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],[1,"habits-review"],["class","habit-review-card",4,"ngFor","ngForOf"],[1,"reflection-questions"],["class","habit-reflection",4,"ngFor","ngForOf"],[1,"save-btn",3,"click"],[1,"habit-review-card"],[1,"habit-header"],[1,"habit-name"],[1,"habit-score"],[1,"progress-bar"],[1,"progress-fill"],[1,"habit-identity"],[1,"habit-reflection"],[1,"question-card"],["rows","2","placeholder","Write your thoughts...",3,"ngModel","ngModelChange"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"header")(2,"h1"),_(3,"Weekly Reflection"),m(),g(4,"p",1),_(5,"Review your habits from the past week"),m()(),g(6,"div",2)(7,"div",3)(8,"div",4),_(9),m(),g(10,"div",5),_(11,"Total Votes"),m()(),g(12,"div",3)(13,"div",4),_(14),m(),g(15,"div",5),_(16,"Consistency"),m()(),g(17,"div",3)(18,"div",4),_(19),m(),g(20,"div",5),_(21,"Best Streak"),m()()(),g(22,"div",6)(23,"h2"),_(24,"Habit Performance"),m(),j(25,tZ,10,7,"div",7),m(),g(26,"div",8)(27,"h2"),_(28,"Reflection Questions"),m(),j(29,nZ,15,4,"div",9),g(30,"button",10),V("click",function(){return i.saveReflection()}),_(31,"Save Reflection"),m()()()),2&r&&(b(9),K(i.totalVotes()),b(5),Ee("",i.consistencyRate(),"%"),b(5),K(i.bestStreak()),b(6),A("ngForOf",i.habits()),b(4),A("ngForOf",i.habits()))},dependencies:[Ht,Sn,Gs,Ur,so,bi],styles:[".reflection[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}header[_ngcontent-%COMP%]{margin-bottom:32px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 4px}h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#111827;margin:0 0 16px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.week-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:32px}.stat-card[_ngcontent-%COMP%]{background:white;padding:24px;border-radius:12px;box-shadow:0 2px 8px #00000014;text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#6366f1;margin-bottom:8px}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.habits-review[_ngcontent-%COMP%]{background:white;padding:24px;border-radius:12px;box-shadow:0 2px 8px #00000014;margin-bottom:32px}.habit-review-card[_ngcontent-%COMP%]{padding:16px;background:#f9fafb;border-radius:8px;margin-bottom:12px}.habit-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.habit-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827}.habit-score[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#6366f1}.progress-bar[_ngcontent-%COMP%]{height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden;margin-bottom:8px}.progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s}.habit-identity[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-style:italic}.reflection-questions[_ngcontent-%COMP%]{background:white;padding:24px;border-radius:12px;box-shadow:0 2px 8px #00000014}.habit-reflection[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:32px;border-bottom:1px solid #e5e7eb}.habit-reflection[_ngcontent-%COMP%]:last-of-type{border-bottom:none}h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0 0 16px}.question-card[_ngcontent-%COMP%]{margin-bottom:24px}label[_ngcontent-%COMP%]{display:block;font-size:15px;font-weight:600;color:#374151;margin-bottom:8px}textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;font-family:inherit;resize:vertical;box-sizing:border-box}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#6366f1}.save-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:#6366f1;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}.save-btn[_ngcontent-%COMP%]:hover{background:#4f46e5}@media (max-width: 640px){.week-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return e})();function iZ(e,t){1&e&&($f(),g(0,"svg",8),$e(1,"path",9)(2,"path",10)(3,"path",11)(4,"path",12),m())}function oZ(e,t){1&e&&$e(0,"span",13)}function sZ(e,t){if(1&e&&(g(0,"p",14),_(1),m()),2&e){const n=k();b(1),K(n.error)}}const sr=()=>{const e=N(hl),t=N(At);return!!e.currentUser()||(t.navigate(["/login"]),!1)};(function S6(e,t){return j3({rootComponent:e,...pM(t)})})(dK,{providers:[function i5(e,...t){return Dp([{provide:Ad,multi:!0,useValue:e},[],{provide:fs,useFactory:EA,deps:[At]},{provide:em,multi:!0,useFactory:IA},t.map(n=>n.\u0275providers)])}([{path:"login",component:(()=>{class e{constructor(n,r){this.firebase=n,this.router=r,this.loading=!1,this.error=""}signIn(){var n=this;return v(function*(){n.loading=!0,n.error="";try{yield n.firebase.signInWithGoogle(),n.router.navigate(["/"])}catch(r){n.error=r.message||"Failed to sign in. Please try again.",n.loading=!1}})()}static{this.\u0275fac=function(r){return new(r||e)(E(hl),E(At))}}static{this.\u0275cmp=it({type:e,selectors:[["app-login"]],standalone:!0,features:[ut],decls:13,vars:5,consts:[[1,"login-container"],[1,"login-card"],[1,"logo"],[1,"subtitle"],[1,"google-btn",3,"disabled","click"],["width","18","height","18","viewBox","0 0 18 18",4,"ngIf"],["class","spinner",4,"ngIf"],["class","error",4,"ngIf"],["width","18","height","18","viewBox","0 0 18 18"],["fill","#4285F4","d","M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"],["fill","#34A853","d","M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z"],["fill","#FBBC05","d","M3.964 10.707c-.18-.54-.282-1.117-.282-1.707s.102-1.167.282-1.707V4.961H.957C.347 6.175 0 7.55 0 9s.348 2.825.957 4.039l3.007-2.332z"],["fill","#EA4335","d","M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.961L3.964 7.293C4.672 5.163 6.656 3.58 9 3.58z"],[1,"spinner"],[1,"error"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2),_(3,"\u2728"),m(),g(4,"h1"),_(5,"Atomic Habits Tracker"),m(),g(6,"p",3),_(7,"Build better habits, one day at a time"),m(),g(8,"button",4),V("click",function(){return i.signIn()}),j(9,iZ,5,0,"svg",5),j(10,oZ,1,0,"span",6),_(11),m(),j(12,sZ,2,1,"p",7),m()()),2&r&&(b(8),A("disabled",i.loading),b(1),A("ngIf",!i.loading),b(1),A("ngIf",i.loading),b(1),Ee(" ",i.loading?"Signing in...":"Sign in with Google"," "),b(1),A("ngIf",i.error))},dependencies:[Ht,Kn],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}.login-card[_ngcontent-%COMP%]{background:white;padding:48px;border-radius:20px;box-shadow:0 20px 60px #0000004d;text-align:center;max-width:400px;animation:_ngcontent-%COMP%_slideUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.logo[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#111827;margin:0 0 8px}.subtitle[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin:0 0 32px}.google-btn[_ngcontent-%COMP%]{width:100%;padding:14px 24px;background:white;border:2px solid #e5e7eb;border-radius:12px;font-size:16px;font-weight:600;color:#374151;display:flex;align-items:center;justify-content:center;gap:12px;cursor:pointer;transition:all .2s}.google-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#d1d5db;transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid #e5e7eb;border-top-color:#6366f1;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#fee;color:#c00;border-radius:8px;font-size:14px}"]})}}return e})()},{path:"",component:bK,canActivate:[sr]},{path:"create",component:EQ,canActivate:[sr]},{path:"calendar",component:$Q,canActivate:[sr]},{path:"metrics",component:AQ,canActivate:[sr]},{path:"review",component:FQ,canActivate:[sr]},{path:"identity",component:UQ,canActivate:[sr]},{path:"tips",component:zQ,canActivate:[sr]},{path:"environment",component:YQ,canActivate:[sr]},{path:"report",component:eZ,canActivate:[sr]},{path:"reflection",component:rZ,canActivate:[sr]}])]}).catch(e=>console.error(e))}},ge=>{ge(ge.s=437)}]);